"use strict";(self.webpackChunktodo_list=self.webpackChunktodo_list||[]).push([[179],{2011:(lt,Ae,k)=>{k.d(Ae,{hO:()=>ze,xv:()=>ce,Dh:()=>he,GT:()=>ge,cc:()=>Me,on:()=>$,pX:()=>X});var f=k(5e3),Y=k(127),O=k(5813);lt=k.hmd(lt);const ue=["ngOnDestroy"],X=(be,nt,Ye,Ie={})=>new Proxy(be,{get:(_e,Ee)=>Ye.runOutsideAngular(()=>{var Ge;if(be[Ee])return(null===(Ge=null==Ie?void 0:Ie.spy)||void 0===Ge?void 0:Ge.get)&&Ie.spy.get(Ee,be[Ee]),be[Ee];if(ue.indexOf(Ee)>-1)return()=>{};const $e=nt.toPromise().then(te=>{const W=te&&te[Ee];return"function"==typeof W?W.bind(te):W&&W.then?W.then(ie=>Ye.run(()=>ie)):Ye.run(()=>W)});return new Proxy(()=>{},{get:(te,W)=>$e[W],apply:(te,W,ie)=>$e.then(me=>{var se;const ke=me&&me(...ie);return(null===(se=null==Ie?void 0:Ie.spy)||void 0===se?void 0:se.apply)&&Ie.spy.apply(Ee,ie,ke),ke})})})}),ge=(be,nt)=>{nt.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(Ie=>{Object.defineProperty(be.prototype,Ie,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,Ie))})})};class re{constructor(nt){return nt}}const he=new f.OlP("angularfire2.app.options"),ce=new f.OlP("angularfire2.app.name");function $(be,nt,Ye){const _e="object"==typeof Ye&&Ye||{};_e.name=_e.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const Ge=Y.Z.apps.filter($e=>$e&&$e.name===_e.name)[0]||nt.runOutsideAngular(()=>Y.Z.initializeApp(be,_e));try{JSON.stringify(be)!==JSON.stringify(Ge.options)&&H("error",`${Ge.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch($e){}return new re(Ge)}const H=(be,...nt)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[be](...nt)},J={provide:re,useFactory:$,deps:[he,f.R0b,[new f.FiY,ce]]};let ze=(()=>{class be{constructor(Ye){Y.Z.registerVersion("angularfire",O.q4.full,"core"),Y.Z.registerVersion("angularfire",O.q4.full,"app-compat"),Y.Z.registerVersion("angular",f.q4F.full,Ye.toString())}static initializeApp(Ye,Ie){return{ngModule:be,providers:[{provide:he,useValue:Ye},{provide:ce,useValue:Ie}]}}}return be.\u0275fac=function(Ye){return new(Ye||be)(f.LFG(f.Lbi))},be.\u0275mod=f.oAB({type:be}),be.\u0275inj=f.cJS({providers:[J]}),be})();function Me(be,nt,Ye,Ie,_e){const[,Ee,Ge]=globalThis.\u0275AngularfireInstanceCache.find($e=>$e[0]===be)||[];if(Ee)return function Pe(be,nt){try{return be.toString()===nt.toString()}catch(Ye){return be===nt}}(_e,Ge)||(fe("error",`${nt} was already initialized on the ${Ye} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:_e,was:Ge})),Ee;{const $e=Ie();return globalThis.\u0275AngularfireInstanceCache.push([be,$e,_e]),$e}}const Ve=!!lt.hot,fe=(be,...nt)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[be](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(lt,Ae,k)=>{k.d(Ae,{q4:()=>$l,iC:()=>Wl,HU:()=>ku,vb:()=>od,JM:()=>eo});var f=k(5e3),Y=k(5867),O=k(5861),ue=k(9681),X=k(2090),ge=k(4859),re=k(1877);const he="@firebase/installations",H="w:0.5.7",J="FIS_v2",be=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function nt(C){return C instanceof X.ZR&&C.code.includes("request-failed")}function Ye({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ie(C){return{token:C.token,requestStatus:2,expiresIn:ie(C.expiresIn),creationTime:Date.now()}}function _e(C,I){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,O.Z)(function*(C,I){const L=(yield I.json()).error;return be.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ge({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function $e(C,{refreshToken:I}){const R=Ge(C);return R.append("Authorization",function me(C){return`${J} ${C}`}(I)),R}function te(C){return W.apply(this,arguments)}function W(){return(W=(0,O.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function ie(C){return Number(C.replace("s","000"))}function se(C,I){return ke.apply(this,arguments)}function ke(){return(ke=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:R}){const L=Ye(C),K=Ge(C),ee=I.getImmediate({optional:!0});if(ee){const Ct=yield ee.getHeartbeatsHeader();Ct&&K.append("x-firebase-client",Ct)}const Re={method:"POST",headers:K,body:JSON.stringify({fid:R,authVersion:J,appId:C.appId,sdkVersion:H})},Je=yield te(()=>fetch(L,Re));if(Je.ok){const Ct=yield Je.json();return{fid:Ct.fid||R,registrationStatus:2,refreshToken:Ct.refreshToken,authToken:Ie(Ct.authToken)}}throw yield _e("Create Installation",Je)})).apply(this,arguments)}function ae(C){return new Promise(I=>{setTimeout(I,C)})}const Xt=/^[cdef][\w-]{21}$/;function ct(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function vt(C){return function Tt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Xt.test(R)?R:""}catch(C){return""}}function cn(C){return`${C.appName}!${C.appId}`}const dn=new Map;function Mi(C,I){const R=cn(C);en(R,I),function zt(C,I){const R=function ri(){return!dr&&"BroadcastChannel"in self&&(dr=new BroadcastChannel("[Firebase] FID Change"),dr.onmessage=C=>{en(C.data.key,C.data.fid)}),dr}();R&&R.postMessage({key:C,fid:I}),function Ns(){0===dn.size&&dr&&(dr.close(),dr=null)}()}(R,I)}function en(C,I){const R=dn.get(C);if(R)for(const L of R)L(I)}let dr=null;const kr="firebase-installations-store";let ls=null;function cs(){return ls||(ls=(0,X.X3)("firebase-installations-database",1,(C,I)=>{0===I&&C.createObjectStore(kr)})),ls}function ht(C,I){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,O.Z)(function*(C,I){const R=cn(C),K=(yield cs()).transaction(kr,"readwrite"),ee=K.objectStore(kr),xe=yield ee.get(R);return yield ee.put(I,R),yield K.complete,(!xe||xe.fid!==I.fid)&&Mi(C,I.fid),I})).apply(this,arguments)}function rr(C){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,O.Z)(function*(C){const I=cn(C),L=(yield cs()).transaction(kr,"readwrite");yield L.objectStore(kr).delete(I),yield L.complete})).apply(this,arguments)}function ii(C,I){return co.apply(this,arguments)}function co(){return(co=(0,O.Z)(function*(C,I){const R=cn(C),K=(yield cs()).transaction(kr,"readwrite"),ee=K.objectStore(kr),xe=yield ee.get(R),Re=I(xe);return void 0===Re?yield ee.delete(R):yield ee.put(Re,R),yield K.complete,Re&&(!xe||xe.fid!==Re.fid)&&Mi(C,Re.fid),Re})).apply(this,arguments)}function En(C){return ir.apply(this,arguments)}function ir(){return(ir=(0,O.Z)(function*(C){let I;const R=yield ii(C.appConfig,L=>{const K=Os(L),ee=Ca(C,K);return I=ee.registrationPromise,ee.installationEntry});return""===R.fid?{installationEntry:yield I}:{installationEntry:R,registrationPromise:I}})).apply(this,arguments)}function Os(C){return Ht(C||{fid:ct(),registrationStatus:0})}function Ca(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(be.create("app-offline"))};const R={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Wt(C,I){return at.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Dt(C)}:{installationEntry:I}}function at(){return(at=(0,O.Z)(function*(C,I){try{const R=yield se(C,I);return ht(C.appConfig,R)}catch(R){throw nt(R)&&409===R.customData.serverCode?yield rr(C.appConfig):yield ht(C.appConfig,{fid:I.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Dt(C){return hr.apply(this,arguments)}function hr(){return(hr=(0,O.Z)(function*(C){let I=yield Zi(C.appConfig);for(;1===I.registrationStatus;)yield ae(100),I=yield Zi(C.appConfig);if(0===I.registrationStatus){const{installationEntry:R,registrationPromise:L}=yield En(C);return L||R}return I})).apply(this,arguments)}function Zi(C){return ii(C,I=>{if(!I)throw be.create("installation-not-found");return Ht(I)})}function Ht(C){return function ho(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Er(C,I){return fr.apply(this,arguments)}function fr(){return(fr=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:I},R){const L=ft(C,R),K=$e(C,R),ee=I.getImmediate({optional:!0});if(ee){const Ct=yield ee.getHeartbeatsHeader();Ct&&K.append("x-firebase-client",Ct)}const Re={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:H,appId:C.appId}})},Je=yield te(()=>fetch(L,Re));if(Je.ok)return Ie(yield Je.json());throw yield _e("Generate Auth Token",Je)})).apply(this,arguments)}function ft(C,{fid:I}){return`${Ye(C)}/${I}/authTokens:generate`}function wr(C){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,O.Z)(function*(C,I=!1){let R;const L=yield ii(C.appConfig,ee=>{if(!Vt(ee))throw be.create("not-registered");const xe=ee.authToken;if(!I&&j(xe))return ee;if(1===xe.requestStatus)return R=Qe(C,I),ee;{if(!navigator.onLine)throw be.create("app-offline");const Re=q(ee);return R=pt(C,Re),Re}});return R?yield R:L.authToken})).apply(this,arguments)}function Qe(C,I){return Te.apply(this,arguments)}function Te(){return(Te=(0,O.Z)(function*(C,I){let R=yield Xe(C.appConfig);for(;1===R.authToken.requestStatus;)yield ae(100),R=yield Xe(C.appConfig);const L=R.authToken;return 0===L.requestStatus?wr(C,I):L})).apply(this,arguments)}function Xe(C){return ii(C,I=>{if(!Vt(I))throw be.create("not-registered");return function de(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function pt(C,I){return jt.apply(this,arguments)}function jt(){return(jt=(0,O.Z)(function*(C,I){try{const R=yield Er(C,I),L=Object.assign(Object.assign({},I),{authToken:R});return yield ht(C.appConfig,L),R}catch(R){if(!nt(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield ht(C.appConfig,L)}else yield rr(C.appConfig);throw R}})).apply(this,arguments)}function Vt(C){return void 0!==C&&2===C.registrationStatus}function j(C){return 2===C.requestStatus&&!function V(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function q(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function Be(){return(Be=(0,O.Z)(function*(C){const I=C,{installationEntry:R,registrationPromise:L}=yield En(I);return L?L.catch(console.error):wr(I).catch(console.error),R.fid})).apply(this,arguments)}function Yt(){return(Yt=(0,O.Z)(function*(C,I=!1){const R=C;return yield br(R),(yield wr(R,I)).token})).apply(this,arguments)}function br(C){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,O.Z)(function*(C){const{registrationPromise:I}=yield En(C);I&&(yield I)})).apply(this,arguments)}function Jn(C){return be.create("missing-app-config-values",{valueName:C})}const Ta="installations",Fe=C=>{const I=C.getProvider("app").getImmediate(),R=function ds(C){if(!C||!C.options)throw Jn("App Configuration");if(!C.name)throw Jn("App Name");const I=["projectId","apiKey","appId"];for(const R of I)if(!C.options[R])throw Jn(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:R,heartbeatServiceProvider:(0,ue._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Ft=C=>{const I=C.getProvider("app").getImmediate(),R=(0,ue._getProvider)(I,Ta).getImmediate();return{getId:()=>function Q(C){return Be.apply(this,arguments)}(R),getToken:K=>function Et(C){return Yt.apply(this,arguments)}(R,K)}};(function gn(){(0,ue._registerComponent)(new ge.wA(Ta,Fe,"PUBLIC")),(0,ue._registerComponent)(new ge.wA("installations-internal",Ft,"PRIVATE"))})(),(0,ue.registerVersion)(he,"0.5.7"),(0,ue.registerVersion)(he,"0.5.7","esm2017");const pr="@firebase/remote-config",On=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class kh{constructor(I,R,L,K){this.client=I,this.storage=R,this.storageCache=L,this.logger=K}isCachedDataFresh(I,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-R,K=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${K}.`),K}fetch(I){var R=this;return(0,O.Z)(function*(){const[L,K]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(K&&R.isCachedDataFresh(I.cacheMaxAgeMillis,L))return K;I.eTag=K&&K.eTag;const ee=yield R.client.fetch(I),xe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&xe.push(R.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(xe),ee})()}}function Bc(C=navigator){return C.languages&&C.languages[0]||C.language}class fu{constructor(I,R,L,K,ee,xe){this.firebaseInstallations=I,this.sdkVersion=R,this.namespace=L,this.projectId=K,this.apiKey=ee,this.appId=xe}fetch(I){var R=this;return(0,O.Z)(function*(){const[L,K]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Re={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Je={sdk_version:R.sdkVersion,app_instance_id:L,app_instance_id_token:K,app_id:R.appId,language_code:Bc()},Ct={method:"POST",headers:Re,body:JSON.stringify(Je)},Pt=fetch(xe,Ct),St=new Promise((pi,Bi)=>{I.signal.addEventListener(()=>{const Mo=new Error("The operation was aborted.");Mo.name="AbortError",Bi(Mo)})});let qn;try{yield Promise.race([Pt,St]),qn=yield Pt}catch(pi){let Bi="fetch-client-network";throw"AbortError"===pi.name&&(Bi="fetch-timeout"),On.create(Bi,{originalErrorMessage:pi.message})}let Mn=qn.status;const ia=qn.headers.get("ETag")||void 0;let So,Lr;if(200===qn.status){let pi;try{pi=yield qn.json()}catch(Bi){throw On.create("fetch-client-parse",{originalErrorMessage:Bi.message})}So=pi.entries,Lr=pi.state}if("INSTANCE_STATE_UNSPECIFIED"===Lr?Mn=500:"NO_CHANGE"===Lr?Mn=304:("NO_TEMPLATE"===Lr||"EMPTY_CONFIG"===Lr)&&(So={}),304!==Mn&&200!==Mn)throw On.create("fetch-status",{httpStatus:Mn});return{status:Mn,eTag:ia,config:So}})()}}class Wp{constructor(I,R){this.client=I,this.storage=R}fetch(I){var R=this;return(0,O.Z)(function*(){const L=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:R,backoffCount:L}){var K=this;return(0,O.Z)(function*(){yield function $n(C,I){return new Promise((R,L)=>{const K=Math.max(I-Date.now(),0),ee=setTimeout(R,K);C.addEventListener(()=>{clearTimeout(ee),L(On.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,R);try{const ee=yield K.client.fetch(I);return yield K.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function Uc(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ee))throw ee;const xe={throttleEndTimeMillis:Date.now()+(0,X.$s)(L),backoffCount:L+1};return yield K.storage.setThrottleMetadata(xe),K.attemptFetch(I,xe)}})()}}class pu{constructor(I,R,L,K,ee){this.app=I,this._client=R,this._storageCache=L,this._storage=K,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _l(C,I){const R=C.target.error||void 0;return On.create(I,{originalErrorMessage:R&&R.message})}const Vs="app_namespace_store";class Ph{constructor(I,R,L,K=function Yp(){return new Promise((C,I)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=L=>{I(_l(L,"storage-open"))},R.onsuccess=L=>{C(L.target.result)},R.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Vs,{keyPath:"compositeKey"})}}catch(R){I(On.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=I,this.appName=R,this.namespace=L,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((K,ee)=>{const Re=L.transaction([Vs],"readonly").objectStore(Vs),Je=R.createCompositeKey(I);try{const Ct=Re.get(Je);Ct.onerror=Pt=>{ee(_l(Pt,"storage-get"))},Ct.onsuccess=Pt=>{const St=Pt.target.result;K(St?St.value:void 0)}}catch(Ct){ee(On.create("storage-get",{originalErrorMessage:Ct&&Ct.message}))}})})()}set(I,R){var L=this;return(0,O.Z)(function*(){const K=yield L.openDbPromise;return new Promise((ee,xe)=>{const Je=K.transaction([Vs],"readwrite").objectStore(Vs),Ct=L.createCompositeKey(I);try{const Pt=Je.put({compositeKey:Ct,value:R});Pt.onerror=St=>{xe(_l(St,"storage-set"))},Pt.onsuccess=()=>{ee()}}catch(Pt){xe(On.create("storage-set",{originalErrorMessage:Pt&&Pt.message}))}})})()}delete(I){var R=this;return(0,O.Z)(function*(){const L=yield R.openDbPromise;return new Promise((K,ee)=>{const Re=L.transaction([Vs],"readwrite").objectStore(Vs),Je=R.createCompositeKey(I);try{const Ct=Re.delete(Je);Ct.onerror=Pt=>{ee(_l(Pt,"storage-delete"))},Ct.onsuccess=()=>{K()}}catch(Ct){ee(On.create("storage-delete",{originalErrorMessage:Ct&&Ct.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class $c{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,O.Z)(function*(){const R=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),K=I.storage.getActiveConfig(),ee=yield R;ee&&(I.lastFetchStatus=ee);const xe=yield L;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const Re=yield K;Re&&(I.activeConfig=Re)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function po(){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,O.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}!function qo(){(0,ue._registerComponent)(new ge.wA("remote-config",function C(I,{instanceIdentifier:R}){const L=I.getProvider("app").getImmediate(),K=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw On.create("registration-window");if(!(0,X.hl)())throw On.create("indexed-db-unavailable");const{projectId:ee,apiKey:xe,appId:Re}=L.options;if(!ee)throw On.create("registration-project-id");if(!xe)throw On.create("registration-api-key");if(!Re)throw On.create("registration-app-id");const Je=new Ph(Re,L.name,R=R||"firebase"),Ct=new $c(Je),Pt=new re.Yd(pr);Pt.logLevel=re.in.ERROR;const St=new fu(K,ue.SDK_VERSION,R,ee,xe,Re),qn=new Wp(St,Je),Mn=new kh(qn,Je,Ct,Pt),ia=new pu(L,Mn,Ct,Je,Pt);return function xi(C){const I=(0,X.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ia),ia},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(pr,"0.3.6"),(0,ue.registerVersion)(pr,"0.3.6","esm2017")}();const vl="/firebase-messaging-sw.js",Bs="/firebase-cloud-messaging-push-scope",Zr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",go="google.c.a.c_id",Sa="google.c.a.c_l",Hc="google.c.a.ts",Qp="google.c.a.e";var Us=(()=>{return(C=Us||(Us={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",Us;var C})();function ai(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mu(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(R),K=new Uint8Array(L.length);for(let ee=0;ee<L.length;++ee)K[ee]=L.charCodeAt(ee);return K}const yu="fcm_token_details_db",gr="fcm_token_object_Store";function Lh(C){return _u.apply(this,arguments)}function _u(){return _u=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(yu))return null;let I=null;return(yield(0,X.X3)(yu,5,function(){var L=(0,O.Z)(function*(K,ee,xe,Re){var Je;if(ee<2||!K.objectStoreNames.contains(gr))return;const Ct=Re.objectStore(gr),Pt=yield Ct.index("fcmSenderId").get(C);if(yield Ct.clear(),Pt)if(2===ee){const St=Pt;if(!St.auth||!St.p256dh||!St.endpoint)return;I={token:St.fcmToken,createTime:null!==(Je=St.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:ai(St.vapidKey)}}}else if(3===ee){const St=Pt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:ai(St.auth),p256dh:ai(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:ai(St.vapidKey)}}}else if(4===ee){const St=Pt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:ai(St.auth),p256dh:ai(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:ai(St.vapidKey)}}}});return function(K,ee,xe,Re){return L.apply(this,arguments)}}())).close(),yield(0,X.Lj)(yu),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),Gc(I)?I:null}),_u.apply(this,arguments)}function Gc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const ms="firebase-messaging-store";let Ma=null;function El(){return Ma||(Ma=(0,X.X3)("firebase-messaging-database",1,(C,I)=>{0===I&&C.createObjectStore(ms)})),Ma}function yn(C){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,O.Z)(function*(C){const I=yo(C),L=yield(yield El()).transaction(ms).objectStore(ms).get(I);if(L)return L;{const K=yield Lh(C.appConfig.senderId);if(K)return yield js(C,K),K}})).apply(this,arguments)}function js(C,I){return ln.apply(this,arguments)}function ln(){return(ln=(0,O.Z)(function*(C,I){const R=yo(C),K=(yield El()).transaction(ms,"readwrite");return yield K.objectStore(ms).put(I,R),yield K.complete,I})).apply(this,arguments)}function qc(C){return mo.apply(this,arguments)}function mo(){return(mo=(0,O.Z)(function*(C){const I=yo(C),L=(yield El()).transaction(ms,"readwrite");yield L.objectStore(ms).delete(I),yield L.complete})).apply(this,arguments)}function yo({appConfig:C}){return C.appId}const kn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function xa(C,I){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,O.Z)(function*(C,I){const R=yield Hs(C),L=gt(I),K={method:"POST",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(Yr(C.appConfig),K)).json()}catch(xe){throw kn.create("token-subscribe-failed",{errorInfo:xe})}if(ee.error)throw kn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw kn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Tr(C,I){return $s.apply(this,arguments)}function $s(){return($s=(0,O.Z)(function*(C,I){const R=yield Hs(C),L=gt(I.subscriptionOptions),K={method:"PATCH",headers:R,body:JSON.stringify(L)};let ee;try{ee=yield(yield fetch(`${Yr(C.appConfig)}/${I.token}`,K)).json()}catch(xe){throw kn.create("token-update-failed",{errorInfo:xe})}if(ee.error)throw kn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw kn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function ys(C,I){return wu.apply(this,arguments)}function wu(){return(wu=(0,O.Z)(function*(C,I){const L={method:"DELETE",headers:yield Hs(C)};try{const ee=yield(yield fetch(`${Yr(C.appConfig)}/${I}`,L)).json();if(ee.error)throw kn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(K){throw kn.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function Yr({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function Hs(C){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,O.Z)(function*({appConfig:C,installations:I}){const R=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function gt({p256dh:C,auth:I,endpoint:R,vapidKey:L}){const K={web:{endpoint:R,auth:I,p256dh:C}};return L!==Zr&&(K.web.applicationPubKey=L),K}const bu=6048e5;function Ra(C){return Du.apply(this,arguments)}function Du(){return(Du=(0,O.Z)(function*(C){const I=yield Dl(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:ai(I.getKey("auth")),p256dh:ai(I.getKey("p256dh"))},L=yield yn(C.firebaseDependencies);if(L){if(Ko(L.subscriptionOptions,R))return Date.now()>=L.createTime+bu?wl(C,{token:L.token,createTime:Date.now(),subscriptionOptions:R}):L.token;try{yield ys(C.firebaseDependencies,L.token)}catch(K){console.warn(K)}return Ce(C.firebaseDependencies,R)}return Ce(C.firebaseDependencies,R)})).apply(this,arguments)}function Cu(C){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,O.Z)(function*(C){const I=yield yn(C.firebaseDependencies);I&&(yield ys(C.firebaseDependencies,I.token),yield qc(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function wl(C,I){return bl.apply(this,arguments)}function bl(){return(bl=(0,O.Z)(function*(C,I){try{const R=yield Tr(C.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:R,createTime:Date.now()});return yield js(C.firebaseDependencies,L),R}catch(R){throw yield Cu(C),R}})).apply(this,arguments)}function Ce(C,I){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,O.Z)(function*(C,I){const L={token:yield xa(C,I),createTime:Date.now(),subscriptionOptions:I};return yield js(C,L),L.token})).apply(this,arguments)}function Dl(C,I){return wn.apply(this,arguments)}function wn(){return(wn=(0,O.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:mu(I)})})).apply(this,arguments)}function Ko(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function Zo(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Qr(C,I){if(!I.notification)return;C.notification={};const R=I.notification.title;R&&(C.notification.title=R);const L=I.notification.body;L&&(C.notification.body=L);const K=I.notification.image;K&&(C.notification.image=K)}(I,C),function Cl(C,I){!I.data||(C.data=I.data)}(I,C),function Il(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const R=I.fcmOptions.link;R&&(C.fcmOptions.link=R);const L=I.fcmOptions.analytics_label;L&&(C.fcmOptions.analyticsLabel=L)}(I,C),I}function zc(C){return"object"==typeof C&&!!C&&go in C}function Tl(C,I){const R=[];for(let L=0;L<C.length;L++)R.push(C.charAt(L)),L<I.length&&R.push(I.charAt(L));return R.join("")}function qs(C){return kn.create("missing-app-config-values",{valueName:C})}Tl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Tl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class mr{constructor(I,R,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Tu(C){if(!C||!C.options)throw qs("App Configuration Object");if(!C.name)throw qs("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const L of I)if(!R[L])throw qs(L);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:K,installations:R,analyticsProvider:L}}_delete(){return Promise.resolve()}}function ui(C){return Au.apply(this,arguments)}function Au(){return(Au=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(vl,{scope:Bs}),C.swRegistration.update().catch(()=>{})}catch(I){throw kn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function zs(C,I){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,O.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield ui(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function Al(C,I){return Su.apply(this,arguments)}function Su(){return(Su=(0,O.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=Zr)})).apply(this,arguments)}function Sl(){return(Sl=(0,O.Z)(function*(C,I){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield Al(C,null==I?void 0:I.vapidKey),yield zs(C,null==I?void 0:I.serviceWorkerRegistration),Ra(C)})).apply(this,arguments)}function Na(C,I,R){return _o.apply(this,arguments)}function _o(){return(_o=(0,O.Z)(function*(C,I,R){const L=Ml(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:R[go],message_name:R[Sa],message_time:R[Hc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ml(C){switch(C){case Us.NOTIFICATION_CLICKED:return"notification_open";case Us.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Wc(){return(Wc=(0,O.Z)(function*(C,I){const R=I.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===Us.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Zo(R)):C.onMessageHandler.next(Zo(R)));const L=R.data;zc(L)&&"1"===L[Qp]&&(yield Na(C,R.messageType,L))})).apply(this,arguments)}const Rl="@firebase/messaging",Kc=C=>{const I=new mr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function xl(C,I){return Wc.apply(this,arguments)}(I,R)),I},Eo=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:L=>function Mu(C,I){return Sl.apply(this,arguments)}(I,L)}};function Yc(){return wo.apply(this,arguments)}function wo(){return(wo=(0,O.Z)(function*(){try{yield(0,X.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zc(){(0,ue._registerComponent)(new ge.wA("messaging",Kc,"PUBLIC")),(0,ue._registerComponent)(new ge.wA("messaging-internal",Eo,"PRIVATE")),(0,ue.registerVersion)(Rl,"0.9.11"),(0,ue.registerVersion)(Rl,"0.9.11","esm2017")}();const Ol="analytics",Ly="firebase_id",Oa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xu="https://www.googletagmanager.com/gtag/js",Hn=new re.Yd("@firebase/analytics");function Jc(C){return Promise.all(C.map(I=>I.catch(R=>R)))}function Jp(C,I){const R=document.createElement("script");R.src=`${xu}?l=${C}&id=${I}`,R.async=!0,document.head.appendChild(R)}function Yo(C,I,R,L,K,ee){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,O.Z)(function*(C,I,R,L,K,ee){const xe=L[K];try{if(xe)yield I[xe];else{const Je=(yield Jc(R)).find(Ct=>Ct.measurementId===K);Je&&(yield I[Je.appId])}}catch(Re){Hn.error(Re)}C("config",K,ee)})).apply(this,arguments)}function Pl(C,I,R,L,K){return bo.apply(this,arguments)}function bo(){return(bo=(0,O.Z)(function*(C,I,R,L,K){try{let ee=[];if(K&&K.send_to){let xe=K.send_to;Array.isArray(xe)||(xe=[xe]);const Re=yield Jc(R);for(const Je of xe){const Ct=Re.find(St=>St.measurementId===Je),Pt=Ct&&I[Ct.appId];if(!Pt){ee=[];break}ee.push(Pt)}}0===ee.length&&(ee=Object.values(I)),yield Promise.all(ee),C("event",L,K||{})}catch(ee){Hn.error(ee)}})).apply(this,arguments)}function Xp(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(xu))return I;return null}const Fn=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Pr=new class Jr{constructor(I={},R=1e3){this.throttleMetadata=I,this.intervalMillis=R}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,R){this.throttleMetadata[I]=R}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Qo(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function td(C){return mn.apply(this,arguments)}function mn(){return(mn=(0,O.Z)(function*(C){var I;const{appId:R,apiKey:L}=C,K={method:"GET",headers:Qo(L)},ee=Oa.replace("{app-id}",R),xe=yield fetch(ee,K);if(200!==xe.status&&304!==xe.status){let Re="";try{const Je=yield xe.json();(null===(I=Je.error)||void 0===I?void 0:I.message)&&(Re=Je.error.message)}catch(Je){}throw Fn.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:Re})}return xe.json()})).apply(this,arguments)}function Bh(C){return ki.apply(this,arguments)}function ki(){return(ki=(0,O.Z)(function*(C,I=Pr,R){const{appId:L,apiKey:K,measurementId:ee}=C.options;if(!L)throw Fn.create("no-app-id");if(!K){if(ee)return{measurementId:ee,appId:L};throw Fn.create("no-api-key")}const xe=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new Fl;return setTimeout((0,O.Z)(function*(){Re.abort()}),void 0!==R?R:6e4),Ru({appId:L,apiKey:K,measurementId:ee},xe,Re,I)})).apply(this,arguments)}function Ru(C,I,R){return li.apply(this,arguments)}function li(){return(li=(0,O.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:R},L,K=Pr){const{appId:ee,measurementId:xe}=C;try{yield kt(L,I)}catch(Re){if(xe)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Re.message}]`),{appId:ee,measurementId:xe};throw Re}try{const Re=yield td(C);return K.deleteThrottleMetadata(ee),Re}catch(Re){if(!nd(Re)){if(K.deleteThrottleMetadata(ee),xe)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Re.message}]`),{appId:ee,measurementId:xe};throw Re}const Je=503===Number(Re.customData.httpStatus)?(0,X.$s)(R,K.intervalMillis,30):(0,X.$s)(R,K.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+Je,backoffCount:R+1};return K.setThrottleMetadata(ee,Ct),Hn.debug(`Calling attemptFetch again in ${Je} millis`),Ru(C,Ct,L,K)}})).apply(this,arguments)}function kt(C,I){return new Promise((R,L)=>{const K=Math.max(I-Date.now(),0),ee=setTimeout(R,K);C.addEventListener(()=>{clearTimeout(ee),L(Fn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function nd(C){if(!(C instanceof X.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Fl{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Ll(){return Do.apply(this,arguments)}function Do(){return(Do=(0,O.Z)(function*(){if(!(0,X.hl)())return Hn.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(C){return Hn.warn(Fn.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function Es(){return(Es=(0,O.Z)(function*(C,I,R,L,K,ee,xe){var Re;const Je=Bh(C);Je.then(Mn=>{R[Mn.measurementId]=Mn.appId,C.options.measurementId&&Mn.measurementId!==C.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Mn=>Hn.error(Mn)),I.push(Je);const Ct=Ll().then(Mn=>{if(Mn)return L.getId()}),[Pt,St]=yield Promise.all([Je,Ct]);Xp()||Jp(ee,Pt.measurementId),K("js",new Date);const qn=null!==(Re=null==xe?void 0:xe.config)&&void 0!==Re?Re:{};return qn.origin="firebase",qn.update=!0,null!=St&&(qn[Ly]=St),K("config",Pt.measurementId,qn),Pt.measurementId})).apply(this,arguments)}class Jo{constructor(I){this.app=I}_delete(){return delete ci[this.app.options.appId],Promise.resolve()}}let ci={},Zs=[];const di={};let Ys,Ji,Qi="dataLayer",Bl=!1;function Pi(C,I,R){!function Co(){const C=[];if((0,X.ru)()&&C.push("This is a browser extension environment."),(0,X.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((L,K)=>`(${K+1}) ${L}`).join(" "),R=Fn.create("invalid-analytics-context",{errorInfo:I});Hn.warn(R.message)}}();const L=C.options.appId;if(!L)throw Fn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Fn.create("no-api-key");Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ci[L])throw Fn.create("already-exists",{id:L});if(!Bl){!function vs(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(Qi);const{wrappedGtag:ee,gtagCore:xe}=function Vh(C,I,R,L,K){let ee=function(...xe){window[L].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ee=window[K]),window[K]=function ed(C,I,R,L){function ee(){return(ee=(0,O.Z)(function*(xe,Re,Je){try{"event"===xe?yield Pl(C,I,R,Re,Je):"config"===xe?yield Yo(C,I,R,L,Re,Je):C("set",Re)}catch(Ct){Hn.error(Ct)}})).apply(this,arguments)}return function K(xe,Re,Je){return ee.apply(this,arguments)}}(ee,C,I,R),{gtagCore:ee,wrappedGtag:window[K]}}(ci,Zs,di,Qi,"gtag");Ji=ee,Ys=xe,Bl=!0}return ci[L]=function Gn(C,I,R,L,K,ee,xe){return Es.apply(this,arguments)}(C,Zs,di,I,Ys,Qi,R),new Jo(C)}function ea(){return(ea=(0,O.Z)(function*(C,I,R,L,K){if(K&&K.global)C("event",R,L);else{const ee=yield I;C("event",R,Object.assign(Object.assign({},L),{send_to:ee}))}})).apply(this,arguments)}function Cn(){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,O.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}const Js="@firebase/analytics";!function rg(){(0,ue._registerComponent)(new ge.wA(Ol,(I,{options:R})=>Pi(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ue._registerComponent)(new ge.wA("analytics-internal",function C(I){try{const R=I.getProvider(Ol).getImmediate();return{logEvent:(L,K,ee)=>function ng(C,I,R,L){C=(0,X.m9)(C),function Xo(C,I,R,L,K){return ea.apply(this,arguments)}(Ji,ci[C.app.options.appId],I,R,L).catch(K=>Hn.error(K))}(R,L,K,ee)}}catch(R){throw Fn.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ue.registerVersion)(Js,"0.7.7"),(0,ue.registerVersion)(Js,"0.7.7","esm2017")}();var Xs=k(4408),Nu=k(7565);const Ul=new class In extends Nu.v{}(class ws extends Xs.o{constructor(I,R){super(I,R),this.scheduler=I,this.work=R}schedule(I,R=0){return R>0?super.schedule(I,R):(this.delay=R,this.state=I,this.scheduler.flush(this),this)}execute(I,R){return R>0||this.closed?super.execute(I,R):this._execute(I,R)}requestAsyncId(I,R,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,R,L):I.flush(this)}});var ig=k(4986),jl=k(8505),Mr=k(9468),hi=k(5363);const $l=new f.GfV("7.3.0"),bs="__angularfire_symbol__analyticsIsSupportedValue",Vi="__angularfire_symbol__analyticsIsSupported",ts="__angularfire_symbol__remoteConfigIsSupportedValue",ka="__angularfire_symbol__remoteConfigIsSupported",Hl="__angularfire_symbol__messagingIsSupportedValue",Gl="__angularfire_symbol__messagingIsSupported";function eo(C,I,R){if(I){if(1===I.length)return I[0];const ee=I.filter(xe=>xe.app===R);if(1===ee.length)return ee[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[Vi]||(globalThis[Vi]=Cn().then(C=>globalThis[bs]=C).catch(()=>globalThis[bs]=!1)),globalThis[Gl]||(globalThis[Gl]=Yc().then(C=>globalThis[Hl]=C).catch(()=>globalThis[Hl]=!1)),globalThis[ka]||(globalThis[ka]=po().then(C=>globalThis[ts]=C).catch(()=>globalThis[ts]=!1));const od=(C,I)=>{const R=I?[I]:(0,Y.C6)(),L=[];return R.forEach(K=>{K.container.getProvider(C).instances.forEach(xe=>{L.includes(xe)||L.push(xe)})}),L};function To(){}class Ou{constructor(I,R=Ul){this.zone=I,this.delegate=R}now(){return this.delegate.now()}schedule(I,R,L){const K=this.zone;return this.delegate.schedule(function(xe){K.runGuarded(()=>{I.apply(this,[xe])})},R,L)}}class ns{constructor(I){this.zone=I,this.task=null}call(I,R){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",To,{},To,To)),R.pipe((0,jl.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ku=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Ou(Zone.current)),this.insideAngular=R.run(()=>new Ou(Zone.current,ig.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(f.LFG(f.R0b))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function rs(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Wl(C){return rs(),function Ao(C){return function(R){return(R=R.lift(new ns(C.ngZone))).pipe((0,Mr.R)(C.outsideAngular),(0,hi.Q)(C.insideAngular))}}(rs())(C)}},2090:(lt,Ae,k)=>{k.d(Ae,{BH:()=>Me,LL:()=>Tt,ZR:()=>ae,zI:()=>me,US:()=>re,tV:()=>$,L:()=>ce,$s:()=>ho,r3:()=>en,Sg:()=>Pe,ne:()=>ht,vZ:()=>Ns,ZB:()=>J,Lj:()=>jt,pd:()=>ls,m9:()=>ft,z$:()=>Ve,jU:()=>nt,ru:()=>Ye,d:()=>_e,xb:()=>dr,w1:()=>Ee,hl:()=>W,uI:()=>fe,UG:()=>be,b$:()=>Ie,G6:()=>te,Mn:()=>Ge,X3:()=>pt,xO:()=>Ki,zd:()=>kr,eu:()=>ie});var f=k(5861);const X=function(j){const V=[];let q=0;for(let de=0;de<j.length;de++){let Q=j.charCodeAt(de);Q<128?V[q++]=Q:Q<2048?(V[q++]=Q>>6|192,V[q++]=63&Q|128):55296==(64512&Q)&&de+1<j.length&&56320==(64512&j.charCodeAt(de+1))?(Q=65536+((1023&Q)<<10)+(1023&j.charCodeAt(++de)),V[q++]=Q>>18|240,V[q++]=Q>>12&63|128,V[q++]=Q>>6&63|128,V[q++]=63&Q|128):(V[q++]=Q>>12|224,V[q++]=Q>>6&63|128,V[q++]=63&Q|128)}return V},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,V){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let Q=0;Q<j.length;Q+=3){const Be=j[Q],Et=Q+1<j.length,Yt=Et?j[Q+1]:0,br=Q+2<j.length,Kt=br?j[Q+2]:0;let pn=(15&Yt)<<2|Kt>>6,sr=63&Kt;br||(sr=64,Et||(pn=64)),de.push(q[Be>>2],q[(3&Be)<<4|Yt>>4],q[pn],q[sr])}return de.join("")},encodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(j):this.encodeByteArray(X(j),V)},decodeString(j,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(j):function(j){const V=[];let q=0,de=0;for(;q<j.length;){const Q=j[q++];if(Q<128)V[de++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Be=j[q++];V[de++]=String.fromCharCode((31&Q)<<6|63&Be)}else if(Q>239&&Q<365){const br=((7&Q)<<18|(63&j[q++])<<12|(63&j[q++])<<6|63&j[q++])-65536;V[de++]=String.fromCharCode(55296+(br>>10)),V[de++]=String.fromCharCode(56320+(1023&br))}else{const Be=j[q++],Et=j[q++];V[de++]=String.fromCharCode((15&Q)<<12|(63&Be)<<6|63&Et)}}return V.join("")}(this.decodeStringToByteArray(j,V))},decodeStringToByteArray(j,V){this.init_();const q=V?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let Q=0;Q<j.length;){const Be=q[j.charAt(Q++)],Yt=Q<j.length?q[j.charAt(Q)]:0;++Q;const Kt=Q<j.length?q[j.charAt(Q)]:64;++Q;const Ot=Q<j.length?q[j.charAt(Q)]:64;if(++Q,null==Be||null==Yt||null==Kt||null==Ot)throw Error();de.push(Be<<2|Yt>>4),64!==Kt&&(de.push(Yt<<4&240|Kt>>2),64!==Ot&&de.push(Kt<<6&192|Ot))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ce=function(j){return function(j){const V=X(j);return re.encodeByteArray(V,!0)}(j).replace(/\./g,"")},$=function(j){try{return re.decodeString(j,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function J(j,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return V}for(const q in V)!V.hasOwnProperty(q)||!ze(q)||(j[q]=J(j[q],V[q]));return j}function ze(j){return"__proto__"!==j}class Me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,q)=>{this.resolve=V,this.reject=q})}wrapCallback(V){return(q,de)=>{q?this.reject(q):this.resolve(de),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(q):V(q,de))}}}function Pe(j,V){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=V||"demo-project",Q=j.iat||0,Be=j.sub||j.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:Q,exp:Q+3600,auth_time:Q,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Et)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function nt(){return"object"==typeof self&&self.self===self}function Ye(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return Ve().indexOf("Electron/")>=0}function Ee(){const j=Ve();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Ge(){return Ve().indexOf("MSAppHost/")>=0}function te(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){return"object"==typeof indexedDB}function ie(){return new Promise((j,V)=>{try{let q=!0;const de="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(de);Q.onsuccess=()=>{Q.result.close(),q||self.indexedDB.deleteDatabase(de),j(!0)},Q.onupgradeneeded=()=>{q=!1},Q.onerror=()=>{var Be;V((null===(Be=Q.error)||void 0===Be?void 0:Be.message)||"")}}catch(q){V(q)}})}function me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(V,q,de){super(q),this.code=V,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tt.prototype.create)}}class Tt{constructor(V,q,de){this.service=V,this.serviceName=q,this.errors=de}create(V,...q){const de=q[0]||{},Q=`${this.service}/${V}`,Be=this.errors[V],Et=Be?function Xt(j,V){return j.replace(Nn,(q,de)=>{const Q=V[de];return null!=Q?String(Q):`<${de}?>`})}(Be,de):"Error";return new ae(Q,`${this.serviceName}: ${Et} (${Q}).`,de)}}const Nn=/\{\$([^}]+)}/g;function en(j,V){return Object.prototype.hasOwnProperty.call(j,V)}function dr(j){for(const V in j)if(Object.prototype.hasOwnProperty.call(j,V))return!1;return!0}function Ns(j,V){if(j===V)return!0;const q=Object.keys(j),de=Object.keys(V);for(const Q of q){if(!de.includes(Q))return!1;const Be=j[Q],Et=V[Q];if(Or(Be)&&Or(Et)){if(!Ns(Be,Et))return!1}else if(Be!==Et)return!1}for(const Q of de)if(!q.includes(Q))return!1;return!0}function Or(j){return null!==j&&"object"==typeof j}function Ki(j){const V=[];for(const[q,de]of Object.entries(j))Array.isArray(de)?de.forEach(Q=>{V.push(encodeURIComponent(q)+"="+encodeURIComponent(Q))}):V.push(encodeURIComponent(q)+"="+encodeURIComponent(de));return V.length?"&"+V.join("&"):""}function kr(j){const V={};return j.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[Q,Be]=de.split("=");V[decodeURIComponent(Q)]=decodeURIComponent(Be)}}),V}function ls(j){const V=j.indexOf("?");if(!V)return"";const q=j.indexOf("#",V);return j.substring(V,q>0?q:void 0)}function ht(j,V){const q=new Wr(j,V);return q.subscribe.bind(q)}class Wr{constructor(V,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{V(this)}).catch(de=>{this.error(de)})}next(V){this.forEachObserver(q=>{q.next(V)})}error(V){this.forEachObserver(q=>{q.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,q,de){let Q;if(void 0===V&&void 0===q&&void 0===de)throw new Error("Missing Observer.");Q=function Qn(j,V){if("object"!=typeof j||null===j)return!1;for(const q of V)if(q in j&&"function"==typeof j[q])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:q,complete:de},void 0===Q.next&&(Q.next=ii),void 0===Q.error&&(Q.error=ii),void 0===Q.complete&&(Q.complete=ii);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(Et){}}),this.observers.push(Q),Be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,V)}sendOne(V,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{q(this.observers[V])}catch(de){"undefined"!=typeof console&&console.error&&console.error(de)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ii(){}function ho(j,V=1e3,q=2){const de=V*Math.pow(q,j),Q=Math.round(.5*de*(Math.random()-.5)*2);return Math.min(144e5,de+Q)}function ft(j){return j&&j._delegate?j._delegate:j}function wr(j,V){return new Promise((q,de)=>{j.onsuccess=Q=>{q(Q.target.result)},j.onerror=Q=>{var Be;de(`${V}: ${null===(Be=Q.target.error)||void 0===Be?void 0:Be.message}`)}})}class Ut{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,q){return new Qe(this._db.transaction.call(this._db,V,q))}createObjectStore(V,q){return new Te(this._db.createObjectStore(V,q))}close(){this._db.close()}}class Qe{constructor(V){this._transaction=V,this.complete=new Promise((q,de)=>{this._transaction.oncomplete=function(){q()},this._transaction.onerror=()=>{de(this._transaction.error)},this._transaction.onabort=()=>{de(this._transaction.error)}})}objectStore(V){return new Te(this._transaction.objectStore(V))}}class Te{constructor(V){this._store=V}index(V){return new Xe(this._store.index(V))}createIndex(V,q,de){return new Xe(this._store.createIndex(V,q,de))}get(V){return wr(this._store.get(V),"Error reading from IndexedDB")}put(V,q){return wr(this._store.put(V,q),"Error writing to IndexedDB")}delete(V){return wr(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return wr(this._store.clear(),"Error clearing IndexedDB object store")}}class Xe{constructor(V){this._index=V}get(V){return wr(this._index.get(V),"Error reading from IndexedDB")}}function pt(j,V,q){return new Promise((de,Q)=>{try{const Be=indexedDB.open(j,V);Be.onsuccess=Et=>{de(new Ut(Et.target.result))},Be.onerror=Et=>{var Yt;Q(`Error opening indexedDB: ${null===(Yt=Et.target.error)||void 0===Yt?void 0:Yt.message}`)},Be.onupgradeneeded=Et=>{q(new Ut(Be.result),Et.oldVersion,Et.newVersion,new Qe(Be.transaction))}}catch(Be){Q(`Error opening indexedDB: ${Be.message}`)}})}function jt(j){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(j){return new Promise((V,q)=>{try{const de=indexedDB.deleteDatabase(j);de.onsuccess=()=>{V()},de.onerror=Q=>{var Be;q(`Error deleting indexedDB database "${j}": ${null===(Be=Q.target.error)||void 0===Be?void 0:Be.message}`)}}catch(de){q(`Error deleting indexedDB database "${j}": ${de.message}`)}})})).apply(this,arguments)}},8742:(lt,Ae,k)=>{var f=k(5e3);let Y=null;function O(){return Y}const re=new f.OlP("DocumentToken");let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ce(){return(0,f.LFG)(H)}()},providedIn:"platform"}),n})();const $=new f.OlP("Location Initialized");let H=(()=>{class n extends he{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){J()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){J()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ze(){return new H((0,f.LFG)(re))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function be(n){const e=(0,f.LFG)(re).location;return new Ye((0,f.LFG)(he),e&&e.origin||"")}()},providedIn:"root"}),n})();const nt=new f.OlP("appBaseHref");let Ye=(()=>{class n extends fe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ve(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+Ve(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+Ve(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(he),f.LFG(nt,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+Ve(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+Ve(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(he),f.LFG(nt,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n{constructor(t,r){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Pe($e(i)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ve(r))}normalize(t){return n.stripTrailingSlash(function Ge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,$e(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ve(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=Me,n.stripTrailingSlash=Pe,n.\u0275fac=function(t){return new(t||n)(f.LFG(fe),f.LFG(he))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function Ee(){return new _e((0,f.LFG)(fe),(0,f.LFG)(he))}()},providedIn:"root"}),n})();function $e(n){return n.replace(/\/index.html$/,"")}var me=(()=>((me=me||{})[me.Format=0]="Format",me[me.Standalone=1]="Standalone",me))(),se=(()=>((se=se||{})[se.Narrow=0]="Narrow",se[se.Abbreviated=1]="Abbreviated",se[se.Wide=2]="Wide",se[se.Short=3]="Short",se))(),ke=(()=>((ke=ke||{})[ke.Short=0]="Short",ke[ke.Medium=1]="Medium",ke[ke.Long=2]="Long",ke[ke.Full=3]="Full",ke))(),ae=(()=>((ae=ae||{})[ae.Decimal=0]="Decimal",ae[ae.Group=1]="Group",ae[ae.List=2]="List",ae[ae.PercentSign=3]="PercentSign",ae[ae.PlusSign=4]="PlusSign",ae[ae.MinusSign=5]="MinusSign",ae[ae.Exponential=6]="Exponential",ae[ae.SuperscriptingExponent=7]="SuperscriptingExponent",ae[ae.PerMille=8]="PerMille",ae[ae.Infinity=9]="Infinity",ae[ae.NaN=10]="NaN",ae[ae.TimeSeparator=11]="TimeSeparator",ae[ae.CurrencyDecimal=12]="CurrencyDecimal",ae[ae.CurrencyGroup=13]="CurrencyGroup",ae))();function on(n,e){return rr((0,f.cg1)(n)[f.wAp.DateFormat],e)}function us(n,e){return rr((0,f.cg1)(n)[f.wAp.TimeFormat],e)}function en(n,e){return rr((0,f.cg1)(n)[f.wAp.DateTimeFormat],e)}function zt(n,e){const t=(0,f.cg1)(n),r=t[f.wAp.NumberSymbols][e];if(void 0===r){if(e===ae.CurrencyDecimal)return t[f.wAp.NumberSymbols][ae.Decimal];if(e===ae.CurrencyGroup)return t[f.wAp.NumberSymbols][ae.Group]}return r}function ls(n){if(!n[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rr(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Qn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const ir=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Os={},Ca=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Wt=(()=>((Wt=Wt||{})[Wt.Short=0]="Short",Wt[Wt.ShortGMT=1]="ShortGMT",Wt[Wt.Long=2]="Long",Wt[Wt.Extended=3]="Extended",Wt))(),at=(()=>((at=at||{})[at.FullYear=0]="FullYear",at[at.Month=1]="Month",at[at.Date=2]="Date",at[at.Hours=3]="Hours",at[at.Minutes=4]="Minutes",at[at.Seconds=5]="Seconds",at[at.FractionalSeconds=6]="FractionalSeconds",at[at.Day=7]="Day",at))(),Dt=(()=>((Dt=Dt||{})[Dt.DayPeriods=0]="DayPeriods",Dt[Dt.Days=1]="Days",Dt[Dt.Months=2]="Months",Dt[Dt.Eras=3]="Eras",Dt))();function hr(n,e,t,r){let i=function Yt(n){if(Kt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,u=1,c=1]=n.split("-").map(p=>+p);return Zi(i,u-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(ir))return function br(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,p=Number(n[5]||0)-r,y=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,c,p,y,b),e}(r)}const e=new Date(n);if(!Kt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ht(t,e)||e;let p,c=[];for(;e;){if(p=Ca.exec(e),!p){c.push(e);break}{c=c.concat(p.slice(1));const S=c.pop();if(!S)break;e=S}}let y=i.getTimezoneOffset();r&&(y=Q(r,y),i=function Et(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Be(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Q(e,i)-i))}(i,r,!0));let b="";return c.forEach(S=>{const M=function de(n){if(q[n])return q[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ut(Dt.Eras,se.Abbreviated);break;case"GGGG":e=Ut(Dt.Eras,se.Wide);break;case"GGGGG":e=Ut(Dt.Eras,se.Narrow);break;case"y":e=ft(at.FullYear,1,0,!1,!0);break;case"yy":e=ft(at.FullYear,2,0,!0,!0);break;case"yyy":e=ft(at.FullYear,3,0,!1,!0);break;case"yyyy":e=ft(at.FullYear,4,0,!1,!0);break;case"Y":e=V(1);break;case"YY":e=V(2,!0);break;case"YYY":e=V(3);break;case"YYYY":e=V(4);break;case"M":case"L":e=ft(at.Month,1,1);break;case"MM":case"LL":e=ft(at.Month,2,1);break;case"MMM":e=Ut(Dt.Months,se.Abbreviated);break;case"MMMM":e=Ut(Dt.Months,se.Wide);break;case"MMMMM":e=Ut(Dt.Months,se.Narrow);break;case"LLL":e=Ut(Dt.Months,se.Abbreviated,me.Standalone);break;case"LLLL":e=Ut(Dt.Months,se.Wide,me.Standalone);break;case"LLLLL":e=Ut(Dt.Months,se.Narrow,me.Standalone);break;case"w":e=j(1);break;case"ww":e=j(2);break;case"W":e=j(1,!0);break;case"d":e=ft(at.Date,1);break;case"dd":e=ft(at.Date,2);break;case"c":case"cc":e=ft(at.Day,1);break;case"ccc":e=Ut(Dt.Days,se.Abbreviated,me.Standalone);break;case"cccc":e=Ut(Dt.Days,se.Wide,me.Standalone);break;case"ccccc":e=Ut(Dt.Days,se.Narrow,me.Standalone);break;case"cccccc":e=Ut(Dt.Days,se.Short,me.Standalone);break;case"E":case"EE":case"EEE":e=Ut(Dt.Days,se.Abbreviated);break;case"EEEE":e=Ut(Dt.Days,se.Wide);break;case"EEEEE":e=Ut(Dt.Days,se.Narrow);break;case"EEEEEE":e=Ut(Dt.Days,se.Short);break;case"a":case"aa":case"aaa":e=Ut(Dt.DayPeriods,se.Abbreviated);break;case"aaaa":e=Ut(Dt.DayPeriods,se.Wide);break;case"aaaaa":e=Ut(Dt.DayPeriods,se.Narrow);break;case"b":case"bb":case"bbb":e=Ut(Dt.DayPeriods,se.Abbreviated,me.Standalone,!0);break;case"bbbb":e=Ut(Dt.DayPeriods,se.Wide,me.Standalone,!0);break;case"bbbbb":e=Ut(Dt.DayPeriods,se.Narrow,me.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ut(Dt.DayPeriods,se.Abbreviated,me.Format,!0);break;case"BBBB":e=Ut(Dt.DayPeriods,se.Wide,me.Format,!0);break;case"BBBBB":e=Ut(Dt.DayPeriods,se.Narrow,me.Format,!0);break;case"h":e=ft(at.Hours,1,-12);break;case"hh":e=ft(at.Hours,2,-12);break;case"H":e=ft(at.Hours,1);break;case"HH":e=ft(at.Hours,2);break;case"m":e=ft(at.Minutes,1);break;case"mm":e=ft(at.Minutes,2);break;case"s":e=ft(at.Seconds,1);break;case"ss":e=ft(at.Seconds,2);break;case"S":e=ft(at.FractionalSeconds,1);break;case"SS":e=ft(at.FractionalSeconds,2);break;case"SSS":e=ft(at.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Te(Wt.Short);break;case"ZZZZZ":e=Te(Wt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Te(Wt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Te(Wt.Long);break;default:return null}return q[n]=e,e}(S);b+=M?M(i,t,y):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Zi(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ht(n,e){const t=function Xt(n){return(0,f.cg1)(n)[f.wAp.LocaleId]}(n);if(Os[t]=Os[t]||{},Os[t][e])return Os[t][e];let r="";switch(e){case"shortDate":r=on(n,ke.Short);break;case"mediumDate":r=on(n,ke.Medium);break;case"longDate":r=on(n,ke.Long);break;case"fullDate":r=on(n,ke.Full);break;case"shortTime":r=us(n,ke.Short);break;case"mediumTime":r=us(n,ke.Medium);break;case"longTime":r=us(n,ke.Long);break;case"fullTime":r=us(n,ke.Full);break;case"short":const i=Ht(n,"shortTime"),u=Ht(n,"shortDate");r=ho(en(n,ke.Short),[i,u]);break;case"medium":const c=Ht(n,"mediumTime"),p=Ht(n,"mediumDate");r=ho(en(n,ke.Medium),[c,p]);break;case"long":const y=Ht(n,"longTime"),b=Ht(n,"longDate");r=ho(en(n,ke.Long),[y,b]);break;case"full":const S=Ht(n,"fullTime"),M=Ht(n,"fullDate");r=ho(en(n,ke.Full),[S,M])}return r&&(Os[t][e]=r),r}function ho(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Er(n,e,t="-",r,i){let u="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,u=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.substr(c.length-e)),u+c}function ft(n,e,t=0,r=!1,i=!1){return function(u,c){let p=function wr(n,e){switch(n){case at.FullYear:return e.getFullYear();case at.Month:return e.getMonth();case at.Date:return e.getDate();case at.Hours:return e.getHours();case at.Minutes:return e.getMinutes();case at.Seconds:return e.getSeconds();case at.FractionalSeconds:return e.getMilliseconds();case at.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||p>-t)&&(p+=t),n===at.Hours)0===p&&-12===t&&(p=12);else if(n===at.FractionalSeconds)return function fr(n,e){return Er(n,3).substr(0,e)}(p,e);const y=zt(c,ae.MinusSign);return Er(p,e,y,r,i)}}function Ut(n,e,t=me.Format,r=!1){return function(i,u){return function Qe(n,e,t,r,i,u){switch(t){case Dt.Months:return function vt(n,e,t){const r=(0,f.cg1)(n),u=rr([r[f.wAp.MonthsFormat],r[f.wAp.MonthsStandalone]],e);return rr(u,t)}(e,i,r)[n.getMonth()];case Dt.Days:return function ct(n,e,t){const r=(0,f.cg1)(n),u=rr([r[f.wAp.DaysFormat],r[f.wAp.DaysStandalone]],e);return rr(u,t)}(e,i,r)[n.getDay()];case Dt.DayPeriods:const c=n.getHours(),p=n.getMinutes();if(u){const b=function cs(n){const e=(0,f.cg1)(n);return ls(e),(e[f.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Qn(r):[Qn(r[0]),Qn(r[1])])}(e),S=function ht(n,e,t){const r=(0,f.cg1)(n);ls(r);const u=rr([r[f.wAp.ExtraData][0],r[f.wAp.ExtraData][1]],e)||[];return rr(u,t)||[]}(e,i,r),M=b.findIndex(F=>{if(Array.isArray(F)){const[B,G]=F,ne=c>=B.hours&&p>=B.minutes,we=c<G.hours||c===G.hours&&p<G.minutes;if(B.hours<G.hours){if(ne&&we)return!0}else if(ne||we)return!0}else if(F.hours===c&&F.minutes===p)return!0;return!1});if(-1!==M)return S[M]}return function Nn(n,e,t){const r=(0,f.cg1)(n),u=rr([r[f.wAp.DayPeriodsFormat],r[f.wAp.DayPeriodsStandalone]],e);return rr(u,t)}(e,i,r)[c<12?0:1];case Dt.Eras:return function cn(n,e){return rr((0,f.cg1)(n)[f.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,u,n,e,t,r)}}function Te(n){return function(e,t,r){const i=-1*r,u=zt(t,ae.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Wt.Short:return(i>=0?"+":"")+Er(c,2,u)+Er(Math.abs(i%60),2,u);case Wt.ShortGMT:return"GMT"+(i>=0?"+":"")+Er(c,1,u);case Wt.Long:return"GMT"+(i>=0?"+":"")+Er(c,2,u)+":"+Er(Math.abs(i%60),2,u);case Wt.Extended:return 0===r?"Z":(i>=0?"+":"")+Er(c,2,u)+":"+Er(Math.abs(i%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Vt(n){return Zi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function j(n,e=!1){return function(t,r){let i;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+u)/7)}else{const u=Vt(t),c=function jt(n){const e=Zi(n,0,1).getDay();return Zi(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),p=u.getTime()-c.getTime();i=1+Math.round(p/6048e5)}return Er(i,n,zt(r,ae.MinusSign))}}function V(n,e=!1){return function(t,r){return Er(Vt(t).getFullYear(),n,zt(r,ae.MinusSign),e)}}const q={};function Q(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Kt(n){return n instanceof Date&&!isNaN(n.valueOf())}let hs=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Fs{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let or=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Fs(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const p=r.get(u);r.move(p,c),fs(p,i)}});for(let i=0,u=r.length;i<u;i++){const p=r.get(i).context;p.index=i,p.count=u,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{fs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function fs(n,e){n.context.$implicit=e.item}function $n(n,e){return new f.vHH(2100,"")}class Uc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Wp{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const gs=new Wp,Kp=new Uc;let pu=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,f.QGY)(t))return gs;if((0,f.F4k)(t))return Kp;throw $n()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.sBO,16))},n.\u0275pipe=f.Yjl({name:"async",type:n,pure:!1}),n})();const Yp=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ph=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,u){var c;if(null==t||""===t||t!=t)return null;try{return hr(t,r,u||this.locale,null!==(c=null!=i?i:this.defaultTimezone)&&void 0!==c?c:void 0)}catch(p){throw $n()}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.soG,16),f.Y36(Yp,24))},n.\u0275pipe=f.Yjl({name:"date",type:n,pure:!0}),n})(),Dr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const Us="browser";function Cr(n){return n===Us}function gr(n){return"server"===n}let vu=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Eu((0,f.LFG)(re),window)}),n})();class Eu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ma(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ms(this.window.history)||ms(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ms(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class js extends class Wo extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){Y||(Y=n)}(new js)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function qc(){return ln=ln||document.querySelector("base"),ln?ln.getAttribute("href"):null}();return null==t?null:function yo(n){mo=mo||document.createElement("a"),mo.setAttribute("href",n);const e=mo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ln=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Go(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let mo,ln=null;const Ir=new f.OlP("TRANSITION_ID"),xa=[{provide:f.ip1,useFactory:function kn(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=O(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[Ir,re,f.zs3],multi:!0}];class Ni{static init(){(0,f.VLi)(new Ni)}addToWindow(e){f.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const i=f.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const p=function(y){c=c||y,u--,0==u&&r(c)};i.forEach(function(y){y.whenStable(p)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Tr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const $s=new f.OlP("EventManagerPlugins");let ys=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG($s),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class wu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=O().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Yr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Hs=(()=>{class n extends Yr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Gs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Gs))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Gs(n){O().remove(n)}const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bu=/%COMP%/g;function Ce(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ce(n,i,t):(i=i.replace(bu,n),t.push(i))}return t}function Bt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ko(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Cl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case f.ifc.ShadowDom:return new Il(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ce(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ys),f.LFG(Hs),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Ko{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(gt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=gt[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=gt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,i&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Bt(r)):this.eventManager.addEventListener(e,t,Bt(r))}}class Cl extends Ko{constructor(e,t,r,i){super(e),this.component=r;const u=Ce(i+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function wl(n){return"_ngcontent-%COMP%".replace(bu,n)}(i+"-"+r.id),this.hostAttr=function bl(n){return"_nghost-%COMP%".replace(bu,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Il extends Ko{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ce(i.id,i.styles,[]);for(let c=0;c<u.length;c++){const p=document.createElement("style");p.textContent=u[c],this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let zc=(()=>{class n extends wu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Tl=["alt","control","meta","shift"],qs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ui={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Au=(()=>{class n extends wu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="";if(Tl.forEach(y=>{const b=r.indexOf(y);b>-1&&(r.splice(b,1),c+=y+".")}),c+=u,0!=r.length||0===u.length)return null;const p={};return p.domEventName=i,p.fullKey=c,p}static getEventFullKey(t){let r="",i=function zs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&mr.hasOwnProperty(e)&&(e=mr[e]))}return qs[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Tl.forEach(u=>{u!=i&&ui[u](t)&&(r+=u+".")}),r+=i,r}static eventCallback(t,r,i){return u=>{n.getEventFullKey(u)===t&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Sl=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:Us},{provide:f.g9A,useValue:function Oi(){js.makeCurrent(),Ni.init()},multi:!0},{provide:re,useFactory:function Su(){return(0,f.RDi)(document),document},deps:[]}]),Na=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Al(){return new f.qLn},deps:[]},{provide:$s,useClass:zc,multi:!0,deps:[re,f.R0b,f.Lbi]},{provide:$s,useClass:Au,multi:!0,deps:[re]},{provide:wn,useClass:wn,deps:[ys,Hs,f.AFp]},{provide:f.FYo,useExisting:wn},{provide:Yr,useExisting:Hs},{provide:Hs,useClass:Hs,deps:[re]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:ys,useClass:ys,deps:[$s,f.R0b]},{provide:class yn{},useClass:Tr,deps:[]}];let _o=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:Ir,useExisting:f.AFp},xa]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:Na,imports:[Dr,f.hGG]}),n})();"undefined"!=typeof window&&window;var Pn=k(8996),Fn=k(7669);function _t(...n){const e=(0,Fn.yG)(n);return(0,Pn.D)(n,e)}var ar=k(7579);class Jr extends ar.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Pr=k(8306);const{isArray:Qo}=Array,{getPrototypeOf:td,prototype:mn,keys:Bh}=Object;function ki(n){if(1===n.length){const e=n[0];if(Qo(e))return{args:e,keys:null};if(function Ru(n){return n&&"object"==typeof n&&td(n)===mn}(e)){const t=Bh(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var li=k(4671),kt=k(4004);const{isArray:nd}=Array;function Ll(n){return(0,kt.U)(e=>function Fl(n,e){return nd(e)?n(...e):n(e)}(n,e))}function Do(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Gn=k(5403),Es=k(9672);function Zs(n,e,t){n?(0,Es.f)(t,n,e):e()}var di=k(576);function Qi(n,e){const t=(0,di.m)(n)?n:()=>n,r=i=>i.error(t());return new Pr.y(e?i=>e.schedule(r,0,i):r)}const Ys=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ji=k(8189);function rd(...n){return function Bl(){return(0,Ji.J)(1)}()((0,Pn.D)(n,(0,Fn.yG)(n)))}var Co=k(8421);function Pi(n){return new Pr.y(e=>{(0,Co.Xf)(n()).subscribe(e)})}var Xo=k(515),ea=k(727),Fr=k(4482);function Fi(){return(0,Fr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class id extends Pr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Fr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ea.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ea.w0.EMPTY)}return e}refCount(){return Fi()(this)}}function Ln(n,e){return(0,Fr.e)((t,r)=>{let i=null,u=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,Gn.x)(r,y=>{null==i||i.unsubscribe();let b=0;const S=u++;(0,Co.Xf)(n(y,S)).subscribe(i=(0,Gn.x)(r,M=>r.next(e?e(y,M,S,b++):M),()=>{i=null,p()}))},()=>{c=!0,p()}))})}var Io=k(5698);function Li(...n){const e=(0,Fn.yG)(n);return(0,Fr.e)((t,r)=>{(e?rd(n,t,e):rd(n,t)).subscribe(r)})}function ta(n,e,t,r,i){return(u,c)=>{let p=t,y=e,b=0;u.subscribe((0,Gn.x)(c,S=>{const M=b++;y=p?n(y,S,M):(p=!0,S),r&&c.next(y)},i&&(()=>{p&&c.next(y),c.complete()})))}}function Sr(n,e){return(0,Fr.e)(ta(n,e,arguments.length>=2,!0))}function Xi(n,e){return(0,Fr.e)((t,r)=>{let i=0;t.subscribe((0,Gn.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}function es(n){return(0,Fr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,Gn.x)(t,void 0,void 0,c=>{u=(0,Co.Xf)(n(c,es(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Cn=k(5577);function Qs(n,e){return(0,di.m)(e)?(0,Cn.z)(n,e,1):(0,Cn.z)(n,1)}function sd(n){return n<=0?()=>Xo.E:(0,Fr.e)((e,t)=>{let r=[];e.subscribe((0,Gn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Sn(n=eg){return(0,Fr.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function eg(){return new Ys}function tg(n){return(0,Fr.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Js(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xi((i,u)=>n(i,u,r)):li.y,(0,Io.q)(1),t?tg(e):Sn(()=>new Ys))}var Xr=k(8505);class Xs{constructor(e,t){this.id=e,this.url=t}}class ws extends Xs{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nu extends Xs{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class In extends Xs{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ul extends Xs{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class na extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ig extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jl extends Xs{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mr extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends Xs{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $l{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bs{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ts{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ka{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hl{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Lt="primary";class ql{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xn(n){return new ql(n)}const zl="ngNavigationCancelingError";function eo(n){const e=Error("NavigationCancelingError: "+n);return e[zl]=!0,e}function To(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],p=n[u];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ns(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!ku(n[i],e[i]))return!1;return!0}function ku(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function rs(n){return Array.prototype.concat.apply([],n)}function ad(n){return n.length>0?n[n.length-1]:null}function er(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fi(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,Pn.D)(Promise.resolve(n)):_t(n)}const Ao={exact:function I(n,e,t){if(!Pt(n.segments,e.segments)||!ee(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!I(n.children[r],e.children[r],t))return!1;return!0},subset:L},ra={exact:function C(n,e){return ns(n,e)},subset:function R(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ku(n[t],e[t]))},ignored:()=>!0};function Pu(n,e,t){return Ao[t.paths](n.root,e.root,t.matrixParams)&&ra[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function L(n,e,t){return K(n,e,e.segments,t)}function K(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Pt(i,t)||e.hasChildren()||!ee(i,t,r))}if(n.segments.length===t.length){if(!Pt(n.segments,t)||!ee(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!L(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Pt(n.segments,i)&&ee(n.segments,i,r)&&n.children[Lt])&&K(n.children[Lt],e,u,r)}}function ee(n,e,t){return e.every((r,i)=>ra[t](n[i].parameters,r.parameters))}class xe{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}toString(){return ia.serialize(this)}}class Re{constructor(e,t){this.segments=e,this.children=t,this.parent=null,er(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return So(this)}}class Je{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xn(this.parameters)),this._parameterMap}toString(){return Pa(this)}}function Pt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class qn{}class Mn{parse(e){const t=new ld(e);return new xe(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Lr(e.root,!0)}`,r=function Vy(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Bi(t)}=${Bi(i)}`).join("&"):`${Bi(t)}=${Bi(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Mo(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ia=new Mn;function So(n){return n.segments.map(e=>Pa(e)).join("/")}function Lr(n,e){if(!n.hasChildren())return So(n);if(e){const t=n.children[Lt]?Lr(n.children[Lt],!1):"",r=[];return er(n.children,(i,u)=>{u!==Lt&&r.push(`${u}:${Lr(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function St(n,e){let t=[];return er(n.children,(r,i)=>{i===Lt&&(t=t.concat(e(r,i)))}),er(n.children,(r,i)=>{i!==Lt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Lt?[Lr(n.children[Lt],!1)]:[`${i}:${Lr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${So(n)}/${t[0]}`:`${So(n)}/(${t.join("//")})`}}function pi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bi(n){return pi(n).replace(/%3B/gi,";")}function ud(n){return pi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kl(n){return decodeURIComponent(n)}function Zl(n){return Kl(n.replace(/\+/g,"%20"))}function Pa(n){return`${ud(n.path)}${function sg(n){return Object.keys(n).map(e=>`;${ud(e)}=${ud(n[e])}`).join("")}(n.parameters)}`}const By=/^[^\/()?;=#]+/;function Ds(n){const e=n.match(By);return e?e[0]:""}const Yl=/^[^=?&#]+/,jy=/^[^&#]+/;class ld{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Lt]=new Re(e,t)),r}parseSegment(){const e=Ds(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Je(Kl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ds(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ds(this.remaining);i&&(r=i,this.capture(r))}e[Kl(t)]=Kl(r)}parseQueryParam(e){const t=function Uy(n){const e=n.match(Yl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function og(n){const e=n.match(jy);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Zl(t),u=Zl(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ds(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Lt);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Lt]:new Re([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class $y{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Uh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Uh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=jh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jh(e,this._root).map(t=>t.value)}}function Uh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Uh(n,t);if(r)return r}return null}function jh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=jh(n,t);if(r.length)return r.unshift(e),r}return[]}class xo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ro(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class cd extends $y{constructor(e,t){super(e),this.snapshot=t,hd(this,e)}toString(){return this.snapshot.toString()}}function Fa(n,e){const t=function Hy(n,e){const c=new Fu([],{},{},"",{},Lt,e,null,n.root,-1,{});return new $h("",new xo(c,[]))}(n,e),r=new Jr([new Je("",{})]),i=new Jr({}),u=new Jr({}),c=new Jr({}),p=new Jr(""),y=new sa(r,i,c,p,u,Lt,e,t.root);return y.snapshot=t.root,new cd(new xo(y,[]),t)}class sa{constructor(e,t,r,i,u,c,p,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(e=>Xn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(e=>Xn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function dd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Fu{constructor(e,t,r,i,u,c,p,y,b,S,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=p,this.routeConfig=y,this._urlSegment=b,this._lastPathIndex=S,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $h extends $y{constructor(e,t){super(t),this.url=e,hd(this,t)}toString(){return fd(this._root)}}function hd(n,e){e.value._routerState=n,e.children.forEach(t=>hd(n,t))}function fd(n){const e=n.children.length>0?` { ${n.children.map(fd).join(", ")} } `:"";return`${n.value}${e}`}function pd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ns(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ns(e.params,t.params)||n.params.next(t.params),function Ou(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ns(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ns(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hh(n,e){const t=ns(n.params,e.params)&&function Ct(n,e){return Pt(n,e)&&n.every((t,r)=>ns(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Hh(n.parent,e.parent))}function Ql(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Gh(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ql(n,r,i);return Ql(n,r)})}(n,e,t);return new xo(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>Ql(n,p)),c}}const r=function zy(n){return new sa(new Jr(n.url),new Jr(n.params),new Jr(n.queryParams),new Jr(n.fragment),new Jr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Ql(n,u));return new xo(r,i)}}function oa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lu(n){return"object"==typeof n&&null!=n&&n.outlets}function ag(n,e,t,r,i){let u={};if(r&&er(r,(p,y)=>{u[y]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),n===e)return new xe(t,u,i);const c=qh(n,e,t);return new xe(c,u,i)}function qh(n,e,t){const r={};return er(n.children,(i,u)=>{r[u]=i===e?t:qh(i,e,t)}),new Re(n.segments,r)}class Wy{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&oa(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Lu);if(i&&i!==ad(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Qy(n,e,t){if(n||(n=new Re([],{})),0===n.segments.length&&n.hasChildren())return no(n,e,t);const r=function hE(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],p=t[r];if(Lu(p))break;const y=`${p}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&b&&"object"==typeof b&&void 0===b.outlets){if(!Ui(y,b,c))return u;r+=2}else{if(!Ui(y,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Re(n.segments.slice(0,r.pathIndex),{});return u.children[Lt]=new Re(n.segments.slice(r.pathIndex),n.children),no(u,0,i)}return r.match&&0===i.length?new Re(n.segments,{}):r.match&&!n.hasChildren()?Wh(n,e,t):r.match?no(n,0,i):Wh(n,e,t)}function no(n,e,t){if(0===t.length)return new Re(n.segments,{});{const r=function Yy(n){return Lu(n[0])?n[0].outlets:{[Lt]:n}}(t),i={};return er(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=Qy(n.children[c],e,u))}),er(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new Re(n.segments,i)}}function Wh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Lu(u)){const y=Vu(u.outlets);return new Re(r,y)}if(0===i&&oa(t[0])){r.push(new Je(n.segments[e].path,Kh(t[0]))),i++;continue}const c=Lu(u)?u.outlets[Lt]:`${u}`,p=i<t.length-1?t[i+1]:null;c&&p&&oa(p)?(r.push(new Je(c,Kh(p))),i+=2):(r.push(new Je(c,{})),i++)}return new Re(r,{})}function Vu(n){const e={};return er(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Wh(new Re([],{}),0,t))}),e}function Kh(n){const e={};return er(n,(t,r)=>e[r]=`${t}`),e}function Ui(n,e,t){return n==t.path&&ns(e,t.parameters)}class lg{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ro(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),er(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Ro(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Ro(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ro(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new Hl(u.value.snapshot))}),e.children.length&&this.forwardEvent(new ts(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(pd(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),pd(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=function gd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),y=p?p.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=y,c.outlet&&c.outlet.activateWith(i,y),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class md{constructor(e,t){this.routes=e,this.module=t}}function La(n){return"function"==typeof n}function Bu(n){return n instanceof xe}const Xl=Symbol("INITIAL_VALUE");function aa(){return Ln(n=>function Jo(...n){const e=(0,Fn.yG)(n),t=(0,Fn.jO)(n),{args:r,keys:i}=ki(n);if(0===r.length)return(0,Pn.D)([],e);const u=new Pr.y(function ci(n,e,t=li.y){return r=>{Zs(e,()=>{const{length:i}=n,u=new Array(i);let c=i,p=i;for(let y=0;y<i;y++)Zs(e,()=>{const b=(0,Pn.D)(n[y],e);let S=!1;b.subscribe((0,Gn.x)(r,M=>{u[y]=M,S||(S=!0,p--),p||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Do(i,c):li.y));return t?u.pipe(Ll(t)):u}(n.map(e=>e.pipe((0,Io.q)(1),Li(Xl)))).pipe(Sr((e,t)=>{let r=!1;return t.reduce((i,u,c)=>i!==Xl?i:(u===Xl&&(r=!0),r||!1!==u&&c!==t.length-1&&!Bu(u)?i:u),e)},Xl),Xi(e=>e!==Xl),(0,kt.U)(e=>Bu(e)?e:!0===e),(0,Io.q)(1)))}class Jy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ec,this.attachRef=null}}class ec{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Jy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let tc=(()=>{class n{constructor(t,r,i,u,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=u||Lt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),p=this.parentContexts.getOrCreateContext(this.name).children,y=new Jh(t,p,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(ec),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Jh{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===sa?this.route:e===ec?this.childContexts:this.parent.get(e,t)}}let Xh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},directives:[tc],encapsulation:2}),n})();function nc(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];yd(r,ef(e,r))}}function yd(n,e){n.children&&nc(n.children,e)}function ef(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function tf(n){const e=n.children&&n.children.map(tf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Lt&&(t.component=Xh),t}function nn(n){return n.outlet||Lt}function nf(n,e){const t=n.filter(r=>nn(r)===e);return t.push(...n.filter(r=>nn(r)!==e)),t}const dg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uu(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},dg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||To)(t,n,e);if(!u)return Object.assign({},dg);const c={};er(u.posParams,(y,b)=>{c[b]=y.path});const p=u.consumed.length>0?Object.assign(Object.assign({},c),u.consumed[u.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:p,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function rc(n,e,t,r,i="corrected"){if(t.length>0&&function e_(n,e,t){return t.some(r=>vd(n,e,r)&&nn(r)!==Lt)}(n,t,r)){const c=new Re(e,function _d(n,e,t,r){const i={};i[Lt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&nn(u)!==Lt){const c=new Re([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[nn(u)]=c}return i}(n,e,r,new Re(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function hg(n,e,t){return t.some(r=>vd(n,e,r))}(n,t,r)){const c=new Re(n.segments,function Xy(n,e,t,r,i,u){const c={};for(const p of r)if(vd(n,t,p)&&!i[nn(p)]){const y=new Re([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[nn(p)]=y}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new Re(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function vd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function t_(n,e,t,r){return!!(nn(n)===r||r!==Lt&&vd(e,t,n))&&("**"===n.path||Uu(e,n,t).matched)}function n_(n,e,t){return 0===e.length&&!n.children[t]}class ua{constructor(e){this.segmentGroup=e||null}}class xr{constructor(e){this.urlTree=e}}function No(n){return Qi(new ua(n))}function ic(n){return Qi(new xr(n))}class sf{constructor(e,t,r,i,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=rc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Re(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Lt).pipe((0,kt.U)(u=>this.createUrlTree(Ba(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(es(u=>{if(u instanceof xr)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof ua?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Lt).pipe((0,kt.U)(i=>this.createUrlTree(Ba(i),e.queryParams,e.fragment))).pipe(es(i=>{throw i instanceof ua?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Re([],{[Lt]:e}):e;return new xe(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,kt.U)(u=>new Re([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,Pn.D)(i).pipe(Qs(u=>{const c=r.children[u],p=nf(t,u);return this.expandSegmentGroup(e,p,c,u).pipe((0,kt.U)(y=>({segment:y,outlet:u})))}),Sr((u,c)=>(u[c.outlet]=c.segment,u),{}),function ng(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Xi((i,u)=>n(i,u,r)):li.y,sd(1),t?tg(e):Sn(()=>new Ys))}())}expandSegment(e,t,r,i,u,c){return(0,Pn.D)(r).pipe(Qs(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,u,c).pipe(es(b=>{if(b instanceof ua)return _t(null);throw b}))),Js(p=>!!p),es((p,y)=>{if(p instanceof Ys||"EmptyError"===p.name)return n_(t,i,u)?_t(new Re([],{})):No(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,u,c,p){return t_(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):No(t):No(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ic(u):this.lineralizeSegments(r,u).pipe((0,Cn.z)(c=>{const p=new Re(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:p,consumedSegments:y,remainingSegments:b,positionalParamSegments:S}=Uu(t,i,u);if(!p)return No(t);const M=this.applyRedirectCommands(y,i.redirectTo,S);return i.redirectTo.startsWith("/")?ic(M):this.lineralizeSegments(i,M).pipe((0,Cn.z)(F=>this.expandSegment(e,t,r,F.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?_t(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,kt.U)(M=>(r._loadedConfig=M,new Re(i,{})))):_t(new Re(i,{}));const{matched:c,consumedSegments:p,remainingSegments:y}=Uu(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,Cn.z)(S=>{const M=S.module,F=S.routes,{segmentGroup:B,slicedSegments:G}=rc(t,p,y,F),ne=new Re(B.segments,B.children);if(0===G.length&&ne.hasChildren())return this.expandChildren(M,F,ne).pipe((0,kt.U)(Ke=>new Re(p,Ke)));if(0===F.length&&0===G.length)return _t(new Re(p,{}));const we=nn(r)===u;return this.expandSegment(M,ne,F,G,we?Lt:u,!0).pipe((0,kt.U)(Le=>new Re(p.concat(Le.segments),Le.children)))})):No(t)}getChildConfig(e,t,r){return t.children?_t(new md(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?_t(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Cn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,kt.U)(u=>(t._loadedConfig=u,u))):function Vr(n){return Qi(eo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):_t(new md([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?_t(i.map(c=>{const p=e.get(c);let y;if(function Zh(n){return n&&La(n.canLoad)}(p))y=p.canLoad(t,r);else{if(!La(p))throw new Error("Invalid CanLoad guard");y=p(t,r)}return fi(y)})).pipe(aa(),(0,Xr.b)(c=>{if(!Bu(c))return;const p=eo(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw p.url=c,p}),(0,kt.U)(c=>!0===c)):_t(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return _t(r);if(i.numberOfChildren>1||!i.children[Lt])return Qi(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Lt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new xe(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return er(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[u]=t[p]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return er(t.children,(p,y)=>{c[y]=this.createSegmentGroup(e,p,r,i)}),new Re(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Ba(n){const e={};for(const r of Object.keys(n.children)){const u=Ba(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function ji(n){if(1===n.numberOfChildren&&n.children[Lt]){const e=n.children[Lt];return new Re(n.segments.concat(e.segments),e.children)}return n}(new Re(n.segments,e))}class fg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ua{constructor(e,t){this.component=e,this.route=t}}function af(n,e,t){const r=n._root;return gi(r,e?e._root:null,t,[r.value])}function sc(n,e,t){const r=function r_(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function gi(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ro(e);return n.children.forEach(c=>{(function gg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const y=function i_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Pt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Pt(n.url,e.url)||!ns(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hh(n,e)||!ns(n.queryParams,e.queryParams);default:return!Hh(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new fg(r)):(u.data=c.data,u._resolvedData=c._resolvedData),gi(n,e,u.component?p?p.children:null:t,r,i),y&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new Ua(p.outlet.component,c))}else c&&ja(e,p,i),i.canActivateChecks.push(new fg(r)),gi(n,null,u.component?p?p.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),er(u,(c,p)=>ja(c,t.getContext(p),i)),i}function ja(n,e,t){const r=Ro(n),i=n.value;er(r,(u,c)=>{ja(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Ua(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class cf{}function df(n){return new Pr.y(e=>e.error(n))}class hf{constructor(e,t,r,i,u,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=c}recognize(){const e=rc(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Lt);if(null===t)return null;const r=new Fu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new xo(r,t),u=new $h(this.url,i);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Gy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const c=t.children[u],p=nf(e,u),y=this.processSegmentGroup(p,c,u);if(null===y)return null;r.push(...y)}const i=_g(r);return function u_(n){n.sort((e,t)=>e.value.outlet===Lt?-1:t.value.outlet===Lt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const u of e){const c=this.processSegmentAgainstRoute(u,t,r,i);if(null!==c)return c}return n_(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!t_(e,t,r,i))return null;let u,c=[],p=[];if("**"===e.path){const B=r.length>0?ad(r).parameters:{};u=new Fu(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,E(e),nn(e),e.component,e,h(t),m(t)+r.length,T(e))}else{const B=Uu(t,e,r);if(!B.matched)return null;c=B.consumedSegments,p=B.remainingSegments,u=new Fu(c,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,E(e),nn(e),e.component,e,h(t),m(t)+c.length,T(e))}const y=function l_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:S}=rc(t,c,p,y.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===S.length&&b.hasChildren()){const B=this.processChildren(y,b);return null===B?null:[new xo(u,B)]}if(0===y.length&&0===S.length)return[new xo(u,[])];const M=nn(e)===i,F=this.processSegment(y,b,S,M?Lt:i);return null===F?null:[new xo(u,F)]}}function yg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function _g(n){const e=[],t=new Set;for(const r of n){if(!yg(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=_g(r.children);e.push(new xo(r.value,i))}return e.filter(r=>!t.has(r))}function h(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function m(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function E(n){return n.data||{}}function T(n){return n.resolve||{}}function et(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ut(n){return Ln(e=>{const t=n(e);return t?(0,Pn.D)(t).pipe((0,kt.U)(()=>e)):_t(e)})}class ac extends class ss{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ju=new f.OlP("ROUTES");class $u{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,kt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=u.create(e);return new md(rs(c.injector.get(ju,void 0,f.XFs.Self|f.XFs.Optional)).map(tf),c)}),es(u=>{throw t._loader$=void 0,u}));return t._loader$=new id(i,()=>new ar.x).pipe(Fi()),t._loader$}loadModuleFactory(e){return fi(e()).pipe((0,Cn.z)(t=>t instanceof f.YKP?_t(t):(0,Pn.D)(this.compiler.compileModuleAsync(t))))}}class c_{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function la(n){throw n}function Ed(n,e,t){return e.parse("/")}function wd(n,e){return _t(null)}const pf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $i=(()=>{class n{constructor(t,r,i,u,c,p,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ar.x,this.errorHandler=la,this.malformedUriErrorHandler=Ed,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:wd,afterPreactivation:wd},this.urlHandlingStrategy=new c_,this.routeReuseStrategy=new ac,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(f.h0i),this.console=c.get(f.c2e);const M=c.get(f.R0b);this.isNgZoneEnabled=M instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Wl(){return new xe(new Re([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $u(c,p,F=>this.triggerEvent(new $l(F)),F=>this.triggerEvent(new bs(F))),this.routerState=Fa(this.currentUrlTree,this.rootComponentType),this.transitions=new Jr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Xi(i=>0!==i.id),(0,kt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ln(i=>{let u=!1,c=!1;return _t(i).pipe((0,Xr.b)(p=>{this.currentNavigation={id:p.id,initialUrl:p.currentRawUrl,extractedUrl:p.extractedUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ln(p=>{const y=this.browserUrlTree.toString(),b=!this.navigated||p.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return vg(p.source)&&(this.browserUrlTree=p.extractedUrl),_t(p).pipe(Ln(M=>{const F=this.transitions.getValue();return r.next(new ws(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?Xo.E:Promise.resolve(M)}),function of(n,e,t,r){return Ln(i=>function Va(n,e,t,r,i){return new sf(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,kt.U)(u=>Object.assign(Object.assign({},i),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Xr.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function N(n,e,t,r,i){return(0,Cn.z)(u=>function a_(n,e,t,r,i="emptyOnly",u="legacy"){try{const c=new hf(n,e,t,r,i,u).recognize();return null===c?df(new cf):_t(c)}catch(c){return df(c)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,i).pipe((0,kt.U)(c=>Object.assign(Object.assign({},u),{targetSnapshot:c}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Xr.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(B,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new na(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:B,source:G,restoredState:ne,extras:we}=p,Ze=new ws(F,this.serializeUrl(B),G,ne);r.next(Ze);const Le=Fa(B,this.rootComponentType).snapshot;return _t(Object.assign(Object.assign({},p),{targetSnapshot:Le,urlAfterRedirects:B,extras:Object.assign(Object.assign({},we),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=p.rawUrl,p.resolve(null),Xo.E}),ut(p=>{const{targetSnapshot:y,id:b,extractedUrl:S,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=p;return this.hooks.beforePreactivation(y,{navigationId:b,appliedUrlTree:S,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,Xr.b)(p=>{const y=new ig(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),(0,kt.U)(p=>Object.assign(Object.assign({},p),{guards:af(p.targetSnapshot,p.currentSnapshot,this.rootContexts)})),function s_(n,e){return(0,Cn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?_t(Object.assign(Object.assign({},t),{guardsResult:!0})):function mg(n,e,t,r){return(0,Pn.D)(n).pipe((0,Cn.z)(i=>function oc(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?_t(u.map(p=>{const y=sc(p,e,i);let b;if(function fE(n){return n&&La(n.canDeactivate)}(y))b=fi(y.canDeactivate(n,e,t,r));else{if(!La(y))throw new Error("Invalid CanDeactivate guard");b=fi(y(n,e,t,r))}return b.pipe(Js())})).pipe(aa()):_t(!0)}(i.component,i.route,t,e,r)),Js(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Cn.z)(p=>p&&function cg(n){return"boolean"==typeof n}(p)?function Rr(n,e,t,r){return(0,Pn.D)(e).pipe(Qs(i=>rd(function lf(n,e){return null!==n&&e&&e(new Vi(n)),_t(!0)}(i.route.parent,r),function uf(n,e){return null!==n&&e&&e(new ka(n)),_t(!0)}(i.route,r),function Oo(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function pg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Pi(()=>_t(c.guards.map(y=>{const b=sc(y,c.node,t);let S;if(function Qh(n){return n&&La(n.canActivateChild)}(b))S=fi(b.canActivateChild(r,n));else{if(!La(b))throw new Error("Invalid CanActivateChild guard");S=fi(b(r,n))}return S.pipe(Js())})).pipe(aa())));return _t(u).pipe(aa())}(n,i.path,t),function o_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return _t(!0);const i=r.map(u=>Pi(()=>{const c=sc(u,e,t);let p;if(function Yh(n){return n&&La(n.canActivate)}(c))p=fi(c.canActivate(e,n));else{if(!La(c))throw new Error("Invalid CanActivate guard");p=fi(c(e,n))}return p.pipe(Js())}));return _t(i).pipe(aa())}(n,i.route,t))),Js(i=>!0!==i,!0))}(r,u,n,e):_t(p)),(0,kt.U)(p=>Object.assign(Object.assign({},t),{guardsResult:p})))})}(this.ngModule.injector,p=>this.triggerEvent(p)),(0,Xr.b)(p=>{if(Bu(p.guardsResult)){const b=eo(`Redirecting to "${this.serializeUrl(p.guardsResult)}"`);throw b.url=p.guardsResult,b}const y=new jl(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.triggerEvent(y)}),Xi(p=>!!p.guardsResult||(this.restoreHistory(p),this.cancelNavigationTransition(p,""),!1)),ut(p=>{if(p.guards.canActivateChecks.length)return _t(p).pipe((0,Xr.b)(y=>{const b=new Mr(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}),Ln(y=>{let b=!1;return _t(y).pipe(function z(n,e){return(0,Cn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return _t(t);let u=0;return(0,Pn.D)(i).pipe(Qs(c=>function oe(n,e,t,r){return function Ue(n,e,t,r){const i=et(n);if(0===i.length)return _t({});const u={};return(0,Pn.D)(i).pipe((0,Cn.z)(c=>function wt(n,e,t,r){const i=sc(n,e,r);return fi(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,Xr.b)(p=>{u[c]=p}))),sd(1),(0,Cn.z)(()=>et(u).length===i.length?_t(u):Xo.E))}(n._resolve,n,e,r).pipe((0,kt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Gy(n,t).resolve),null)))}(c.route,r,n,e)),(0,Xr.b)(()=>u++),sd(1),(0,Cn.z)(c=>u===i.length?_t(t):Xo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Xr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,Xr.b)(y=>{const b=new hi(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}))}),ut(p=>{const{targetSnapshot:y,id:b,extractedUrl:S,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:B}}=p;return this.hooks.afterPreactivation(y,{navigationId:b,appliedUrlTree:S,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!B})}),(0,kt.U)(p=>{const y=function qy(n,e,t){const r=Ql(n,e._root,t?t._root:void 0);return new cd(r,e)}(this.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return Object.assign(Object.assign({},p),{targetRouterState:y})}),(0,Xr.b)(p=>{this.currentUrlTree=p.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl),this.routerState=p.targetRouterState,"deferred"===this.urlUpdateStrategy&&(p.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,p),this.browserUrlTree=p.urlAfterRedirects)}),((n,e,t)=>(0,kt.U)(r=>(new lg(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,p=>this.triggerEvent(p)),(0,Xr.b)({next(){u=!0},complete(){u=!0}}),function rg(n){return(0,Fr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var p;u||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(p=this.currentNavigation)||void 0===p?void 0:p.id)===i.id&&(this.currentNavigation=null)}),es(p=>{if(c=!0,function od(n){return n&&n[zl]}(p)){const y=Bu(p.url);y||(this.navigated=!0,this.restoreHistory(i,!0));const b=new In(i.id,this.serializeUrl(i.extractedUrl),p.message);r.next(b),y?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(p.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vg(i.source)};this.scheduleNavigation(S,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new Ul(i.id,this.serializeUrl(i.extractedUrl),p);r.next(y);try{i.resolve(this.errorHandler(p))}catch(b){i.reject(b)}}return Xo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const u={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const y=Object.assign({},c);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(u.state=y)}const p=this.parseUrl(t.url);this.scheduleNavigation(p,r,c,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){nc(t),this.config=t.map(tf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:p,preserveFragment:y}=r,b=i||this.routerState.root,S=y?this.currentUrlTree.fragment:c;let M=null;switch(p){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),function to(n,e,t,r,i){if(0===t.length)return ag(e.root,e.root,e.root,r,i);const u=function Ky(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Wy(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const p={};return er(u.outlets,(y,b)=>{p[b]="string"==typeof y?y.split("/"):y}),[...i,{outlets:p}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((p,y)=>{0==y&&"."===p||(0==y&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,u]},[]);return new Wy(t,e,r)}(t);if(u.toRoot())return ag(e.root,e.root,new Re([],{}),r,i);const c=function ug(n,e,t){if(n.isAbsolute)return new zh(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new zh(u,u===e.root,0)}const r=oa(n.commands[0])?0:1;return function Zy(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new zh(r,!1,i-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),p=c.processChildren?no(c.segmentGroup,c.index,u.commands):Qy(c.segmentGroup,c.index,u.commands);return ag(e.root,c.segmentGroup,p,r,i)}(b,this.currentUrlTree,t,M,null!=S?S:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Bu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function gf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},pf):!1===r?Object.assign({},bd):r,Bu(t))return Pu(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Pu(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Nu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,u,c){var p,y;if(this.disposed)return Promise.resolve(!1);let b,S,M;c?(b=c.resolve,S=c.reject,M=c.promise):M=new Promise((G,ne)=>{b=G,S=ne});const F=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),B=i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(p=this.browserPageId)&&void 0!==p?p:0:(null!==(y=this.browserPageId)&&void 0!==y?y:0)+1):B=0,this.setTransition({id:F,targetPageId:B,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:b,reject:S,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(G=>Promise.reject(G))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){var i,u;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new In(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function vg(n){return"imperative"!==n}let mf=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=c,this.commands=null,this.onChanges=new ar.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Dd(this.skipLocationChange),replaceUrl:Dd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Dd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36($i),f.Y36(sa),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),n})();function Dd(n){return""===n||!!n}class f_{}class gE{preload(e,t){return _t(null)}}let mE=(()=>{class n{constructor(t,r,i,u){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=new $u(i,r,y=>t.triggerEvent(new $l(y)),y=>t.triggerEvent(new bs(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Xi(t=>t instanceof Nu),Qs(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const c=u._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children));return(0,Pn.D)(i).pipe((0,Ji.J)(),(0,kt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?_t(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Cn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG($i),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(f_))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Eg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ws?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Nu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Gl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Cs=new f.OlP("ROUTER_CONFIGURATION"),g_=new f.OlP("ROUTER_FORROOT_GUARD"),yE=[_e,{provide:qn,useClass:Mn},{provide:$i,useFactory:function y_(n,e,t,r,i,u,c={},p,y){const b=new $i(null,n,e,t,r,i,rs(u));return p&&(b.urlHandlingStrategy=p),y&&(b.routeReuseStrategy=y),function EE(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,b),c.enableTracing&&b.events.subscribe(S=>{var M,F;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${S.constructor.name}`),console.log(S.toString()),console.log(S),null===(F=console.groupEnd)||void 0===F||F.call(console)}),b},deps:[qn,ec,_e,f.zs3,f.Sil,ju,Cs,[class ff{},new f.FiY],[class xn{},new f.FiY]]},ec,{provide:sa,useFactory:function wg(n){return n.routerState.root},deps:[$i]},mE,gE,class p_{preload(e,t){return t().pipe(es(()=>_t(null)))}},{provide:Cs,useValue:{enableTracing:!1}}];function bC(){return new f.PXZ("Router",$i)}let $a=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[yE,m_(t),{provide:g_,useFactory:vE,deps:[[$i,new f.FiY,new f.tp0]]},{provide:Cs,useValue:r||{}},{provide:fe,useFactory:_E,deps:[he,[new f.tBr(nt),new f.FiY],Cs]},{provide:Eg,useFactory:DC,deps:[$i,vu,Cs]},{provide:f_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:gE},{provide:f.PXZ,multi:!0,useFactory:bC},[Cd,{provide:f.ip1,multi:!0,useFactory:wE,deps:[Cd]},{provide:v_,useFactory:__,deps:[Cd]},{provide:f.tb,multi:!0,useExisting:v_}]]}}static forChild(t){return{ngModule:n,providers:[m_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(g_,8),f.LFG($i,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function DC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Eg(n,e,t)}function _E(n,e,t={}){return t.useHash?new Ie(n,e):new Ye(n,e)}function vE(n){return"guarded"}function m_(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:ju,multi:!0,useValue:n}]}let Cd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ar.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(p=>r=p),u=this.injector.get($i),c=this.injector.get(Cs);return"disabled"===c.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?_t(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Cs),i=this.injector.get(mE),u=this.injector.get(Eg),c=this.injector.get($i),p=this.injector.get(f.z2F);t===p.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),u.init(),c.resetRootComponentType(p.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function wE(n){return n.appInitializer.bind(n)}function __(n){return n.bootstrapListener.bind(n)}const v_=new f.OlP("Router Initializer");let CC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-home"]],decls:8,vars:0,consts:[[1,"d-flex","justify-content-center","pt-5"],[1,"d-flex","justify-content-center"],[1,"d-flex","justify-content-center","py-5"],["routerLink","/addTask","type","button",1,"homeButton"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"h2"),f._uU(2,"Get a clear view of the day ahead"),f.qZA()(),f.TgZ(3,"div",1),f._uU(4," All your tasks that are due today will show up there.\n"),f.qZA(),f.TgZ(5,"div",2)(6,"button",3),f._uU(7,"Tasks"),f.qZA()())},directives:[mf],encapsulation:2,changeDetection:0}),n})(),bE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-home-page"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"lib-home")},directives:[CC],encapsulation:2,changeDetection:0}),n})(),IC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Dr,$a]]}),n})(),TC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Dr,$a.forChild([{path:"",component:bE}]),IC]]}),n})();const w_=new f.OlP("GETS_ALL_ADD_TASK_DTO"),Dg=new f.OlP("SETS_ADD_TASK_DTO");let AC=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),Hu=(()=>{class n extends AC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const ca=new f.OlP("NgValueAccessor"),SC={provide:ca,useExisting:(0,f.Gpc)(()=>yf),multi:!0},MC=new f.OlP("CompositionEventMode");let yf=(()=>{class n extends AC{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ko(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(MC,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([SC]),f.qOj]}),n})();const mi=new f.OlP("NgValidators"),qu=new f.OlP("NgAsyncValidators");function Rt(n){return function Gu(n){return null==n||0===n.length}(n.value)?{required:!0}:null}function vf(n){return null}function xE(n){return null!=n}function Cg(n){const e=(0,f.QGY)(n)?(0,Pn.D)(n):n;return(0,f.CqO)(e),e}function da(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ig(n,e){return e.map(t=>t(n))}function Tg(n){return n.map(e=>function RE(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ag(n){return null!=n?function xC(n){if(!n)return null;const e=n.filter(xE);return 0==e.length?null:function(t){return da(Ig(t,e))}}(Tg(n)):null}function Id(n){return null!=n?function RC(n){if(!n)return null;const e=n.filter(xE);return 0==e.length?null:function(t){return function DE(...n){const e=(0,Fn.jO)(n),{args:t,keys:r}=ki(n),i=new Pr.y(u=>{const{length:c}=t;if(!c)return void u.complete();const p=new Array(c);let y=c,b=c;for(let S=0;S<c;S++){let M=!1;(0,Co.Xf)(t[S]).subscribe((0,Gn.x)(u,F=>{M||(M=!0,b--),p[S]=F},()=>y--,void 0,()=>{(!y||!M)&&(b||u.next(r?Do(r,p):p),u.complete())}))}});return e?i.pipe(Ll(e)):i}(Ig(t,e).map(Cg)).pipe((0,kt.U)(da))}}(Tg(n)):null}function Ef(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Sg(n){return n._rawValidators}function Mg(n){return n._rawAsyncValidators}function wf(n){return n?Array.isArray(n)?n:[n]:[]}function I_(n,e){return Array.isArray(n)?n.includes(e):n===e}function NE(n,e){const t=wf(e);return wf(n).forEach(i=>{I_(t,i)||t.push(i)}),t}function OE(n,e){return wf(e).filter(t=>!I_(n,t))}class kE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ag(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Id(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class zu extends kE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yi extends kE{get formDirective(){return null}get path(){return null}}class NC{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let T_=(()=>{class n extends NC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(zu,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[f.qOj]}),n})(),xg=(()=>{class n extends NC{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(yi,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[f.qOj]}),n})();function Sd(n,e){Ng(n,e),e.valueAccessor.writeValue(n.value),function M_(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&x_(n,e)})}(n,e),function PC(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function kC(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&x_(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Wu(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Md(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Og(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Rg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ng(n,e){const t=Sg(n);null!==e.validator?n.setValidators(Ef(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Mg(n);null!==e.asyncValidator?n.setAsyncValidators(Ef(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Rg(e._rawValidators,i),Rg(e._rawAsyncValidators,i)}function Og(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Sg(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=Mg(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Rg(e._rawValidators,r),Rg(e._rawAsyncValidators,r),t}function x_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Cf(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Zu="VALID",Lg="INVALID",lc="PENDING",Vg="DISABLED";function Bg(n){return(jg(n)?n.validators:n)||null}function UE(n){return Array.isArray(n)?Ag(n):n||null}function Ug(n,e){return(jg(e)?e.asyncValidators:n)||null}function jE(n){return Array.isArray(n)?Id(n):n||null}function jg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const os=n=>n instanceof $g,O_=n=>n instanceof cc;function VC(n){return os(n)?n.value:n.getRawValue()}function BC(n,e){const t=O_(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[e])throw new f.vHH(1001,"")}function k_(n,e){O_(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new f.vHH(1002,"")})}class $E{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=UE(this._rawValidators),this._composedAsyncValidatorFn=jE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Zu}get invalid(){return this.status===Lg}get pending(){return this.status==lc}get disabled(){return this.status===Vg}get enabled(){return this.status!==Vg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=UE(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=jE(e)}addValidators(e){this.setValidators(NE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(NE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(OE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(OE(e,this._rawAsyncValidators))}hasValidator(e){return I_(this._rawValidators,e)}hasAsyncValidator(e){return I_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=lc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Vg,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zu,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zu||this.status===lc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vg:Zu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=lc,this._hasOwnPendingAsyncValidator=!0;const t=Cg(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function BE(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=O_(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof HE)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Vg:this.errors?Lg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lc)?lc:this._anyControlsHaveStatus(Lg)?Lg:Zu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class $g extends $E{constructor(e=null,t,r){super(Bg(t),Ug(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jg(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Cf(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Cf(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class cc extends $E{constructor(e,t,r){super(Bg(t),Ug(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){k_(this,e),Object.keys(e).forEach(r=>{BC(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=VC(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class HE extends $E{constructor(e,t,r){super(Bg(t),Ug(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){k_(this,e),e.forEach((r,i)=>{BC(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>VC(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let V_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),zE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const xd=new f.OlP("NgModelWithFormControlWarning"),U_={provide:yi,useExisting:(0,f.Gpc)(()=>dc)};let dc=(()=>{class n extends yi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Og(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Sd(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Md(t.control||null,t,!1),Cf(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function N_(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Md(r||null,t),os(i)&&(Sd(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function LE(n,e){Ng(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function bf(n,e){return Og(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ng(this.form,this),this._oldForm&&Og(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(mi,10),f.Y36(qu,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([U_]),f.qOj,f.TTD]}),n})();const ZC={provide:zu,useExisting:(0,f.Gpc)(()=>qg)};let qg=(()=>{class n extends zu{constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Pg(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===yf?t=u:function FC(n){return Object.getPrototypeOf(n.constructor)===Hu}(u)?r=u:i=u}),i||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Ku(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Ad(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(yi,13),f.Y36(mi,10),f.Y36(qu,10),f.Y36(ca,10),f.Y36(xd,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([ZC]),f.qOj,f.TTD]}),n})(),qa=(()=>{class n{constructor(){this._validator=vf}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):vf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,features:[f.TTD]}),n})();const G_={provide:mi,useExisting:(0,f.Gpc)(()=>Zg),multi:!0};let Zg=(()=>{class n extends qa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Sf(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>Rt}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&f.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([G_]),f.qOj]}),n})(),W_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[zE]]}),n})(),uw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[W_]}),n})(),K_=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xd,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[W_]}),n})();const Z_=new f.OlP("REMOVES_ADD_TASK_DTO");class tI{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const lw={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const zn="undefined"!=typeof window&&window||{};var Yg=(()=>{return(n=Yg||(Yg={})).isBs3="bs3",n.isBs4="bs4",n.isBs5="bs5",Yg;var n})();let io;function Qg(){if(void 0===zn.document)return"bs4";const n=zn.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),zn.document.head.appendChild(n);const e=n.getBoundingClientRect(),t=zn.getComputedStyle(n).paddingLeft;return!e||e&&0!==e.top?(zn.document.head.removeChild(n),"bs3"):t&&parseFloat(t)?(zn.document.head.removeChild(n),"bs4"):(zn.document.head.removeChild(n),"bs5")}function za(){return void 0===zn||(void 0===zn.__theme?(io||(io=Qg()),"bs3"===io):"bs3"===zn.__theme)}function Jg(){return!za()&&(io||(io=Qg()),"bs4"===io)}function Mf(){return{isBs3:za(),isBs4:Jg(),isBs5:!za()&&!Jg()&&(io||(io=Qg()),"bs5"===io)}}"undefined"==typeof console||console;let Y_,Rf=(()=>{class n{constructor(){this._focusTrapStack=[]}register(t){this._focusTrapStack=this._focusTrapStack.filter(i=>i!==t);let r=this._focusTrapStack;r.length&&r[r.length-1]._disable(),r.push(t),t._enable()}deregister(t){t._disable();const r=this._focusTrapStack,i=r.indexOf(t);-1!==i&&(r.splice(i,1),r.length&&r[r.length-1]._enable())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{Y_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Y_=!1}let hw=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Cr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Y_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.Lbi))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fo=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function _i(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Nf(n){try{return n.frameElement}catch(e){return null}}(function Ld(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===pc(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),u=pc(t);return t.hasAttribute("contenteditable")?-1!==u:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function Pd(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==u:"video"===i?-1!==u&&(null!==u||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Fd(n){return!function Xg(n){return function Q_(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function hc(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function so(n){return function kd(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||fc(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(hw))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fc(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function pc(n){if(!fc(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function gc(n){return null!=n&&"false"!=`${n}`}class Vd{constructor(e,t,r,i,u=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,u||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let r=0;r<t.length;r++)t[r].hasAttribute(`cdk-focus-${e}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]):t[r].hasAttribute(`cdk-focus-region-${e}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[r]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const t=this._getFirstTabbableElement(e);return null==t||t.focus(),!!t}return e.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=0;r<t.length;r++){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let r=t.length-1;r>=0;r--){let i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Io.q)(1)).subscribe(e)}}let Bd=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Vd(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Fo),f.LFG(f.R0b),f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pw=(()=>{class n{constructor(t,r,i){this._elementRef=t,this._focusTrapFactory=r,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=i,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(t){this.focusTrap.enabled=gc(t)}get autoCapture(){return this._autoCapture}set autoCapture(t){this._autoCapture=gc(t)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(t){const r=t.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(Bd),f.Y36(re))},n.\u0275dir=f.lG2({type:n,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[f.TTD]}),n})(),J_=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Rf,hw,Fo]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Dr]]}),n})();var X_=k(6451),gw=k(1144);const mw=["addListener","removeListener"],yw=["addEventListener","removeEventListener"],_w=["on","off"];function Of(n,e,t,r){if((0,di.m)(t)&&(r=t,t=void 0),r)return Of(n,e,t).pipe(Ll(r));const[i,u]=function gI(n){return(0,di.m)(n.addEventListener)&&(0,di.m)(n.removeEventListener)}(n)?yw.map(c=>p=>n[c](e,p,t)):function pI(n){return(0,di.m)(n.addListener)&&(0,di.m)(n.removeListener)}(n)?mw.map(ev(n,e)):function vw(n){return(0,di.m)(n.on)&&(0,di.m)(n.off)}(n)?_w.map(ev(n,e)):[];if(!i&&(0,gw.z)(n))return(0,Cn.z)(c=>Of(c,e,t))((0,Co.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Pr.y(c=>{const p=(...y)=>c.next(1<y.length?y:y[0]);return i(p),()=>u(p)})}function ev(n,e){return t=>r=>n[t](e,r)}var Ew=k(4408);const Ud={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Ud;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(u=>{t=void 0,n(u)});return new ea.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Ud;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Ud;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var yI=k(7565);const _I=new class ww extends yI.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class mI extends Ew.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Ud.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Ud.cancelAnimationFrame(t),e._scheduled=void 0)}});var em=(()=>{return(n=em||(em={})).top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top",em;var n})(),kf=(()=>{return(n=kf||(kf={})).top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top",kf;var n})();function jd(n,e){if(1!==n.nodeType)return[];const t=n.ownerDocument.defaultView,r=null==t?void 0:t.getComputedStyle(n,null);return e?r&&r[e]:r}function tv(n){if(!n)return document.documentElement;let r,t=null==n?void 0:n.offsetParent;for(;null===t&&n.nextElementSibling&&r!==n.nextElementSibling;)r=n.nextElementSibling,t=r.offsetParent;const i=t&&t.nodeName;return i&&"BODY"!==i&&"HTML"!==i?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===jd(t,"position")?tv(t):t:r?r.ownerDocument.documentElement:document.documentElement}function Pf(n){return null!==n.parentNode?Pf(n.parentNode):n}function tm(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=t?n:e,i=t?e:n,u=document.createRange();u.setStart(r,0),u.setEnd(i,0);const c=u.commonAncestorContainer;if(n!==c&&e!==c||r.contains(i))return function nv(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||tv(n.firstElementChild)===n)}(c)?c:tv(c);const p=Pf(n);return p.host?tm(p.host,e):tm(n,Pf(e).host)}function EI(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;(null==e?void 0:e.parentElement)&&"none"===jd(e,"transform");)e=e.parentElement;return e||document.documentElement}function wI(n,e){const t="x"===e?"Left":"Top",r="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${r}Width`])}function bI(n,e,t,r){return Math.max(e[`offset${n}`],e[`scroll${n}`],t[`client${n}`],t[`offset${n}`],t[`scroll${n}`],0)}function bw(n){const e=n.body,t=n.documentElement;return{height:bI("Height",e,t),width:bI("Width",e,t)}}function $d(n){return Object.assign(Object.assign({},n),{right:(n.left||0)+n.width,bottom:(n.top||0)+n.height})}function Vn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function mc(n){const e=n.getBoundingClientRect();if(!(e&&Vn(e.top)&&Vn(e.left)&&Vn(e.bottom)&&Vn(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===n.nodeName?bw(n.ownerDocument):void 0,i=(null==r?void 0:r.width)||n.clientWidth||Vn(e.right)&&Vn(t.left)&&e.right-t.left||0,u=(null==r?void 0:r.height)||n.clientHeight||Vn(e.bottom)&&Vn(t.top)&&e.bottom-t.top||0;let c=n.offsetWidth-i,p=n.offsetHeight-u;if(c||p){const y=jd(n);c-=wI(y,"x"),p-=wI(y,"y"),t.width-=c,t.height-=p}return $d(t)}function rv(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function nm(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:r}=jd(n);return/(auto|scroll|overlay)/.test(String(e)+String(r)+String(t))?n:nm(rv(n))}function iv(n,e,t=!1){var r,i,u,c,p,y;const b="HTML"===e.nodeName,S=mc(n),M=mc(e),B=(nm(n),jd(e)),G=parseFloat(B.borderTopWidth),ne=parseFloat(B.borderLeftWidth);t&&b&&(M.top=Math.max(null!==(r=M.top)&&void 0!==r?r:0,0),M.left=Math.max(null!==(i=M.left)&&void 0!==i?i:0,0));const we=$d({top:(null!==(u=S.top)&&void 0!==u?u:0)-(null!==(c=M.top)&&void 0!==c?c:0)-G,left:(null!==(p=S.left)&&void 0!==p?p:0)-(null!==(y=M.left)&&void 0!==y?y:0)-ne,width:S.width,height:S.height});if(we.marginTop=0,we.marginLeft=0,b){const Ze=parseFloat(B.marginTop),Le=parseFloat(B.marginLeft);Vn(we.top)&&(we.top-=G-Ze),Vn(we.bottom)&&(we.bottom-=G-Ze),Vn(we.left)&&(we.left-=ne-Le),Vn(we.right)&&(we.right-=ne-Le),we.marginTop=Ze,we.marginLeft=Le}return we}function sv(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",r=n.nodeName;if("BODY"===r||"HTML"===r){const i=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||i)[t]}return n[t]}function Dw(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===jd(n,"position")||Dw(rv(n)))}function im(n,e,t=0,r,i=!1){let u={top:0,left:0};const c=i?EI(n):tm(n,e);if("viewport"===r)u=function rm(n,e=!1){const t=n.ownerDocument.documentElement,r=iv(n,t),i=Math.max(t.clientWidth,window.innerWidth||0),u=Math.max(t.clientHeight,window.innerHeight||0),c=e?0:sv(t),p=e?0:sv(t,"left");return $d({top:c-Number(null==r?void 0:r.top)+Number(null==r?void 0:r.marginTop),left:p-Number(null==r?void 0:r.left)+Number(null==r?void 0:r.marginLeft),width:i,height:u})}(c,i);else{let p;"scrollParent"===r?(p=nm(rv(e)),"BODY"===p.nodeName&&(p=n.ownerDocument.documentElement)):p="window"===r?n.ownerDocument.documentElement:r;const y=iv(p,c,i);if(y&&"HTML"===p.nodeName&&!Dw(c)){const{height:b,width:S}=bw(n.ownerDocument);Vn(u.top)&&Vn(y.top)&&Vn(y.marginTop)&&(u.top+=y.top-y.marginTop),Vn(u.top)&&(u.bottom=Number(b)+Number(y.top)),Vn(u.left)&&Vn(y.left)&&Vn(y.marginLeft)&&(u.left+=y.left-y.marginLeft),Vn(u.top)&&(u.right=Number(S)+Number(y.left))}else y&&(u=y)}return Vn(u.left)&&(u.left+=t),Vn(u.top)&&(u.top+=t),Vn(u.right)&&(u.right-=t),Vn(u.bottom)&&(u.bottom-=t),u}function DI({width:n,height:e}){return n*e}function Cw(n,e,t,r,i=["top","bottom","right","left"],u="viewport",c=0){var p,y,b,S,M,F,B,G,ne,we,Ze,Le;if(-1===n.indexOf("auto"))return n;const Ke=im(t,r,c,u),qe={top:{width:null!==(p=null==Ke?void 0:Ke.width)&&void 0!==p?p:0,height:(null!==(y=null==e?void 0:e.top)&&void 0!==y?y:0)-(null!==(b=null==Ke?void 0:Ke.top)&&void 0!==b?b:0)},right:{width:(null!==(S=null==Ke?void 0:Ke.right)&&void 0!==S?S:0)-(null!==(M=null==e?void 0:e.right)&&void 0!==M?M:0),height:null!==(F=null==Ke?void 0:Ke.height)&&void 0!==F?F:0},bottom:{width:null!==(B=null==Ke?void 0:Ke.width)&&void 0!==B?B:0,height:(null!==(G=null==Ke?void 0:Ke.bottom)&&void 0!==G?G:0)-(null!==(ne=null==e?void 0:e.bottom)&&void 0!==ne?ne:0)},left:{width:(null!==(we=e.left)&&void 0!==we?we:0)-(null!==(Ze=null==Ke?void 0:Ke.left)&&void 0!==Ze?Ze:0),height:null!==(Le=null==Ke?void 0:Ke.height)&&void 0!==Le?Le:0}},yt=Object.keys(qe).map(vn=>Object.assign(Object.assign({position:vn},qe[vn]),{area:DI(qe[vn])})).sort((vn,Zt)=>Zt.area-vn.area);let dt=yt.filter(({width:vn,height:Zt})=>vn>=t.clientWidth&&Zt>=t.clientHeight);dt=dt.filter(({position:vn})=>i.some(Zt=>Zt===vn));const Jt=dt.length>0?dt[0].position:yt[0].position,bn=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Mf().isBs5?kf[Jt]:Jt}`),Jt+(bn?`-${bn}`:"")}const Ff=(n,e=0)=>n?parseFloat(n):e;function Iw(n){const e=n.ownerDocument.defaultView,t=null==e?void 0:e.getComputedStyle(n),r=Ff(null==t?void 0:t.marginTop)+Ff(null==t?void 0:t.marginBottom),i=Ff(null==t?void 0:t.marginLeft)+Ff(null==t?void 0:t.marginRight);return{width:Number(n.offsetWidth)+i,height:Number(n.offsetHeight)+r}}function ov(n,e,t){return iv(e,t?EI(n):tm(n,e),t)}function sm(n,e,t){var r,i,u;const c=t.split(" ")[0],p=Iw(n),y={width:p.width,height:p.height},b=-1!==["right","left"].indexOf(c),S=b?"top":"left",M=b?"left":"top",F=b?"height":"width",B=b?"width":"height";return y[S]=(null!==(r=e[S])&&void 0!==r?r:0)+e[F]/2-p[F]/2,y[M]=c===M?(null!==(i=e[M])&&void 0!==i?i:0)-p[B]:null!==(u=e[function II(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(M)])&&void 0!==u?u:0,y}function om(n,e){var t;return!!(null===(t=n.modifiers[e])||void 0===t?void 0:t.enabled)}const GM={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Hd(n,e){return!!Mf().isBs5&&GM[e].includes(n)}function Gd(n,e,t){!n||!e||Object.keys(e).forEach(r=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&function HM(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[r])&&(i="px"),t?t.setStyle(n,r,`${String(e[r])}${i}`):n.style[r]=String(e[r])+i})}function Tw(n){var e,t,r,i,u,c;let p=n.offsets.target;const y=n.instance.target.querySelector(".arrow");if(!y)return n;const b=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),S=b?"height":"width",M=b?"Top":"Left",F=M.toLowerCase(),B=b?"left":"top",G=b?"bottom":"right",ne=Iw(y)[S],we=n.placement.split(" ")[1];(null!==(e=n.offsets.host[G])&&void 0!==e?e:0)-ne<(null!==(t=p[F])&&void 0!==t?t:0)&&(p[F]-=(null!==(r=p[F])&&void 0!==r?r:0)-((null!==(i=n.offsets.host[G])&&void 0!==i?i:0)-ne)),Number(n.offsets.host[F])+Number(ne)>(null!==(u=p[G])&&void 0!==u?u:0)&&(p[F]+=Number(n.offsets.host[F])+Number(ne)-Number(p[G])),p=$d(p);const Ze=jd(n.instance.target),Le=parseFloat(Ze[`margin${M}`])||0,Ke=parseFloat(Ze[`border${M}Width`])||0;let qe;if(we){const dt=parseFloat(Ze.borderRadius)||0,Jt=Number(Le+Ke+dt);qe=F===we?Number(n.offsets.host[F])+Jt:Number(n.offsets.host[F])+Number(n.offsets.host[S]-Jt)}else qe=Number(n.offsets.host[F])+Number(n.offsets.host[S]/2-ne/2);let yt=qe-(null!==(c=p[F])&&void 0!==c?c:0)-Le-Ke;return yt=Math.max(Math.min(p[S]-(ne+5),yt),0),n.offsets.arrow={[F]:Math.round(yt),[B]:""},n.instance.arrow=y,n}function av(n){if(n.offsets.target=$d(n.offsets.target),!om(n.options,"flip"))return n.offsets.target=Object.assign(Object.assign({},n.offsets.target),sm(n.instance.target,n.offsets.host,n.placement)),n;const e=im(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],r=n.placement.split(" ")[1]||"";const p=Cw("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),y=[t,p];return y.forEach((b,S)=>{var M,F,B,G,ne,we,Ze,Le,Ke,qe,yt,dt,Jt,bn,vn,Zt;if(t!==b||y.length===S+1)return;t=n.placement.split(" ")[0];const Dn="left"===t&&Math.floor(null!==(M=n.offsets.target.right)&&void 0!==M?M:0)>Math.floor(null!==(F=n.offsets.host.left)&&void 0!==F?F:0)||"right"===t&&Math.floor(null!==(B=n.offsets.target.left)&&void 0!==B?B:0)<Math.floor(null!==(G=n.offsets.host.right)&&void 0!==G?G:0)||"top"===t&&Math.floor(null!==(ne=n.offsets.target.bottom)&&void 0!==ne?ne:0)>Math.floor(null!==(we=n.offsets.host.top)&&void 0!==we?we:0)||"bottom"===t&&Math.floor(null!==(Ze=n.offsets.target.top)&&void 0!==Ze?Ze:0)<Math.floor(null!==(Le=n.offsets.host.bottom)&&void 0!==Le?Le:0),xs=Math.floor(null!==(Ke=n.offsets.target.left)&&void 0!==Ke?Ke:0)<Math.floor(null!==(qe=e.left)&&void 0!==qe?qe:0),ml=Math.floor(null!==(yt=n.offsets.target.right)&&void 0!==yt?yt:0)>Math.floor(null!==(dt=e.right)&&void 0!==dt?dt:0),lE=Math.floor(null!==(Jt=n.offsets.target.top)&&void 0!==Jt?Jt:0)<Math.floor(null!==(bn=e.top)&&void 0!==bn?bn:0),cE=Math.floor(null!==(vn=n.offsets.target.bottom)&&void 0!==vn?vn:0)>Math.floor(null!==(Zt=e.bottom)&&void 0!==Zt?Zt:0),ot="left"===t&&xs||"right"===t&&ml||"top"===t&&lE||"bottom"===t&&cE,mt=-1!==["top","bottom"].indexOf(t),At=mt&&"left"===r&&xs||mt&&"right"===r&&ml||!mt&&"left"===r&&lE||!mt&&"right"===r&&cE;(Dn||ot||At)&&((Dn||ot)&&(t=y[S+1]),At&&(r=function TI(n){return"right"===n?"left":"left"===n?"right":n}(r)),n.placement=t+(r?` ${r}`:""),n.offsets.target=Object.assign(Object.assign({},n.offsets.target),sm(n.instance.target,n.offsets.host,n.placement)))}),n}function SI(n){var e;if(!om(n.options,"preventOverflow"))return n;const t="transform",r=n.instance.target.style,{top:i,left:u,[t]:c}=r;r.top="",r.left="",r[t]="";const p=im(n.instance.target,n.instance.host,0,(null===(e=n.options.modifiers.preventOverflow)||void 0===e?void 0:e.boundariesElement)||"scrollParent",!1);r.top=i,r.left=u,r[t]=c;const b={primary(S){var M,F,B,G;let ne=n.offsets.target[S];return(null!==(M=n.offsets.target[S])&&void 0!==M?M:0)<(null!==(F=p[S])&&void 0!==F?F:0)&&(ne=Math.max(null!==(B=n.offsets.target[S])&&void 0!==B?B:0,null!==(G=p[S])&&void 0!==G?G:0)),{[S]:ne}},secondary(S){var M,F,B,G;const ne="right"===S,we=ne?"left":"top";let Le=n.offsets.target[we];return(null!==(M=n.offsets.target[S])&&void 0!==M?M:0)>(null!==(F=p[S])&&void 0!==F?F:0)&&(Le=Math.min(null!==(B=n.offsets.target[we])&&void 0!==B?B:0,(null!==(G=p[S])&&void 0!==G?G:0)-n.offsets.target[ne?"width":"height"])),{[we]:Le}}};return["left","right","top","bottom"].forEach(S=>{const M=-1!==["left","top","start"].indexOf(S)?b.primary:b.secondary;n.offsets.target=Object.assign(Object.assign({},n.offsets.target),M(S))}),n}function am(n){var e;const t=n.placement,r=t.split(" ")[0],i=t.split(" ")[1];if(i){const{host:u,target:c}=n.offsets,p=-1!==["bottom","top"].indexOf(r),y=p?"left":"top",b=p?"width":"height",S={start:{[y]:u[y]},end:{[y]:(null!==(e=u[y])&&void 0!==e?e:0)+u[b]-c[b]}};n.offsets.target=Object.assign(Object.assign({},c),{[y]:y===i?S.start[y]:S.end[y]})}return n}const lv=new class um{position(e,t){return this.offset(e,t)}offset(e,t){return ov(t,e)}positionElements(e,t,r,i,u){const c=[av,am,SI,Tw],y=function uv(n,e,t,r){if(!n||!e)return;const i=ov(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const u=!!t.match(/auto/g);let c=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const p=c.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return p&&(c=p[1]+(p[2]?` ${p[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(c)&&(c="auto"),c=Cw(c,i,n,e,r?r.allowedPositions:void 0),{options:r||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:sm(n,i,c),host:i,arrow:void 0},positionFixed:!1,placement:c,placementAuto:u}}(t,e,em[r],u);if(y)return c.reduce((b,S)=>S(b),y)}};function zM(n,e,t,r,i,u){const c=lv.positionElements(n,e,t,r,i);if(!c)return;const p=function CI(n){var e,t,r,i;return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(null!==(e=n.offsets.target.left)&&void 0!==e?e:0),top:Math.round(null!==(t=n.offsets.target.top)&&void 0!==t?t:0),bottom:Math.round(null!==(r=n.offsets.target.bottom)&&void 0!==r?r:0),right:Math.floor(null!==(i=n.offsets.target.right)&&void 0!==i?i:0)}}(c);Gd(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${p.left}px, ${p.top}px, 0px)`},u),c.instance.arrow&&Gd(c.instance.arrow,c.offsets.arrow,u),function qM(n,e){const t=n.instance.target;let r=t.className;const i=Mf().isBs5?kf[n.placement]:n.placement;n.placementAuto&&(r=r.replace(/bs-popover-auto/g,`bs-popover-${i}`),r=r.replace(/ms-2|me-2|mb-2|mt-2/g,""),r=r.replace(/bs-tooltip-auto/g,`bs-tooltip-${i}`),r=r.replace(/\sauto/g,` ${i}`),-1!==r.indexOf("popover")&&(r=r+" "+function AI(n){return Mf().isBs5?Hd(n,"end")?"ms-2":Hd(n,"start")?"me-2":Hd(n,"top")?"mb-2":Hd(n,"bottom")?"mt-2":"":""}(i)),-1!==r.indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom|end|start/g,`${i.split(" ")[0]}`),e?e.setAttribute(t,"class",r):t.className=r}(c,u)}let lm=(()=>{class n{constructor(t,r,i){this.update$$=new ar.x,this.positionElements=new Map,this.isDisabled=!1,Cr(i)&&t.runOutsideAngular(()=>{this.triggerEvent$=(0,X_.T)(Of(window,"scroll",{passive:!0}),Of(window,"resize",{passive:!0}),_t(0,_I),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(u=>{zM(qd(u.target),qd(u.element),u.attachment,u.appendToBody,this.options,r.createRenderer(null,null))})})})}position(t){this.addPositionElement(t)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(t){this.positionElements.set(qd(t.element),t)}calcPosition(){this.update$$.next(null)}deletePositionElement(t){this.positionElements.delete(qd(t))}setOptions(t){this.options=t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.R0b),f.LFG(f.FYo),f.LFG(f.Lbi))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qd(n){return"string"==typeof n?document.querySelector(n):n instanceof f.SBq?n.nativeElement:null!=n?n:null}class zd{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}class Sw{constructor(e,t,r,i,u,c,p,y){this._viewContainerRef=e,this._renderer=t,this._elementRef=r,this._injector=i,this._componentFactoryResolver=u,this._ngZone=c,this._applicationRef=p,this._posService=y,this.onBeforeShow=new f.vpe,this.onShown=new f.vpe,this.onBeforeHide=new f.vpe,this.onHidden=new f.vpe,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=f.zs3.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof f.SBq&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){const r=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);if(!r)return;r.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){var t,r,i,u,c,p;if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const y=this._componentRef.location.nativeElement;return null===(t=y.parentNode)||void 0===t||t.removeChild(y),null===(i=null===(r=this._contentRef)||void 0===r?void 0:r.componentRef)||void 0===i||i.destroy(),this._viewContainerRef&&(null===(u=this._contentRef)||void 0===u?void 0:u.viewRef)&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),null===(p=null===(c=this._contentRef)||void 0===c?void 0:c.viewRef)||void 0===p||p.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){var t;this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||(null===(t=this._elementRef)||void 0===t?void 0:t.nativeElement);const r=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),i=this._listenOpts.show=c=>{e.show?e.show(c):this.show(c),c()};return this._renderer&&(this._unregisterListenersFn=function iI(n,e){const t=function nI(n,e=lw){const t=(n||"").trim();if(0===t.length)return[];const r=t.split(/\s+/).map(u=>u.split(":")).map(u=>{const c=e[u[0]]||u;return new tI(c[0],c[1])}),i=r.filter(u=>u.isManual());if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const i=[],u=[],c=()=>{u.forEach(p=>i.push(p())),u.length=0};return t.forEach(p=>{const y=p.open===p.close,b=y?e.toggle:e.show;if(!y&&p.close&&e.hide){const S=n.listen(r,p.close,e.hide);u.push(()=>S)}b&&i.push(n.listen(r,p.open,()=>b(c)))}),()=>{i.forEach(p=>p())}}(this._renderer,{target:e.target,triggers:e.triggers,show:i,hide:r,toggle:c=>{this.isShown?r():i(c)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const e=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function sI(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[e,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function VM(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(r=>r.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{var e;this._posService.position({element:null===(e=this._componentRef)||void 0===e?void 0:e.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{!this._componentRef||this._posService.calcPosition()}))}_unsubscribePositioning(){!this._zoneSubscription||(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,r){if(!e)return new zd([]);if(e instanceof f.Rgc){if(this._viewContainerRef){const c=this._viewContainerRef.createEmbeddedView(e,t);return c.markForCheck(),new zd([c.rootNodes],c)}const u=e.createEmbeddedView({});return this._applicationRef.attachView(u),new zd([u.rootNodes],u)}if("function"==typeof e){const u=this._componentFactoryResolver.resolveComponentFactory(e),c=f.zs3.create({providers:this._providers,parent:this._injector}),p=u.create(c);return Object.assign(p.instance,r),this._applicationRef.attachView(p.hostView),new zd([[p.location.nativeElement]],p.hostView,p)}const i=this._renderer?[this._renderer.createText(`${e}`)]:[];return new zd([i])}}let yc=(()=>{class n{constructor(t,r,i,u,c){this._componentFactoryResolver=t,this._ngZone=r,this._injector=i,this._posService=u,this._applicationRef=c}createLoader(t,r,i){return new Sw(r,i,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f._Vd),f.LFG(f.R0b),f.LFG(f.zs3),f.LFG(lm),f.LFG(f.z2F))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mw=["*"];let cv=(()=>{class n{constructor(){this.hide=()=>{},this.setClass=()=>{}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),dv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const cm={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},Rw=new f.OlP("override-default-config");let Ow=(()=>{class n{constructor(t,r,i){this._element=r,this._renderer=i,this.isShown=!1,this.isAnimated=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},t)}ngOnInit(){this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,za()?"in":"show")},this.isAnimated?150:0),document&&document.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(t){this.clickStartedInContent=t.target!==this._element.nativeElement}onClickStop(t){var r;this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(null===(r=this.bsModalService)||void 0===r||r.setDismissReason("backdrop-click"),this.hide())}onPopState(){var t;null===(t=this.bsModalService)||void 0===t||t.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(t){var r,i;!this.isShown||((27===t.keyCode||"Escape"===t.key)&&t.preventDefault(),this.config.keyboard&&this.level===(null===(r=this.bsModalService)||void 0===r?void 0:r.getModalsCount())&&(null===(i=this.bsModalService)||void 0===i||i.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding&&this.isShown){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,za()?"in":"show"),setTimeout(()=>{var t,r;this.isShown=!1,document&&document.body&&1===(null===(t=this.bsModalService)||void 0===t?void 0:t.getModalsCount())&&(this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y","")),null===(r=this.bsModalService)||void 0===r||r.hide(this.config.id),this.isModalHiding=!1},this.isAnimated?300:0)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(dv),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275cmp=f.Xpm({type:n,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,r){1&t&&f.NdJ("mousedown",function(u){return r.onClickStarted(u)})("click",function(u){return r.onClickStop(u)})("popstate",function(){return r.onPopState()},!1,f.Jf7)("keydown.esc",function(u){return r.onEsc(u)},!1,f.Jf7),2&t&&f.uIk("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:Mw,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(t,r){1&t&&(f.F$t(),f.TgZ(0,"div",0)(1,"div",1),f.Hsn(2),f.qZA()()),2&t&&f.Tol("modal-dialog"+(r.config.class?" "+r.config.class:""))},directives:[pw],encapsulation:2}),n})(),kw=(()=>{class n{constructor(t,r){this._isAnimated=!1,this._isShown=!1,this.element=t,this.renderer=r}get isAnimated(){return this._isAnimated}set isAnimated(t){this._isAnimated=t}get isShown(){return this._isShown}set isShown(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"in"):this.renderer.removeClass(this.element.nativeElement,"in"),za()||(t?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show"))}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),class fI{static reflow(e){}static getStyles(e){let t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=zn),t.getComputedStyle(e)}static stackOverflowConfig(){const e=function hI(){const n=Mf(),e=Object.keys(n).find(t=>n[t]);return Yg[e]}();return{crossorigin:"bs3"!==e?"anonymous":void 0,integrity:"bs5"===e?"sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We":"bs4"===e?"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2":void 0,cdnLink:"bs5"===e?"https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css":"bs4"===e?"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css":"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"}}}.reflow(this.element.nativeElement)),this.isShown=!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275cmp=f.Xpm({type:n,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),Fw=1,dm=(()=>{class n{constructor(t,r,i){this.clf=r,this.modalDefaultOption=i,this.onShow=new f.vpe,this.onShown=new f.vpe,this.onHide=new f.vpe,this.onHidden=new f.vpe,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._backdropLoader=this.clf.createLoader(),this._renderer=t.createRenderer(null,null),this.config=i?Object.assign({},cm,i):cm}show(t,r){this.modalsCount++,this._createLoaders();const i=(null==r?void 0:r.id)||Fw++;return this.config=this.modalDefaultOption?Object.assign({},cm,this.modalDefaultOption,r):Object.assign({},cm,r),this.config.id=i,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(t)}hide(t){(1===this.modalsCount||null==t)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=t?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(t),this.removeLoaders(t)},this.config.animated?150:0)}_showBackdrop(){const t=!0===this.config.backdrop||"static"===this.config.backdrop,r=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&r&&(this._backdropLoader.attach(kw).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(t){var r;const i=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const p of this.config.providers)i.provide(p);const u=new cv,c=i.provide({provide:dv,useValue:this.config}).provide({provide:cv,useValue:u}).attach(Ow).to("body");return u.hide=()=>{var p;return null===(p=c.instance)||void 0===p?void 0:p.hide()},u.setClass=p=>{c.instance&&(c.instance.config.class=p)},u.onHidden=new f.vpe,u.onHide=new f.vpe,this.copyEvent(i.onBeforeHide,u.onHide),this.copyEvent(i.onHidden,u.onHidden),c.show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),c.instance&&(c.instance.level=this.getModalsCount(),u.content=i.getInnerComponent(),u.id=null===(r=c.instance.config)||void 0===r?void 0:r.id),u}_hideModal(t){if(null!=t){const r=this.loaders.findIndex(u=>{var c;return(null===(c=u.instance)||void 0===c?void 0:c.config.id)===t}),i=this.loaders[r];i&&i.hide(t)}else this.loaders.forEach(r=>{r.instance&&r.hide(r.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(t){this.lastDismissReason=t}removeBackdrop(){this._renderer.removeClass(document.body,"modal-open"),this._renderer.setStyle(document.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){!document||(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){document.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const t=this._renderer.createElement("div");this._renderer.addClass(t,"modal-scrollbar-measure"),this._renderer.appendChild(document.body,t);const r=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),r}_createLoaders(){const t=this.clf.createLoader();this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}removeLoaders(t){if(null!=t){const r=this.loaders.findIndex(i=>{var u;return(null===(u=i.instance)||void 0===u?void 0:u.config.id)===t});r>=0&&(this.loaders.splice(r,1),this.loaders.forEach((i,u)=>{i.instance&&(i.instance.level=u+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(t,r){t.subscribe(i=>{r.emit(this.lastDismissReason||i)})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(yc),f.LFG(Rw,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();J_.forRoot();let fv=(()=>{class n{static forRoot(){return{ngModule:n,providers:[dm,yc,lm]}}static forChild(){return{ngModule:n,providers:[dm,yc,lm]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[J_]]}),n})();class Vf{}const pa="*";function pv(n,e=null){return{type:2,steps:n,options:e}}function hm(n){return{type:6,styles:n,offset:null}}function _c(n){Promise.resolve(null).then(n)}class Bf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){_c(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Vw{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const u=this.players.length;0==u?_c(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==u&&this._onFinish()}),c.onDestroy(()=>{++r==u&&this._onDestroy()}),c.onStart(()=>{++i==u&&this._onStart()})}),this.totalTime=this.players.reduce((c,p)=>Math.max(c,p.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const LI=function(n){return{dropdown:n}},Bw=["*"],gv=[hm({height:0,overflow:"hidden"}),function NI(n,e=null){return{type:4,styles:e,timings:n}}("220ms cubic-bezier(0, 0, 0.2, 1)",hm({height:"*",overflow:"hidden"}))];let Wa=(()=>{class n{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new f.vpe,this.isDisabledChange=new f.vpe,this.toggleClick=new f.vpe,this.counts=0,this.dropdownMenu=new Promise(t=>{this.resolveDropdownMenu=t})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),ga=(()=>{class n{constructor(t,r,i,u,c){this._state=t,this.cd=r,this._renderer=i,this._element=u,this.isOpen=!1,this._factoryDropDownAnimation=c.build(gv),this._subscription=t.isOpenChange.subscribe(p=>{this.isOpen=p;const y=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),y&&!za()&&(this._renderer.addClass(y,"show"),(y.classList.contains("dropdown-menu-right")||y.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(y,"left","auto"),this._renderer.setStyle(y,"right","0")),"up"===this.direction&&(this._renderer.setStyle(y,"top","auto"),this._renderer.setStyle(y,"transform","translateY(-101%)"))),y&&this._state.isAnimated&&this._factoryDropDownAnimation.create(y).play(),this.cd.markForCheck(),this.cd.detectChanges()})}get direction(){return this._state.direction}_contains(t){return this._element.nativeElement.contains(t)}ngOnDestroy(){this._subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Wa),f.Y36(f.sBO),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Vf))},n.\u0275cmp=f.Xpm({type:n,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:Bw,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,r){1&t&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA()),2&t&&(f.ekj("dropup","up"===r.direction)("show",r.isOpen)("open",r.isOpen),f.Q6J("ngClass",f.VKq(7,LI,"down"===r.direction)))},directives:[hs],encapsulation:2,changeDetection:0}),n})(),VI=(()=>{class n{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mv=(()=>{class n{constructor(t,r,i,u,c,p,y){this._elementRef=t,this._renderer=r,this._viewContainerRef=i,this._cis=u,this._state=c,this._config=p,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=y.build(gv),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:Wa,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}set autoClose(t){this._state.autoClose=t}get autoClose(){return this._state.autoClose}set isAnimated(t){this._state.isAnimated=t}get isAnimated(){return this._state.isAnimated}set insideClick(t){this._state.insideClick=t}get insideClick(){return this._state.insideClick}set isDisabled(t){this._isDisabled=t,this._state.isDisabledChange.emit(t),t&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(t){t?this.show():this.hide()}get isBs4(){return!za()}get _showInline(){return!this.container}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(t=>this.toggle(t))),this._subscriptions.push(this._state.isDisabledChange.pipe(Xi(t=>t)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(t=>{this._dropdown.attachInline(t.viewContainer,t.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(t=>{const r=this.dropup||void 0!==this.dropup&&this.dropup;this._state.direction=r?"up":"down";const i=this.placement||(r?"top start":"bottom start");this._dropdown.attach(ga).to(this.container).position({attachment:i}).show({content:t.templateRef,placement:i}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){!this.isOpen||(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(t){return this.isOpen||!t?this.hide():this.show()}_contains(t){return this._elementRef.nativeElement.contains(t.target)||this._dropdown.instance&&this._dropdown.instance._contains(t.target)}navigationClick(t){const r=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!r)return;const i=this._elementRef.nativeElement.ownerDocument.activeElement,u=r.querySelectorAll(".dropdown-item");switch(t.keyCode){case 38:this._state.counts>0&&u[--this._state.counts].focus();break;case 40:this._state.counts+1<u.length&&(i.classList!==u[this._state.counts].classList?u[this._state.counts].focus():u[++this._state.counts].focus())}t.preventDefault()}ngOnDestroy(){for(const t of this._subscriptions)t.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){za()||(this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles())}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const t=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",t?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",t?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.s_b),f.Y36(yc),f.Y36(Wa),f.Y36(VI),f.Y36(Vf))},n.\u0275dir=f.lG2({type:n,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,r){1&t&&f.NdJ("keydown.arrowDown",function(u){return r.navigationClick(u)})("keydown.arrowUp",function(u){return r.navigationClick(u)}),2&t&&f.ekj("dropup",r.dropup)("open",r.isOpen)("show",r.isOpen&&r.isBs4)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[f._Bn([Wa])]}),n})(),ma=(()=>{class n{constructor(t,r,i){t.resolveDropdownMenu({templateRef:i,viewContainer:r})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Wa),f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]}),n})(),Lo=(()=>{class n{constructor(t,r,i,u,c){this._changeDetectorRef=t,this._dropdown=r,this._element=i,this._renderer=u,this._state=c,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(p=>{this.isOpen=p,p?(this._documentClickListener=this._renderer.listen("document","click",y=>{this._state.autoClose&&2!==y.button&&!this._element.nativeElement.contains(y.target)&&(!this._state.insideClick||!this._dropdown._contains(y))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(p=>this.isDisabled=p||void 0))}onClick(t){this._state.stopOnClickPropagation&&t.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const t of this._subscriptions)t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.sBO),f.Y36(mv),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Wa))},n.\u0275dir=f.lG2({type:n,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,r){1&t&&f.NdJ("click",function(u){return r.onClick(u)}),2&t&&f.uIk("aria-haspopup",!0)("disabled",r.isDisabled)("aria-expanded",r.isOpen)},exportAs:["bs-dropdown-toggle"]}),n})(),Vo=(()=>{class n{static forRoot(){return{ngModule:n,providers:[yc,lm,Wa]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Dr]]}),n})();function Uw(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"ul",16)(1,"li",17)(2,"a",18),f.NdJ("click",function(){f.CHM(t);const i=f.oxw(2),u=f.MAs(5);return i.openModal(u)}),f._uU(3,"Delete"),f.qZA()()()}}const jw=function(n){return{"bg-success":n}},BI=function(n){return{"text-decoration-line-through":n}};function UI(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"li",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"input",7),f.NdJ("click",function(){const u=f.CHM(t).$implicit;return f.oxw().onItemClicked(u)}),f.qZA(),f.TgZ(5,"p",8),f._uU(6),f.qZA()(),f.TgZ(7,"div",9)(8,"div",10)(9,"button",11),f.O4$(),f.TgZ(10,"svg",12),f._UZ(11,"path",13),f.qZA(),f.kcU(),f._UZ(12,"span",14),f.qZA(),f.YNc(13,Uw,4,0,"ul",15),f.qZA()()()()()}if(2&n){const t=e.$implicit;f.xp6(4),f.Q6J("ngClass",f.VKq(4,jw,!0===t.isChecked))("checked",t.isChecked),f.xp6(1),f.Q6J("ngClass",f.VKq(6,BI,!0===t.isChecked)),f.xp6(1),f.hij(" ",t.task," ")}}function jI(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",27)(1,"div",28)(2,"button",29),f.NdJ("click",function(){const u=f.CHM(t).$implicit;return f.oxw(2).removeTask(u.id)})("click",function(){f.CHM(t);const i=f.oxw(2);return null==i.modalRef?null:i.modalRef.hide()}),f._uU(3," Delete task "),f.qZA()(),f.TgZ(4,"div",30)(5,"button",31),f.NdJ("click",function(){f.CHM(t);const i=f.oxw(2);return null==i.modalRef?null:i.modalRef.hide()}),f._uU(6," Cancel "),f.qZA()()()}}function $I(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",19)(1,"h4",20),f._uU(2,"DELETE TASK"),f.qZA(),f.TgZ(3,"button",21),f.NdJ("click",function(){f.CHM(t);const i=f.oxw();return null==i.modalRef?null:i.modalRef.hide()}),f.TgZ(4,"span",22),f._uU(5,"\xd7"),f.qZA()()(),f.TgZ(6,"div",23),f._uU(7,"Are you sure you want to delete this task?"),f.qZA(),f.TgZ(8,"div",24),f._UZ(9,"hr",25),f.qZA(),f.YNc(10,jI,7,0,"div",26),f.ALo(11,"async")}if(2&n){const t=f.oxw();f.xp6(10),f.Q6J("ngForOf",f.lcZ(11,1,t.displayTask$))}}let yv=(()=>{class n{constructor(t,r,i,u){this.modalService=t,this._getsAllAddTaskDto=r,this._setsAddTaskDto=i,this._removesAddTaskDto=u,this.displayTask$=this._getsAllAddTaskDto.getAll().pipe((0,kt.U)(c=>c.sort((p,y)=>y.order-p.order))),this.setTask=new cc({setTask:new $g})}onItemClicked(t){this._setsAddTaskDto.set(!1===t.isChecked?{id:t.id,isChecked:!0}:{id:t.id,isChecked:!1})}removeTask(t){this._removesAddTaskDto.remove(t)}openModal(t){this.modalRef=this.modalService.show(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(dm),f.Y36(w_),f.Y36(Dg),f.Y36(Z_))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-display-task"]],decls:6,vars:4,consts:[[3,"formGroup"],["class","list-unstyled",4,"ngFor","ngForOf"],["template",""],[1,"list-unstyled"],[1,"container","px-0"],[1,"row"],[1,"col","px-0"],["type","checkbox","id","checkboxNoLabel",1,"form-check-input","rounded-circle","pointer",3,"ngClass","checked","click"],[1,"d-inline",3,"ngClass"],[1,"col","col-lg-2"],["dropdown","",1,"btn-group"],["id","button-basic","dropdownToggle","","type","button","aria-controls","dropdown-basic",1,"btn","py-0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-three-dots"],["d","M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z"],[1,"caret"],["id","dropdown-basic","class","dropdown-menu","role","menu","aria-labelledby","button-basic",4,"dropdownMenu"],["id","dropdown-basic","role","menu","aria-labelledby","button-basic",1,"dropdown-menu"],["role","menuitem"],[1,"dropdown-item","pointer",3,"click"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"container-flex"],[1,"container"],["class","d-flex flex-row-reverse bd-highlight",4,"ngFor","ngForOf"],[1,"d-flex","flex-row-reverse","bd-highlight"],[1,"p-2","bd-highlight"],[1,"me-2","bg-danger","border-light","rounded","text-white",3,"click"],[1,"p-2","bd-highlight","pe-2"],[1,"me-1","bg-light","border","border-light","rounded",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"form",0)(1,"ul"),f.YNc(2,UI,14,8,"li",1),f.ALo(3,"async"),f.qZA()(),f.YNc(4,$I,12,3,"ng-template",null,2,f.W1O)),2&t&&(f.Q6J("formGroup",r.setTask),f.xp6(2),f.Q6J("ngForOf",f.lcZ(3,2,r.displayTask$)))},directives:[V_,xg,dc,or,hs,mv,Lo,ma],pipes:[pu],encapsulation:2,changeDetection:0}),n})();const Wd=new f.OlP("ADDS_ADD_TASK_DTO");let HI=(()=>{class n{constructor(t,r){this._addsAddTaskDto=t,this._removesAddTaskDto=r,this.task=new cc({task:new $g})}onAddTaskSubmited(t){var r;this._addsAddTaskDto.add({task:null===(r=t.get("task"))||void 0===r?void 0:r.value}),this.task.reset()}cancelAnimationFrame(){this.task.reset()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Wd),f.Y36(Z_))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-add-task"]],decls:6,vars:2,consts:[[3,"formGroup","ngSubmit"],["type","text","formControlName","task","placeholder","Task","ngModel","","required","",1,"d-block"],["type","submit",1,"addButton",3,"disabled"],["type","button",1,"bg-secondary","m-3","cancelMain",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"form",0),f.NdJ("ngSubmit",function(){return r.onAddTaskSubmited(r.task)}),f._UZ(1,"input",1),f.TgZ(2,"button",2),f._uU(3," Add Task "),f.qZA(),f.TgZ(4,"button",3),f.NdJ("click",function(){return r.cancelAnimationFrame()}),f._uU(5," Cancel "),f.qZA()()),2&t&&(f.Q6J("formGroup",r.task),f.xp6(2),f.Q6J("disabled",r.task.invalid))},directives:[V_,xg,dc,yf,T_,qg,Zg],encapsulation:2,changeDetection:0}),n})(),$w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-add-task-page"]],decls:10,vars:0,consts:[[1,"container","p-0"],[1,"row","gx-5"],[1,"col"],[1,"p-3"],[1,"container","ps-4"],[1,"ps-4"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),f._UZ(4,"lib-display-task"),f.qZA()()()(),f.TgZ(5,"div",4)(6,"div",1)(7,"div",2)(8,"div",5),f._UZ(9,"lib-add-task"),f.qZA()()()())},directives:[yv,HI],encapsulation:2,changeDetection:0}),n})(),GI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Dr,K_,$a]]}),n})();var Hw=k(4986),Ur=k(5813);function Kd(){return(0,Fr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Gn.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function Gw(n,e){return n===e}var rt,oo=k(2011),pm=(k(4087),k(3942)),ve=k(5861),Yu=k(9681),Uf=k(4859),Ka=k(1877),Gt=k(2090),qw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ya={},_v=_v||{},Nt=qw||self;function gm(){}function vv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function jf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ev="closure_uid_"+(1e9*Math.random()>>>0),KI=0;function ZI(n,e,t){return n.call.apply(n.bind,arguments)}function YI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ei(n,e,t){return(ei=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ZI:YI).apply(null,arguments)}function mm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ti(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,u){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function Qu(){this.s=this.s,this.o=this.o}var JI={};Qu.prototype.s=!1,Qu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function WI(n){return Object.prototype.hasOwnProperty.call(n,Ev)&&n[Ev]||(n[Ev]=++KI)}(this);delete JI[n]}},Qu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Ww=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in i&&e.call(t,i[u],u,n)};function wv(n){return Array.prototype.concat.apply([],arguments)}function ym(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function $f(n){return/^[\s\xa0]*$/.test(n)}var Ei,bv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function vi(n,e){return-1!=n.indexOf(e)}function _m(n,e){return n<e?-1:n>e?1:0}e:{var Dv=Nt.navigator;if(Dv){var Cv=Dv.userAgent;if(Cv){Ei=Cv;break e}}Ei=""}function vm(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Ju(n){const e={};for(const t in n)e[t]=n[t];return e}var Zw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Yw(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<Zw.length;u++)t=Zw[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Xu(n){return Xu[" "](n),n}Xu[" "]=gm;var wm,n,Iv=vi(Ei,"Opera"),Hf=vi(Ei,"Trident")||vi(Ei,"MSIE"),Tv=vi(Ei,"Edge"),Em=Tv||Hf,XI=vi(Ei,"Gecko")&&!(vi(Ei.toLowerCase(),"webkit")&&!vi(Ei,"Edge"))&&!(vi(Ei,"Trident")||vi(Ei,"MSIE"))&&!vi(Ei,"Edge"),bt=vi(Ei.toLowerCase(),"webkit")&&!vi(Ei,"Edge");function Qw(){var n=Nt.document;return n?n.documentMode:void 0}e:{var Av="",Zd=(n=Ei,XI?/rv:([^\);]+)(\)|;)/.exec(n):Tv?/Edge\/([\d\.]+)/.exec(n):Hf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):bt?/WebKit\/(\S+)/.exec(n):Iv?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Zd&&(Av=Zd?Zd[1]:""),Hf){var Sv=Qw();if(null!=Sv&&Sv>parseFloat(Av)){wm=String(Sv);break e}}wm=Av}var bm={};var Jw=Nt.document&&Hf&&(Qw()||parseInt(wm,10))||void 0,tT=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nt.addEventListener("test",gm,e),Nt.removeEventListener("test",gm,e)}catch(t){}return n}();function wi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Yd(n,e){if(wi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(XI){e:{try{Xu(e.nodeName);var i=!0;break e}catch(u){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yd.Z.h.call(this)}}wi.prototype.h=function(){this.defaultPrevented=!0},ti(Yd,wi);var Xw={2:"touch",3:"pen",4:"mouse"};Yd.prototype.h=function(){Yd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Qd="closure_listenable_"+(1e6*Math.random()|0),eb=0;function nT(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++eb,this.ca=this.fa=!1}function Cm(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Im(n){this.src=n,this.g={},this.h=0}function vc(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=zw(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Cm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Mv(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return i}return-1}Im.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=Mv(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new nT(e,this.src,u,!!r,i)).fa=t,n.push(e)),e};var xv="closure_lm_"+(1e6*Math.random()|0),Rv={};function Gf(n,e,t,r,i){if(r&&r.once)return Ov(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Gf(n,e[u],t,r,i);return null}return t=Tm(t),n&&n[Qd]?n.N(e,t,jf(r)?!!r.capture:!!r,i):Nv(n,e,t,!1,r,i)}function Nv(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=jf(i)?!!i.capture:!!i,p=kv(n);if(p||(n[xv]=p=new Im(n)),(t=p.add(e,t,r,c,u)).proxy)return t;if(r=function tb(){var e=rT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)tT||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Jd(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Ov(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Ov(n,e[u],t,r,i);return null}return t=Tm(t),n&&n[Qd]?n.O(e,t,jf(r)?!!r.capture:!!r,i):Nv(n,e,t,!0,r,i)}function nb(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)nb(n,e[u],t,r,i);else r=jf(r)?!!r.capture:!!r,t=Tm(t),n&&n[Qd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Mv(u=n.g[e],t,r,i))&&(Cm(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=kv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Mv(e,t,r,i)),(t=-1<n?e[n]:null)&&Ec(t))}function Ec(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Qd])vc(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Jd(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=kv(e))?(vc(t,n),0==t.h&&(t.src=null,e[xv]=null)):Cm(n)}}}function Jd(n){return n in Rv?Rv[n]:Rv[n]="on"+n}function rT(n,e){if(n.ca)n=!0;else{e=new Yd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Ec(n),n=t.call(r,e)}return n}function kv(n){return(n=n[xv])instanceof Im?n:null}var Pv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tm(n){return"function"==typeof n?n:(n[Pv]||(n[Pv]=function(e){return n.handleEvent(e)}),n[Pv])}function Nr(){Qu.call(this),this.i=new Im(this),this.P=this,this.I=null}function jr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new wi(e,n);else if(e instanceof wi)e.target=e.target||n;else{var i=e;Yw(e=new wi(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=Am(c,r,!0,e)&&i}if(i=Am(c=e.g=n,r,!0,e)&&i,i=Am(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=Am(c=e.g=t[u],r,!1,e)&&i}function Am(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ca&&c.capture==t){var p=c.listener,y=c.ia||c.src;c.fa&&vc(n.i,c),i=!1!==p.call(y,r)&&i}}return i&&!r.defaultPrevented}ti(Nr,Qu),Nr.prototype[Qd]=!0,Nr.prototype.removeEventListener=function(n,e,t,r){nb(this,n,e,t,r)},Nr.prototype.M=function(){if(Nr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Cm(t[r]);delete n.g[e],n.h--}}this.I=null},Nr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Nr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Sm=Nt.JSON.stringify;function iT(){var n=ib;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Mm,oT=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new XM,n=>n.reset());class XM{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ex(n){Nt.setTimeout(()=>{throw n},0)}function rb(n,e){Mm||function xm(){var n=Nt.Promise.resolve(void 0);Mm=function(){n.then(sb)}}(),Fv||(Mm(),Fv=!0),ib.add(n,e)}var Fv=!1,ib=new class sT{constructor(){this.h=this.g=null}add(e,t){const r=oT.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function sb(){for(var n;n=iT();){try{n.h.call(n.g)}catch(t){ex(t)}var e=oT;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Fv=!1}function el(n,e){Nr.call(this),this.h=n||1,this.g=e||Nt,this.j=ei(this.kb,this),this.l=Date.now()}function Lv(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Vv(n,e,t){if("function"==typeof n)t&&(n=ei(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ei(n.handleEvent,n)}return 2147483647<Number(e)?-1:Nt.setTimeout(n,e||0)}function ob(n){n.g=Vv(()=>{n.g=null,n.i&&(n.i=!1,ob(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ti(el,Nr),(rt=el.prototype).da=!1,rt.S=null,rt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),jr(this,"tick"),this.da&&(Lv(this),this.start()))}},rt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.M=function(){el.Z.M.call(this),Lv(this),delete this.g};class aT extends Qu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ob(this)}M(){super.M(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qf(n){Qu.call(this),this.h=n,this.g={}}ti(qf,Qu);var Bv=[];function ab(n,e,t,r){Array.isArray(t)||(t&&(Bv[0]=t.toString()),t=Bv);for(var i=0;i<t.length;i++){var u=Gf(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function ub(n){vm(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ec(e)},n),n.g={}}function Za(){this.g=!0}function Xd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function lT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return Sm(t)}catch(p){return e}}(n,t)+(r?" "+r:"")})}qf.prototype.M=function(){qf.Z.M.call(this),ub(this)},qf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Za.prototype.Aa=function(){this.g=!1},Za.prototype.info=function(){};var tl={},db=null;function eh(){return db=db||new Nr}function hb(n){wi.call(this,tl.Ma,n)}function th(n){const e=eh();jr(e,new hb(e,n))}function Uv(n,e){wi.call(this,tl.STAT_EVENT,n),this.stat=e}function Gi(n){const e=eh();jr(e,new Uv(e,n))}function fb(n,e){wi.call(this,tl.Na,n),this.size=e}function zf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){n()},e)}tl.Ma="serverreachability",ti(hb,wi),tl.STAT_EVENT="statevent",ti(Uv,wi),tl.Na="timingevent",ti(fb,wi);var nh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},pb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Rm(){}function mb(){}Rm.prototype.h=null;var Hv,Wf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function jv(){wi.call(this,"d")}function $v(){wi.call(this,"c")}function Nm(){}function Kf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new qf(this),this.P=yb,this.W=new el(n=Em?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Gv}function Gv(){this.i=null,this.g="",this.h=!1}ti(jv,wi),ti($v,wi),ti(Nm,Rm),Nm.prototype.g=function(){return new XMLHttpRequest},Nm.prototype.i=function(){return{}},Hv=new Nm;var yb=45e3,qv={},Om={};function km(n,e,t){n.K=1,n.v=Qf(ao(e)),n.s=t,n.U=!0,_b(n,null)}function _b(n,e){n.F=Date.now(),wc(n),n.A=ao(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Bm(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Gv,n.g=zm(n.l,t?e:null,!n.s),0<n.O&&(n.L=new aT(ei(n.Ia,n,n.g),n.O)),ab(n.V,n.g,"readystatechange",n.gb),e=n.H?Ju(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),th(1),function uT(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",p=u.split("&"),y=0;y<p.length;y++){var b=p[y].split("=");if(1<b.length){var S=b[0];b=b[1];var M=S.split("_");c=2<=M.length&&"type"==M[1]?c+(S+"=")+b+"&":c+(S+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function vb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Eb(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=zv(n,t),i==Om){4==e&&(n.o=4,Gi(14),r=!1),Xd(n.j,n.m,null,"[Incomplete Response]");break}if(i==qv){n.o=4,Gi(15),Xd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Xd(n.j,n.m,i,null),Yf(n,i)}vb(n)&&i!=Om&&i!=qv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Gi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),a0(e),e.L=!0,Gi(11))):(Xd(n.j,n.m,t,"[Invalid Chunked Response]"),bc(n),Zf(n))}function zv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Om:(t=Number(e.substring(t,r)),isNaN(t)?qv:(r+=1)+t>e.length?Om:(e=e.substr(r,t),n.C=r+t,e))}function wc(n){n.Y=Date.now()+n.P,Wv(n,n.P)}function Wv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=zf(ei(n.eb,n),e)}function rh(n){n.B&&(Nt.clearTimeout(n.B),n.B=null)}function Zf(n){0==n.l.G||n.I||qm(n.l,n)}function bc(n){rh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Lv(n.W),ub(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Yf(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Tb(t.i,n)))if(t.I=n.N,!n.J&&Tb(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=zf(ei(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;lp(t),Is(t)}o0(t),Gi(18)}if(1>=Ic(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else Tc(t,11)}else if((n.J||t.g==n)&&lp(t),!$f(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const S=b[3];null!=S&&(t.ma=S,t.h.info("VER="+t.ma));const M=b[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const G=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var u=r.i;!u.g&&(vi(G,"spdy")||vi(G,"quic")||vi(G,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Um(u,u.h),u.h=null))}if(r.D){const ne=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.sa=ne,Wn(r.F,r.D,ne))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=vT(r,r.H?r.la:null,r.W),c.J){Ab(r.i,c);var p=c,y=r.K;y&&p.setTimeout(y),p.B&&(rh(p),wc(p)),r.g=c}else up(r);0<t.l.length&&rl(t)}else"stop"!=b[0]&&"close"!=b[0]||Tc(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Tc(t,7):ip(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}th(4)}catch(b){}}function Pm(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vv(n)||"string"==typeof n)Ww(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(vv(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function cT(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(vv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}}function ih(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ih)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Fm(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Dc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Dc(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Dc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(rt=Kf.prototype).setTimeout=function(n){this.P=n},rt.gb=function(n){n=n.target;const e=this.L;e&&3==Ja(n)?e.l():this.Ia(n)},rt.Ia=function(n){try{if(n==this.g)e:{const S=Ja(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>S)&&(3!=S||Em||this.g&&(this.h.h||this.g.ga()||kb(this.g)))){this.I||4!=S||7==e||th(8==e||0>=M?3:2),rh(this);var t=this.g.ba();this.N=t;t:if(vb(this)){var r=kb(this.g);n="";var i=r.length,u=4==Ja(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){bc(this),Zf(this);var c="";break t}this.h.i=new Nt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function lb(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.X,S,t),this.i){if(this.$&&!this.J){t:{if(this.g){var p,y=this.g;if((p=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$f(p)){var b=p;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Gi(12),bc(this),Zf(this);break e}Xd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Yf(this,t)}this.U?(Eb(this,S,c),Em&&this.i&&3==S&&(ab(this.V,this.W,"tick",this.fb),this.W.start())):(Xd(this.j,this.m,c,null),Yf(this,c)),4==S&&bc(this),this.i&&!this.I&&(4==S?qm(this.l,this):(this.i=!1,wc(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Gi(12)):(this.o=0,Gi(13)),bc(this),Zf(this)}}}catch(S){}},rt.fb=function(){if(this.g){var n=Ja(this.g),e=this.g.ga();this.C<e.length&&(rh(this),Eb(this,n,e),this.i&&4!=n&&wc(this))}},rt.cancel=function(){this.I=!0,bc(this)},rt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function cb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(th(3),Gi(17)),bc(this),this.o=2,Zf(this)):Wv(this,this.Y-n)},(rt=ih.prototype).R=function(){Fm(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},rt.T=function(){return Fm(this),this.g.concat()},rt.get=function(n,e){return Dc(this.h,n)?this.h[n]:e},rt.set=function(n,e){Dc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},rt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],u=this.get(i);n.call(e,u,i,this)}};var Kv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Cc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Cc){this.g=void 0!==e?e:n.g,Lm(this,n.j),this.s=n.s,Ya(this,n.i),nl(this,n.m),this.l=n.l,e=n.h;var t=new sh;t.i=e.i,e.g&&(t.g=new ih(e.g),t.h=e.h),wb(this,t),this.o=n.o}else n&&(t=String(n).match(Kv))?(this.g=!!e,Lm(this,t[1]||"",!0),this.s=Jf(t[2]||""),Ya(this,t[3]||"",!0),nl(this,t[4]),this.l=Jf(t[5]||"",!0),wb(this,t[6]||"",!0),this.o=Jf(t[7]||"")):(this.g=!!e,this.h=new sh(null,this.g))}function ao(n){return new Cc(n)}function Lm(n,e,t){n.j=t?Jf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ya(n,e,t){n.i=t?Jf(e,!0):e}function nl(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function wb(n,e,t){e instanceof sh?(n.h=e,function nx(n,e){e&&!n.j&&(Qa(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Db(this,r),Bm(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Xf(e,ep)),n.h=new sh(e,n.g))}function Wn(n,e,t){n.h.set(e,t)}function Qf(n){return Wn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Jf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Xf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,bb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function bb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Cc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Xf(e,Zv,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Xf(e,Zv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Xf(t,"/"==t.charAt(0)?Vm:Yv,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Xf(t,fT)),n.join("")};var Zv=/[#\/\?@]/g,Yv=/[#\?:]/g,Vm=/[#\?]/g,ep=/[#\?@]/g,fT=/#/g;function sh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qa(n){n.g||(n.g=new ih,n.h=0,n.i&&function tx(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Db(n,e){Qa(n),e=oh(n,e),Dc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Dc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Fm(n)))}function Cb(n,e){return Qa(n),e=oh(n,e),Dc(n.g.h,e)}function Bm(n,e,t){Db(n,e),0<t.length&&(n.i=null,n.g.set(oh(n,e),ym(t)),n.h+=t.length)}function oh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Ib(n){this.l=n||ah,n=Nt.PerformanceNavigationTiming?0<(n=Nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ea&&Nt.g.Ea()&&Nt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=sh.prototype).add=function(n,e){Qa(this),this.i=null,n=oh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},rt.forEach=function(n,e){Qa(this),this.g.forEach(function(t,r){Ww(t,function(i){n.call(e,i,r,this)},this)},this)},rt.T=function(){Qa(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],u=0;u<i.length;u++)t.push(e[r]);return t},rt.R=function(n){Qa(this);var e=[];if("string"==typeof n)Cb(this,n)&&(e=wv(e,this.g.get(oh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=wv(e,n[t])}return e},rt.set=function(n,e){return Qa(this),this.i=null,Cb(this,n=oh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},rt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var c=i;""!==r[u]&&(c+="="+encodeURIComponent(String(r[u]))),n.push(c)}}return this.i=n.join("&")};var ah=10;function Qv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Ic(n){return n.h?1:n.g?n.g.size:0}function Tb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Um(n,e){n.g?n.g.add(e):n.h=e}function Ab(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function gT(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ym(n.i)}function jm(){}function rx(){this.g=new jm}function Sb(n,e,t){const r=t||"";try{Pm(n,function(i,u){let c=i;jf(i)&&(c=Sm(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $m(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(u){}}function uh(n){this.l=n.$b||null,this.j=n.ib||!1}function Hm(n,e){Nr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Xv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ib.prototype.cancel=function(){if(this.i=gT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},jm.prototype.stringify=function(n){return Nt.JSON.stringify(n,void 0)},jm.prototype.parse=function(n){return Nt.JSON.parse(n,void 0)},ti(uh,Rm),uh.prototype.g=function(){return new Hm(this.l,this.j)},uh.prototype.i=function(n){return function(){return n}}({}),ti(Hm,Nr);var Xv=0;function Mb(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function tp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,np(n)}function np(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(rt=Hm.prototype).open=function(n,e){if(this.readyState!=Xv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,np(this)},rt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Nt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tp(this)),this.readyState=Xv},rt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,np(this)),this.g&&(this.readyState=3,np(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Nt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mb(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},rt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?tp(this):np(this),3==this.readyState&&Mb(this)}},rt.Ua=function(n){this.g&&(this.response=this.responseText=n,tp(this))},rt.Ta=function(n){this.g&&(this.response=n,tp(this))},rt.ha=function(){this.g&&tp(this)},rt.setRequestHeader=function(n,e){this.v.append(n,e)},rt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Hm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var mT=Nt.JSON.parse;function yr(n){Nr.call(this),this.headers=new ih,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xb,this.K=this.L=!1}ti(yr,Nr);var xb="",rp=/^https?$/i,Rb=["POST","PUT"];function Ob(n){return"content-type"==n.toLowerCase()}function e0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,t0(n),Gm(n)}function t0(n){n.D||(n.D=!0,jr(n,"complete"),jr(n,"error"))}function n0(n){if(n.h&&void 0!==_v&&(!n.C[1]||4!=Ja(n)||2!=n.ba()))if(n.v&&4==Ja(n))Vv(n.Fa,0,n);else if(jr(n,"readystatechange"),4==Ja(n)){n.h=!1;try{const p=n.ba();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match(Kv)[1]||null;if(!i&&Nt.self&&Nt.self.location){var u=Nt.self.location.protocol;i=u.substr(0,u.length-1)}r=!rp.test(i?i.toLowerCase():"")}t=r}if(t)jr(n,"complete"),jr(n,"success");else{n.m=6;try{var c=2<Ja(n)?n.g.statusText:""}catch(y){c=""}n.j=c+" ["+n.ba()+"]",t0(n)}}finally{Gm(n)}}}function Gm(n,e){if(n.g){r0(n);const t=n.g,r=n.C[0]?gm:null;n.g=null,n.C=null,e||jr(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function r0(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Nt.clearTimeout(n.A),n.A=null)}function Ja(n){return n.g?n.g.readyState:0}function kb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case xb:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function s0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function yT(n){let e="";return vm(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Wn(n,e,t))}function Xa(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Pb(n){this.za=0,this.l=[],this.h=new Za,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xa("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xa("baseRetryDelayMs",5e3,n),this.$a=Xa("retryDelaySeedMs",1e4,n),this.Ya=Xa("forwardChannelMaxRetries",2,n),this.ra=Xa("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Ib(n&&n.concurrentRequestLimit),this.Ca=new rx,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ip(n){if(Fb(n),3==n.G){var e=n.V++,t=ao(n.F);Wn(t,"SID",n.J),Wn(t,"RID",e),Wn(t,"TYPE","terminate"),op(n,t),(e=new Kf(n,n.h,e,void 0)).K=2,e.v=Qf(ao(t)),t=!1,Nt.navigator&&Nt.navigator.sendBeacon&&(t=Nt.navigator.sendBeacon(e.v.toString(),"")),!t&&Nt.Image&&((new Image).src=e.v,t=!0),t||(e.g=zm(e.l,null),e.g.ea(e.v)),e.F=Date.now(),wc(e)}Vb(n)}function Is(n){n.g&&(a0(n),n.g.cancel(),n.g=null)}function Fb(n){Is(n),n.u&&(Nt.clearTimeout(n.u),n.u=null),lp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nt.clearTimeout(n.m),n.m=null)}function sp(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&rl(n)}function rl(n){Qv(n.i)||n.m||(n.m=!0,rb(n.Ha,n),n.C=0)}function Lb(n,e){var t;t=e?e.m:n.V++;const r=ao(n.F);Wn(r,"SID",n.J),Wn(r,"RID",t),Wn(r,"AID",n.U),op(n,r),n.o&&n.s&&s0(r,n.o,n.s),t=new Kf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=ap(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Um(n.i,t),km(t,r,e)}function op(n,e){n.j&&Pm({},function(t,r){Wn(e,r,t)})}function ap(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ei(n.j.Oa,n.j,n):null;e:{var i=n.l;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let p=!0;for(let y=0;y<t;y++){let b=i[y].h;const S=i[y].g;if(b-=u,0>b)u=Math.max(0,i[y].h-100),p=!1;else try{Sb(S,c,"req"+b+"_")}catch(M){r&&r(S)}}if(p){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function up(n){n.g||n.u||(n.Y=1,rb(n.Ga,n),n.A=0)}function o0(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=zf(ei(n.Ga,n),l0(n,n.A)),n.A++,0))}function a0(n){null!=n.B&&(Nt.clearTimeout(n.B),n.B=null)}function u0(n){n.g=new Kf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ao(n.oa);Wn(e,"RID","rpc"),Wn(e,"SID",n.J),Wn(e,"CI",n.N?"0":"1"),Wn(e,"AID",n.U),op(n,e),Wn(e,"TYPE","xmlhttp"),n.o&&n.s&&s0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Qf(ao(e)),t.s=null,t.U=!0,_b(t,n)}function lp(n){null!=n.v&&(Nt.clearTimeout(n.v),n.v=null)}function qm(n,e){var t=null;if(n.g==e){lp(n),a0(n),n.g=null;var r=2}else{if(!Tb(n.i,e))return;t=e.D,Ab(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;jr(r=eh(),new fb(r,t,e,i)),rl(n)}else up(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function _T(n,e){return!(Ic(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=zf(ei(n.Ha,n,e),l0(n,n.C)),n.C++,0)))}(n,e)||2==r&&o0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Tc(n,5);break;case 4:Tc(n,10);break;case 3:Tc(n,6);break;default:Tc(n,2)}}function l0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Tc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ei(n.jb,n);t||(t=new Cc("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||Lm(t,"https"),Qf(t)),function Jv(n,e){const t=new Za;if(Nt.Image){const r=new Image;r.onload=mm($m,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mm($m,t,r,"TestLoadImage: error",!1,e),r.onabort=mm($m,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mm($m,t,r,"TestLoadImage: timeout",!1,e),Nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Gi(2);n.G=0,n.j&&n.j.va(e),Vb(n),Fb(n)}function Vb(n){n.G=0,n.I=-1,n.j&&((0!=gT(n.i).length||0!=n.l.length)&&(n.i.i.length=0,ym(n.l),n.l.length=0),n.j.ua())}function vT(n,e,t){let r=function dT(n){return n instanceof Cc?ao(n):new Cc(n,void 0)}(t);if(""!=r.i)e&&Ya(r,e+"."+r.i),nl(r,r.m);else{const i=Nt.location;r=function hT(n,e,t,r){var i=new Cc(null,void 0);return n&&Lm(i,n),e&&Ya(i,e),t&&nl(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&vm(n.aa,function(i,u){Wn(r,u,i)}),t=n.sa,(e=n.D)&&t&&Wn(r,e,t),Wn(r,"VER",n.ma),op(n,r),r}function zm(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new yr(t&&n.Ba&&!n.qa?new uh({ib:!0}):n.qa)).L=n.H,e}function Wm(){}function cp(){if(Hf&&!(10<=Number(Jw)))throw Error("Environmental error: no available transport.")}function qi(n,e){Nr.call(this),this.g=new Pb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!$f(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$f(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new lh(this)}function Km(n){jv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Bb(){$v.call(this),this.status=1}function lh(n){this.g=n}(rt=yr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hv.g(),this.C=function gb(n){return n.h||(n.h=n.i())}(this.u?this.u:Hv),this.g.onreadystatechange=ei(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void e0(this,u)}n=t||"";const i=new ih(this.headers);r&&Pm(r,function(u,c){i.set(c,u)}),r=function Kw(n){e:{var e=Ob;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Nt.FormData&&n instanceof Nt.FormData,!(0<=zw(Rb,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(u,c){this.g.setRequestHeader(c,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{r0(this),0<this.B&&((this.K=function Nb(n){return Hf&&function Dm(){return function JM(n){var e=bm;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=bv(String(wm)).split("."),t=bv("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=_m(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||_m(0==i[2].length,0==u[2].length)||_m(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ei(this.pa,this)):this.A=Vv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){e0(this,u)}},rt.pa=function(){void 0!==_v&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jr(this,"timeout"),this.abort(8))},rt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,jr(this,"complete"),jr(this,"abort"),Gm(this))},rt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gm(this,!0)),yr.Z.M.call(this)},rt.Fa=function(){this.s||(this.F||this.v||this.l?n0(this):this.cb())},rt.cb=function(){n0(this)},rt.ba=function(){try{return 2<Ja(this)?this.g.status:-1}catch(n){return-1}},rt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},rt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),mT(e)}},rt.Da=function(){return this.m},rt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=Pb.prototype).ma=8,rt.G=1,rt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},rt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Kf(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=Ju(u),Yw(u,this.P)):u=this.P),null===this.o&&(i.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ap(this,i,e),Wn(t=ao(this.F),"RID",n),Wn(t,"CVER",22),this.D&&Wn(t,"X-HTTP-Session-Id",this.D),op(this,t),this.o&&u&&s0(t,this.o,u),Um(this.i,i),this.Ra&&Wn(t,"TYPE","init"),this.ja?(Wn(t,"$req",e),Wn(t,"SID","null"),i.$=!0,km(i,t,null)):km(i,t,e),this.G=2}}else 3==this.G&&(n?Lb(this,n):0==this.l.length||Qv(this.i)||Lb(this))},rt.Ga=function(){if(this.u=null,u0(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=zf(ei(this.bb,this),n)}},rt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gi(10),Is(this),u0(this))},rt.ab=function(){null!=this.v&&(this.v=null,Is(this),o0(this),Gi(19))},rt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Gi(2)):(this.h.info("Failed to ping google.com"),Gi(1))},(rt=Wm.prototype).xa=function(){},rt.wa=function(){},rt.va=function(){},rt.ua=function(){},rt.Oa=function(){},cp.prototype.g=function(n,e){return new qi(n,e)},ti(qi,Nr),qi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),rb(ei(n.hb,n,e))),Gi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=vT(n,null,n.W),rl(n)},qi.prototype.close=function(){ip(this.g)},qi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,sp(this.g,e)}else this.v?((e={}).__data__=Sm(n),sp(this.g,e)):sp(this.g,n)},qi.prototype.M=function(){this.g.j=null,delete this.j,ip(this.g),delete this.g,qi.Z.M.call(this)},ti(Km,jv),ti(Bb,$v),ti(lh,Wm),lh.prototype.xa=function(){jr(this.g,"a")},lh.prototype.wa=function(n){jr(this.g,new Km(n))},lh.prototype.va=function(n){jr(this.g,new Bb(n))},lh.prototype.ua=function(){jr(this.g,"b")},cp.prototype.createWebChannel=cp.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,nh.NO_ERROR=0,nh.TIMEOUT=8,nh.HTTP_ERROR=6,pb.COMPLETE="complete",mb.EventType=Wf,Wf.OPEN="a",Wf.CLOSE="b",Wf.ERROR="c",Wf.MESSAGE="d",Nr.prototype.listen=Nr.prototype.N,yr.prototype.listenOnce=yr.prototype.O,yr.prototype.getLastError=yr.prototype.La,yr.prototype.getLastErrorCode=yr.prototype.Da,yr.prototype.getStatus=yr.prototype.ba,yr.prototype.getResponseJson=yr.prototype.Qa,yr.prototype.getResponseText=yr.prototype.ga,yr.prototype.send=yr.prototype.ea;var ET=ya.createWebChannelTransport=function(){return new cp},wT=ya.getStatEventTarget=function(){return eh()},Zm=ya.ErrorCode=nh,c0=ya.EventType=pb,Ub=ya.Event=tl,jb=ya.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$b=ya.FetchXmlHttpFactory=uh,dp=ya.WebChannel=mb,bT=ya.XhrIo=yr;const d0="@firebase/firestore";class $r{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");let ch="9.6.10";const eu=new Ka.Yd("@firebase/firestore");function Ym(){return eu.logLevel}function Oe(n,...e){if(eu.logLevel<=Ka.in.DEBUG){const t=e.map(Hb);eu.debug(`Firestore (${ch}): ${n}`,...t)}}function _r(n,...e){if(eu.logLevel<=Ka.in.ERROR){const t=e.map(Hb);eu.error(`Firestore (${ch}): ${n}`,...t)}}function hp(n,...e){if(eu.logLevel<=Ka.in.WARN){const t=e.map(Hb);eu.warn(`Firestore (${ch}): ${n}`,...t)}}function Hb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function tt(n="Unexpected state"){const e=`FIRESTORE (${ch}) INTERNAL ASSERTION FAILED: `+n;throw _r(e),new Error(e)}function Mt(n,e){n||tt()}function We(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Gt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Qm{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($r.UNAUTHENTICATED))}shutdown(){}}class qb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Jm{constructor(e){this.t=e,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,e.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const b=c;e.enqueueRetryable((0,ve.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},y=b=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(b=>y(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?y(b):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt("string"==typeof r.accessToken),new Qm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mt(null===e||"string"==typeof e),new $r(e)}}class f0{constructor(e,t,r){this.type="FirstParty",this.user=$r.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class ix{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new f0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class p0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DT{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.p;return this.p=u.token,Oe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?i(u):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mt("string"==typeof t.token),this.p=t.token,new p0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class bi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function zb(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}bi.A=-1;class Wb{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=zb(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function $t(n,e){return n<e?-1:n>e?1:0}function il(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function IT(n){return n+"\0"}class ur{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ur.fromMillis(Date.now())}static fromDate(e){return ur.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ur(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$t(this.nanoseconds,e.nanoseconds):$t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new ur(0,0))}static max(){return new It(new ur(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function g0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function sl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Kb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dh{constructor(e,t,r){void 0===t?t=0:t>e.length&&tt(),void 0===r?r=e.length-t:r>e.length-t&&tt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===dh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends dh{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const TT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gr extends dh{construct(e,t,r){return new Gr(e,t,r)}static isValidIdentifier(e){return TT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Ne(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Ne(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ne(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(u(),i++)}if(u(),c)throw new Ne(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gr(t)}static emptyPath(){return new Gr([])}}class Ac{constructor(e){this.fields=e,e.sort(Gr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const Zb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tu(n){if(Mt(!!n),"string"==typeof n){let e=0;const t=Zb.exec(n);if(Mt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kn(n.seconds),nanos:Kn(n.nanos)}}function Kn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Sc(n){return"string"==typeof n?vr.fromBase64String(n):vr.fromUint8Array(n)}function m0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ST(n){const e=n.mapValue.fields.__previous_value__;return m0(e)?ST(e):e}function hh(n){const e=tu(n.mapValue.fields.__local_write_time__.timestampValue);return new ur(e.seconds,e.nanos)}class sx{constructor(e,t,r,i,u,c,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=y}}class ol{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ol("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ol&&e.projectId===this.projectId&&e.database===this.database}}function fh(n){return null==n}function Xm(n){return 0===n&&1/n==-1/0}function MT(n){return"number"==typeof n&&Number.isInteger(n)&&!Xm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class He{constructor(e){this.path=e}static fromPath(e){return new He(Qt.fromString(e))}static fromName(e){return new He(Qt.fromString(e).popFirst(5))}static empty(){return new He(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Qt(e.slice()))}}const xT={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},RT={nullValue:"NULL_VALUE"};function _a(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?m0(n)?4:ty(n)?9:10:tt()}function nu(n,e){if(n===e)return!0;const t=_a(n);if(t!==_a(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hh(n).isEqual(hh(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=tu(r.timestampValue),c=tu(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Sc(n.bytesValue).isEqual(Sc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Kn(r.geoPointValue.latitude)===Kn(i.geoPointValue.latitude)&&Kn(r.geoPointValue.longitude)===Kn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Kn(r.integerValue)===Kn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Kn(r.doubleValue),c=Kn(i.doubleValue);return u===c?Xm(u)===Xm(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return il(n.arrayValue.values||[],e.arrayValue.values||[],nu);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(g0(u)!==g0(c))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(void 0===c[p]||!nu(u[p],c[p])))return!1;return!0}(n,e);default:return tt()}var i}function ph(n,e){return void 0!==(n.values||[]).find(t=>nu(t,e))}function va(n,e){if(n===e)return 0;const t=_a(n),r=_a(e);if(t!==r)return $t(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $t(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=Kn(i.integerValue||i.doubleValue),p=Kn(u.integerValue||u.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return y0(n.timestampValue,e.timestampValue);case 4:return y0(hh(n),hh(e));case 5:return $t(n.stringValue,e.stringValue);case 6:return function(i,u){const c=Sc(i),p=Sc(u);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),p=u.split("/");for(let y=0;y<c.length&&y<p.length;y++){const b=$t(c[y],p[y]);if(0!==b)return b}return $t(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=$t(Kn(i.latitude),Kn(u.latitude));return 0!==c?c:$t(Kn(i.longitude),Kn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],p=u.values||[];for(let y=0;y<c.length&&y<p.length;++y){const b=va(c[y],p[y]);if(b)return b}return $t(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){const c=i.fields||{},p=Object.keys(c),y=u.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let S=0;S<p.length&&S<b.length;++S){const M=$t(p[S],b[S]);if(0!==M)return M;const F=va(c[p[S]],y[b[S]]);if(0!==F)return F}return $t(p.length,b.length)}(n.mapValue,e.mapValue);default:throw tt()}}function y0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return $t(n,e);const t=tu(n),r=tu(e),i=$t(t.seconds,r.seconds);return 0!==i?i:$t(t.nanos,r.nanos)}function Mc(n){return Yb(n)}function Yb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=tu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Sc(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=Yb(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const p of i)c?c=!1:u+=",",u+=`${p}:${Yb(r.fields[p])}`;return u+"}"}(n.mapValue):tt();var e}function al(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ey(n){return!!n&&"integerValue"in n}function gh(n){return!!n&&"arrayValue"in n}function _0(n){return!!n&&"nullValue"in n}function NT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fp(n){return!!n&&"mapValue"in n}function pp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return sl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ty(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Qb(n,e){return void 0===n?e:void 0===e||va(n,e)>0?n:e}function OT(n,e){return void 0===n?e:void 0===e||va(n,e)<0?n:e}class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!fp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pp(t)}setAll(e){let t=Gr.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=pp(c):i.push(p.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());fp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];fp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){sl(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new Wi(pp(this.value))}}function kT(n){const e=[];return sl(n.fields,(t,r)=>{const i=new Gr([t]);if(fp(r)){const u=kT(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new Ac(e)}class Rn{constructor(e,t,r,i,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=u,this.documentState=c}static newInvalidDocument(e){return new Rn(e,0,It.min(),It.min(),Wi.empty(),0)}static newFoundDocument(e,t,r){return new Rn(e,1,t,It.min(),r,0)}static newNoDocument(e,t){return new Rn(e,2,t,It.min(),Wi.empty(),0)}static newUnknownDocument(e,t){return new Rn(e,3,t,It.min(),Wi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ny{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function v0(n){return n.fields.find(e=>2===e.kind)}function gp(n){return n.fields.filter(e=>2!==e.kind)}ny.UNKNOWN_ID=-1;class ry{constructor(e,t){this.fieldPath=e,this.kind=t}}class xc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new xc(0,ru.min())}}function Jb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new ur(t+1,0):new ur(t,r));return new ru(i,He.empty(),e)}function Bo(n){return new ru(n.readTime,n.key,-1)}class ru{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ru(It.min(),He.empty(),-1)}static max(){return new ru(It.max(),He.empty(),-1)}}function E0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=He.comparator(n.documentKey,e.documentKey),0!==t?t:$t(n.largestBatchId,e.largestBatchId))}class PT{constructor(e,t=null,r=[],i=[],u=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=p,this.P=null}}function Xb(n,e=null,t=[],r=[],i=null,u=null,c=null){return new PT(n,e,t,r,i,u,c)}function iu(n){const e=We(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Mc(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Mc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Mc(r)).join(",")),e.P=t}return e.P}function mh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!nD(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!nu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!UT(n.startAt,e.startAt)&&UT(n.endAt,e.endAt)}function iy(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function mp(n,e){return n.filters.filter(t=>t instanceof qr&&t.field.isEqual(e))}class qr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new FT(e,t,r):"array-contains"===t?new VT(e,r):"in"===t?new ox(e,r):"not-in"===t?new BT(e,r):"array-contains-any"===t?new tD(e,r):new qr(e,t,r)}static V(e,t,r){return"in"===t?new LT(e,r):new w0(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(va(t,this.value)):null!==t&&_a(this.value)===_a(t)&&this.v(va(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class FT extends qr{constructor(e,t,r){super(e,t,r),this.key=He.fromName(r.referenceValue)}matches(e){const t=He.comparator(e.key,this.key);return this.v(t)}}class LT extends qr{constructor(e,t){super(e,"in",t),this.keys=uo(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class w0 extends qr{constructor(e,t){super(e,"not-in",t),this.keys=uo(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uo(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>He.fromName(r.referenceValue))}class VT extends qr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gh(t)&&ph(t.arrayValue,this.value)}}class ox extends qr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ph(this.value.arrayValue,t)}}class BT extends qr{constructor(e,t){super(e,"not-in",t)}matches(e){if(ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ph(this.value.arrayValue,t)}}class tD extends qr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ph(this.value.arrayValue,r))}}class ul{constructor(e,t){this.position=e,this.inclusive=t}}class yh{constructor(e,t="asc"){this.field=e,this.dir=t}}function nD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function rD(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?He.comparator(He.fromName(c.referenceValue),t.key):va(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function UT(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!nu(n.position[t],e.position[t]))return!1;return!0}class Ea{constructor(e,t=null,r=[],i=[],u=null,c="F",p=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=p,this.endAt=y,this.D=null,this.C=null}}function b0(n,e,t,r,i,u,c,p){return new Ea(n,e,t,r,i,u,c,p)}function _h(n){return new Ea(n)}function sy(n){return!fh(n.limit)&&"F"===n.limitType}function yp(n){return!fh(n.limit)&&"L"===n.limitType}function _p(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function vp(n){for(const e of n.filters)if(e.S())return e.field;return null}function oy(n){return null!==n.collectionGroup}function vh(n){const e=We(n);if(null===e.D){e.D=[];const t=vp(e),r=_p(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new yh(t)),e.D.push(new yh(Gr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new yh(Gr.keyField(),u))}}}return e.D}function Ts(n){const e=We(n);if(!e.C)if("F"===e.limitType)e.C=Xb(e.path,e.collectionGroup,vh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of vh(e))t.push(new yh(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new ul(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new ul(e.startAt.position,!e.startAt.inclusive):null;e.C=Xb(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function D0(n,e,t){return new Ea(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ep(n,e){return mh(Ts(n),Ts(e))&&n.limitType===e.limitType}function iD(n){return`${iu(Ts(n))}|lt:${n.limitType}`}function sD(n){return`Query(target=${function eD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Mc(r.value)}`;var r}).join(", ")}]`),fh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Mc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Mc(t)).join(",")),`Target(${e})`}(Ts(n))}; limitType=${n.limitType})`}function oD(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):He.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const p=rD(i,u,c);return i.inclusive?p<=0:p<0}(t.startAt,vh(t),r)||t.endAt&&!function(i,u,c){const p=rD(i,u,c);return i.inclusive?p>=0:p>0}(t.endAt,vh(t),r)));var t,r}function C0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aD(n){return(e,t)=>{let r=!1;for(const i of vh(n)){const u=jT(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function jT(n,e,t){const r=n.field.isKeyField()?He.comparator(e.key,t.key):function(i,u,c){const p=u.data.field(i),y=c.data.field(i);return null!==p&&null!==y?va(p,y):tt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}function uD(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xm(e)?"-0":e}}function $T(n){return{integerValue:""+n}}function HT(n,e){return MT(e)?$T(e):uD(n,e)}class I0{constructor(){this._=void 0}}function ax(n,e,t){return n instanceof su?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Rc?cD(n,e):n instanceof ll?cl(n,e):function(r,i){const u=lD(r,i),c=ay(u)+ay(r.k);return ey(u)&&ey(r.k)?$T(c):uD(r.M,c)}(n,e)}function ux(n,e,t){return n instanceof Rc?cD(n,e):n instanceof ll?cl(n,e):t}function lD(n,e){return n instanceof Nc?ey(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class su extends I0{}class Rc extends I0{constructor(e){super(),this.elements=e}}function cD(n,e){const t=uy(e);for(const r of n.elements)t.some(i=>nu(i,r))||t.push(r);return{arrayValue:{values:t}}}class ll extends I0{constructor(e){super(),this.elements=e}}function cl(n,e){let t=uy(e);for(const r of n.elements)t=t.filter(i=>!nu(i,r));return{arrayValue:{values:t}}}class Nc extends I0{constructor(e,t){super(),this.M=e,this.k=t}}function ay(n){return Kn(n.integerValue||n.doubleValue)}function uy(n){return gh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class wp{constructor(e,t){this.field=e,this.transform=t}}class A0{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function S0(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class M0{}function lx(n,e,t){n instanceof bp?function(r,i,u){const c=r.value.clone(),p=R0(r.fieldTransforms,i,u.transformResults);c.setAll(p),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Oc?function(r,i,u){if(!S0(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=R0(r.fieldTransforms,i,u.transformResults),p=i.data;p.setAll(x0(r)),p.setAll(c),i.convertToFoundDocument(u.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function dD(n,e,t){var i;n instanceof bp?function(r,i,u){if(!S0(r.precondition,i))return;const c=r.value.clone(),p=N0(r.fieldTransforms,u,i);c.setAll(p),i.convertToFoundDocument(pD(i),c).setHasLocalMutations()}(n,e,t):n instanceof Oc?function(r,i,u){if(!S0(r.precondition,i))return;const c=N0(r.fieldTransforms,u,i),p=i.data;p.setAll(x0(r)),p.setAll(c),i.convertToFoundDocument(pD(i),p).setHasLocalMutations()}(n,e,t):S0(n.precondition,i=e)&&i.convertToNoDocument(It.min())}function hD(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=lD(r.transform,i||null);null!=u&&(null==t&&(t=Wi.empty()),t.set(r.field,u))}return t||null}function fD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&il(t,r,(i,u)=>function T0(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Rc&&r instanceof Rc||t instanceof ll&&r instanceof ll?il(t.elements,r.elements,nu):t instanceof Nc&&r instanceof Nc?nu(t.k,r.k):t instanceof su&&r instanceof su);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function pD(n){return n.isFoundDocument()?n.version:It.min()}class bp extends M0{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Oc extends M0{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}}function x0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function R0(n,e,t){const r=new Map;Mt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,p=e.data.field(u.field);r.set(u.field,ux(c,p,t[i]))}return r}function N0(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,ax(u,c,e))}return r}class Dp extends M0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class O0 extends M0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class gD{constructor(e){this.count=e}}var tr,rn;function k0(n){switch(n){default:return tt();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function ly(n){if(void 0===n)return _r("GRPC error has no .code"),le.UNKNOWN;switch(n){case tr.OK:return le.OK;case tr.CANCELLED:return le.CANCELLED;case tr.UNKNOWN:return le.UNKNOWN;case tr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case tr.INTERNAL:return le.INTERNAL;case tr.UNAVAILABLE:return le.UNAVAILABLE;case tr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case tr.NOT_FOUND:return le.NOT_FOUND;case tr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case tr.ABORTED:return le.ABORTED;case tr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case tr.DATA_LOSS:return le.DATA_LOSS;default:return tt()}}(rn=tr||(tr={}))[rn.OK=0]="OK",rn[rn.CANCELLED=1]="CANCELLED",rn[rn.UNKNOWN=2]="UNKNOWN",rn[rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rn[rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rn[rn.NOT_FOUND=5]="NOT_FOUND",rn[rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",rn[rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",rn[rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",rn[rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rn[rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rn[rn.ABORTED=10]="ABORTED",rn[rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",rn[rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",rn[rn.INTERNAL=13]="INTERNAL",rn[rn.UNAVAILABLE=14]="UNAVAILABLE",rn[rn.DATA_LOSS=15]="DATA_LOSS";class dl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sl(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return Kb(this.inner)}size(){return this.innerSize}}class lr{constructor(e,t){this.comparator=e,this.root=t||Di.EMPTY}insert(e,t){return new lr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Di.BLACK,null,null))}remove(e){return new lr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Di.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new P0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new P0(this.root,e,this.comparator,!1)}getReverseIterator(){return new P0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new P0(this.root,e,this.comparator,!0)}}class P0{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Di{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=null!=r?r:Di.RED,this.left=null!=i?i:Di.EMPTY,this.right=null!=u?u:Di.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Di(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Di.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Di.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Di.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Di.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const e=this.left.check();if(e!==this.right.check())throw tt();return e+(this.isRed()?0:1)}}Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1,Di.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Di(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(e){this.comparator=e,this.data=new lr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mD(this.data.getIterator())}getIteratorFrom(e){return new mD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Un(this.comparator);return t.data=e,t}}class mD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Eh(n){return n.hasNext()?n.getNext():void 0}const cx=new lr(He.comparator);function Uo(){return cx}const dx=new lr(He.comparator);function yD(){return dx}function cy(){return new dl(n=>n.toString(),(n,e)=>n.isEqual(e))}const GT=new lr(He.comparator),hx=new Un(He.comparator);function _n(...n){let e=hx;for(const t of n)e=e.add(t);return e}const fx=new Un($t);function F0(){return fx}class s{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,o.createSynthesizedTargetChangeForCurrentChange(e,t)),new s(It.min(),r,F0(),Uo(),_n())}}class o{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new o(vr.EMPTY_BYTE_STRING,t,_n(),_n(),_n())}}class a{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class l{constructor(e,t){this.targetId=e,this.$=t}}class d{constructor(e,t,r=vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class g{constructor(){this.B=0,this.L=D(),this.U=vr.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=_n(),t=_n(),r=_n();return this.L.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:tt()}}),new o(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=D()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class v{constructor(e){this.nt=e,this.st=new Map,this.it=Uo(),this.rt=w(),this.ot=new Un($t)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:tt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const u=i.target;if(iy(u))if(0===r){const c=new He(u.path);this.ct(t,c,Rn.newNoDocument(c,It.min()))}else Mt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,c)=>{const p=this.wt(c);if(p){if(u.current&&iy(p.target)){const y=new He(p.target.path);null!==this.it.get(y)||this.It(c,y)||this.ct(c,y,Rn.newNoDocument(y,e))}u.j&&(t.set(c,u.H()),u.J())}});let r=_n();this.rt.forEach((u,c)=>{let p=!0;c.forEachWhile(y=>{const b=this.wt(y);return!b||2===b.purpose||(p=!1,!1)}),p&&(r=r.add(u))}),this.it.forEach((u,c)=>c.setReadTime(e));const i=new s(e,t,this.ot,this.it,r);return this.it=Uo(),this.rt=w(),this.ot=new Un($t),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new g,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Un($t),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new g),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function w(){return new lr(He.comparator)}function D(){return new lr(He.comparator)}const A={asc:"ASCENDING",desc:"DESCENDING"},x={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class P{constructor(e,t){this.databaseId=e,this.N=t}}function U(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z(n,e){return n.N?e.toBase64():e.toUint8Array()}function ye(n,e){return U(n,e.toTimestamp())}function Se(n){return Mt(!!n),It.fromTimestamp(function(e){const t=tu(e);return new ur(t.seconds,t.nanos)}(n))}function je(n,e){return(t=n,new Qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function it(n){const e=Qt.fromString(n);return Mt(mx(e)),e}function De(n,e){return je(n.databaseId,e.path)}function st(n,e){const t=it(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new He(hl(t))}function qt(n,e){return je(n.databaseId,e)}function hn(n){const e=it(n);return 4===e.length?Qt.emptyPath():hl(e)}function ni(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hl(n){return Mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dy(n,e,t){return{name:De(n,e),fields:t.value.mapValue.fields}}function hy(n,e,t){const r=st(n,e.name),i=Se(e.updateTime),u=new Wi({mapValue:{fields:e.fields}}),c=Rn.newFoundDocument(r,i,u);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function kc(n,e){let t;if(e instanceof bp)t={update:dy(n,e.key,e.value)};else if(e instanceof Dp)t={delete:De(n,e.key)};else if(e instanceof Oc)t={update:dy(n,e.key,e.data),updateMask:fk(e.fieldMask)};else{if(!(e instanceof O0))return tt();t={verify:De(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof su)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Rc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ll)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Nc)return{fieldPath:u.field.canonicalString(),increment:c.k};throw tt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:ye(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:tt()),t;var i}function Cp(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Zn.updateTime(Se(i.updateTime)):void 0!==i.exists?Zn.exists(i.exists):Zn.none():Zn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let p=null;"setToServerValue"in c?(Mt("REQUEST_TIME"===c.setToServerValue),p=new su):"appendMissingElements"in c?p=new Rc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new ll(c.removeAllFromArray.values||[]):"increment"in c?p=new Nc(u,c.increment):tt();const y=Gr.fromServerFormat(c.fieldPath);return new wp(y,p)}(n,i)):[];var i;if(e.update){const i=st(n,e.update.name),u=new Wi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Ac((e.updateMask.fieldPaths||[]).map(b=>Gr.fromServerFormat(b)));return new Oc(i,u,c,t,r)}return new bp(i,u,t,r)}if(e.delete){const i=st(n,e.delete);return new Dp(i,t)}if(e.verify){const i=st(n,e.verify);return new O0(i,t)}return tt()}function fy(n,e){return{documents:[qt(n,e.path)]}}function py(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=qt(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=qt(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0===y.length)return;const b=y.map(S=>function(M){if("=="===M.op){if(NT(M.value))return{unaryFilter:{field:gy(M.field),op:"IS_NAN"}};if(_0(M.value))return{unaryFilter:{field:gy(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(NT(M.value))return{unaryFilter:{field:gy(M.field),op:"IS_NOT_NAN"}};if(_0(M.value))return{unaryFilter:{field:gy(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gy(M.field),op:ck(M.op),value:M.value}}}(S));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const u=function(y){if(0!==y.length)return y.map(b=>{return{field:gy((S=b).field),direction:lk(S.dir)};var S})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(b=e.limit,n.N||fh(b)?b:{value:b});var b,p,y;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function px(n){let e=hn(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Mt(1===r);const S=t.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let u=[];t.where&&(u=gx(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(S=>{return new yh(my((M=S).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(S){let M;return M="object"==typeof S?S.value:S,fh(M)?null:M}(t.limit));let y=null;var S;t.startAt&&(y=new ul((S=t.startAt).values||[],!!S.before));let b=null;return t.endAt&&(b=function(S){return new ul(S.values||[],!S.before)}(t.endAt)),b0(e,i,c,u,p,"F",y,b)}function gx(n){return n?void 0!==n.unaryFilter?[hk(n)]:void 0!==n.fieldFilter?[dk(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>gx(e)).reduce((e,t)=>e.concat(t)):tt():[]}function lk(n){return A[n]}function ck(n){return x[n]}function gy(n){return{fieldPath:n.canonicalString()}}function my(n){return Gr.fromServerFormat(n.fieldPath)}function dk(n){return qr.create(my(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(n.fieldFilter.op),n.fieldFilter.value)}function hk(n){switch(n.unaryFilter.op){case"IS_NAN":const e=my(n.unaryFilter.field);return qr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=my(n.unaryFilter.field);return qr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=my(n.unaryFilter.field);return qr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=my(n.unaryFilter.field);return qr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}function fk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function mx(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ci(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yx(e)),e=pk(n.get(t),e);return yx(e)}function pk(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function yx(n){return n+"\x01\x01"}function ou(n){const e=n.length;if(Mt(e>=2),2===e)return Mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&tt(),n.charAt(c+1)){case"\x01":const p=n.substring(u,c);let y;0===i.length?y=p:(i+=p,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:tt()}u=c+2}return new Qt(r)}const _x=["userId","batchId"];function _D(n,e){return[n,Ci(e)]}function vx(n,e,t){return[n,Ci(e),t]}const gk={},mk=["prefixPath","collectionGroup","readTime","documentId"],yk=["prefixPath","collectionGroup","documentId"],_k=["collectionGroup","readTime","prefixPath","documentId"],vk=["canonicalId","targetId"],Ek=["targetId","path"],wk=["path","targetId"],bk=["collectionId","parent"],Dk=["indexId","uid"],Ck=["uid","sequenceNumber"],Ik=["indexId","uid","arrayValue","directionalValue","documentKey"],Tk=["indexId","uid","documentKey"],Ak=["userId","collectionPath","documentId"],Sk=["userId","collectionPath","largestBatchId"],Mk=["userId","collectionGroup","largestBatchId"],Ex=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xk=[...Ex,"documentOverlays"],wx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Rk=[...wx,"indexConfiguration","indexState","indexEntries"],bx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let i=0,u=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++u,c&&u===i&&t()},y=>r(y))}),c=!0,u===i&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(i=>i?pe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}}class vD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Hr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new U0(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=qT(r.target.error);this.At.reject(new U0(e,i))}}static open(e,t,r,i){try{return new vD(t,e.transaction(i,r))}catch(u){throw new U0(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ok(t)}}class au{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===au.Vt((0,Gt.z$)())&&_r("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oe("SimpleDb","Removing database:",e),Tp(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Gt.hl)())return!1;if(au.St())return!0;const e=(0,Gt.z$)(),t=au.Vt(e),r=0<t&&t<10,i=au.Dt(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new U0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Ne(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Ne(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new U0(e,p))},u.onupgradeneeded=c=>{Oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.Pt.kt(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,ve.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{u.db=yield u.Nt(e);const y=vD.open(u.db,e,c?"readonly":"readwrite",r),b=i(y).next(S=>(y.bt(),S)).catch(S=>(y.abort(S),pe.reject(S))).toPromise();return b.catch(()=>{}),yield y.Rt,b}catch(y){const b="FirebaseError"!==y.name&&p<3;if(Oe("SimpleDb","Transaction failed with error:",y.message,"Retrying:",b),u.close(),!b)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Nk{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Tp(this.Ft.delete())}}class U0 extends Ne{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ip(n){return"IndexedDbTransactionError"===n.name}class Ok{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Oe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Tp(r)}add(e){return Oe("SimpleDb","ADD",this.store.name,e,e),Tp(this.store.add(e))}get(e){return Tp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Oe("SimpleDb","DELETE",this.store.name,e),Tp(this.store.delete(e))}count(){return Oe("SimpleDb","COUNT",this.store.name),Tp(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.Gt(i,(c,p)=>{u.push(p)}).next(()=>u)}{const i=this.store.getAll(r.range);return new pe((u,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{u(p.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new pe((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){Oe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(u,c,p)=>p.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new pe((r,i)=>{t.onerror=u=>{const c=qT(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}Gt(e,t){const r=[];return new pe((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const y=new Nk(p),b=t(p.primaryKey,p.value,y);if(b instanceof pe){const S=b.catch(M=>(y.done(),pe.reject(M)));r.push(S)}y.isDone?i():null===y.Lt?p.continue():p.continue(y.Lt)}}).next(()=>pe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Tp(n){return new pe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=qT(r.target.error);t(i)}})}let Cx=!1;function qT(n){const e=au.Vt((0,Gt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cx||(Cx=!0,setTimeout(()=>{throw r},0)),r}}return n}class Ix extends Dx{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Ii(n,e){const t=We(n);return au.xt(t.Ht,e)}class zT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&lx(u,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&dD(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&dD(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(It.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,(t,r)=>fD(t,r))&&il(this.baseMutations,e.baseMutations,(t,r)=>fD(t,r))}}class WT{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Mt(e.mutations.length===r.length);let i=GT;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new WT(e,t,r,i)}}class KT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wh{constructor(e,t,r,i,u=It.min(),c=It.min(),p=vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new wh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Tx{constructor(e){this.Jt=e}}function Ax(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ED(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:De(i=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:U(i,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ap(e.version)};else{if(!e.isUnknownDocument())return tt();r.unknownDocument={path:t.path.toArray(),version:Ap(e.version)}}var i,u;return r}function ED(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ap(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Sp(n){const e=new ur(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function yy(n,e){const t=(e.baseMutations||[]).map(u=>Cp(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const c=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(c.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Cp(n.Jt,u)),i=ur.fromMillis(e.localWriteTimeMs);return new zT(e.batchId,i,t,r)}function j0(n){const e=Sp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Sp(n.lastLimboFreeSnapshotVersion):It.min();let r;var i;return void 0!==n.query.documents?(Mt(1===(i=n.query).documents.length),r=Ts(_h(hn(i.documents[0])))):r=Ts(px(n.query)),new wh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,vr.fromBase64String(n.resumeToken))}function Sx(n,e){const t=Ap(e.snapshotVersion),r=Ap(e.lastLimboFreeSnapshotVersion);let i;i=iy(e.target)?fy(n.Jt,e.target):py(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:iu(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ZT(n){const e=px({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?D0(e,e.limit,"L"):e}function YT(n,e){return new KT(e.largestBatchId,Cp(n.Jt,e.overlayMutation))}function Mx(n,e){const t=e.path.lastSegment();return[n,Ci(e.path.popLast()),t]}class Pk{getBundleMetadata(e,t){return xx(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Sp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return xx(e).put({bundleId:(r=t).id,createTime:Ap(Se(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Rx(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:ZT(i.bundledQuery),readTime:Sp(i.readTime)};var i})}saveNamedQuery(e,t){return Rx(e).put({name:(r=t).name,readTime:Ap(Se(r.readTime)),bundledQuery:r.bundledQuery});var r}}function xx(n){return Ii(n,"bundles")}function Rx(n){return Ii(n,"namedQueries")}class QT{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new QT(e,t.uid||"")}getOverlay(e,t){return $0(e).get(Mx(this.userId,t)).next(r=>r?YT(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const p=new KT(t,c);i.push(this.Xt(e,p))}),pe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Ci(c.getCollectionPath())));const u=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push($0(e).Qt("collectionPathOverlayIndex",p))}),pe.waitFor(u)}getOverlaysForCollection(e,t,r){const i=cy(),u=Ci(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return $0(e).qt("collectionPathOverlayIndex",c).next(p=>{for(const y of p){const b=YT(this.M,y);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=cy();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $0(e).Wt({index:"collectionGroupOverlayIndex",range:p},(y,b,S)=>{const M=YT(this.M,b);u.size()<i||M.largestBatchId===c?(u.set(M.getKey(),M),c=M.largestBatchId):S.done()}).next(()=>u)}Xt(e,t){return $0(e).put(function(r,i,u){const[c,p,y]=Mx(i,u.mutation.key);return{userId:i,collectionPath:p,documentId:y,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:kc(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function $0(n){return Ii(n,"documentOverlays")}class _y{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Kn(e.integerValue));else if("doubleValue"in e){const r=Kn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Xm(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Sc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?ty(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):tt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),He.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Fk(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Nx(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=Fk(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}_y.fe=new _y;class Lk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=Nx(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=Nx(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Vk{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Bk{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class wD{constructor(){this.De=new Lk,this.Ce=new Vk(this.De),this.xe=new Bk(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class bh{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new bh(this.indexId,this.documentKey,this.arrayValue,r)}}function Mp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Ox(n.arrayValue,e.arrayValue),0!==t?t:(t=Ox(n.directionalValue,e.directionalValue),0!==t?t:He.comparator(n.documentKey,e.documentKey)))}function Ox(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Uk{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=v0(e);if(void 0!==t&&!this.Be(t))return!1;const r=gp(e);let i=0,u=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[u++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(u>=this.Me.length||!this.Ue(this.Me[u++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class jk{constructor(){this.qe=new JT}addToCollectionParentIndex(e,t){return this.qe.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getFieldIndex(e,t){return pe.resolve(null)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class JT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Un(Qt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Un(Qt.comparator)).toArray()}}const bD=new Uint8Array(0);class $k{constructor(e){this.user=e,this.Ge=new JT,this.Ke=new dl(t=>iu(t),(t,r)=>mh(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const u={collectionId:r,parent:Ci(i)};return kx(e).put(u)}return pe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[IT(t),""],!1,!0);return kx(e).qt(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(ou(c.parent))}return r})}addFieldIndex(e,t){const r=DD(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var u;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=DD(e),i=CD(e),u=H0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=H0(e);let i=!0;const u=new Map;return pe.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(p=>{i&&(i=!!p),u.set(c,p)})).next(()=>{if(i){let c=_n();return pe.forEach(u,(p,y)=>{var b;Oe("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Le=>`${Le.fieldPath}:${Le.kind}`).join(",")}`} to execute ${iu(t)}`);const S=function(Le,Ke){const qe=v0(Ke);if(void 0===qe)return null;for(const yt of mp(Le,qe.fieldPath))switch(yt.op){case"array-contains-any":return yt.value.arrayValue.values||[];case"array-contains":return[yt.value]}return null}(y,p),M=function(Le,Ke){const qe=new Map;for(const yt of gp(Ke))for(const dt of mp(Le,yt.fieldPath))switch(dt.op){case"==":case"in":qe.set(yt.fieldPath.canonicalString(),dt.value);break;case"not-in":case"!=":return qe.set(yt.fieldPath.canonicalString(),dt.value),Array.from(qe.values())}return null}(y,p),F=function(Le,Ke){const qe=[];let yt=!0;for(const Jt of gp(Ke)){let bn,vn=!0;for(const Zt of mp(Le,Jt.fieldPath)){let Dn,xs=!0;switch(Zt.op){case"<":case"<=":Dn="nullValue"in(dt=Zt.value)?RT:"booleanValue"in dt?{booleanValue:!1}:"integerValue"in dt||"doubleValue"in dt?{doubleValue:NaN}:"timestampValue"in dt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in dt?{stringValue:""}:"bytesValue"in dt?{bytesValue:""}:"referenceValue"in dt?al(ol.empty(),He.empty()):"geoPointValue"in dt?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in dt?{arrayValue:{}}:"mapValue"in dt?{mapValue:{}}:tt();break;case"==":case"in":case">=":Dn=Zt.value;break;case">":Dn=Zt.value,xs=!1;break;case"!=":case"not-in":Dn=RT}Qb(bn,Dn)===Dn&&(bn=Dn,vn=xs)}if(null!==Le.startAt)for(let Zt=0;Zt<Le.orderBy.length;++Zt)if(Le.orderBy[Zt].field.isEqual(Jt.fieldPath)){const Dn=Le.startAt.position[Zt];Qb(bn,Dn)===Dn&&(bn=Dn,vn=Le.startAt.inclusive);break}if(void 0===bn)return null;qe.push(bn),yt&&(yt=vn)}var dt;return new ul(qe,yt)}(y,p),B=function(Le,Ke){const qe=[];let yt=!0;for(const Jt of gp(Ke)){let bn,vn=!0;for(const Zt of mp(Le,Jt.fieldPath)){let Dn,xs=!0;switch(Zt.op){case">=":case">":Dn="nullValue"in(dt=Zt.value)?{booleanValue:!1}:"booleanValue"in dt?{doubleValue:NaN}:"integerValue"in dt||"doubleValue"in dt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in dt?{stringValue:""}:"stringValue"in dt?{bytesValue:""}:"bytesValue"in dt?al(ol.empty(),He.empty()):"referenceValue"in dt?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in dt?{arrayValue:{}}:"arrayValue"in dt?{mapValue:{}}:"mapValue"in dt?xT:tt(),xs=!1;break;case"==":case"in":case"<=":Dn=Zt.value;break;case"<":Dn=Zt.value,xs=!1;break;case"!=":case"not-in":Dn=xT}OT(bn,Dn)===Dn&&(bn=Dn,vn=xs)}if(null!==Le.endAt)for(let Zt=0;Zt<Le.orderBy.length;++Zt)if(Le.orderBy[Zt].field.isEqual(Jt.fieldPath)){const Dn=Le.endAt.position[Zt];OT(bn,Dn)===Dn&&(bn=Dn,vn=Le.endAt.inclusive);break}if(void 0===bn)return null;qe.push(bn),yt&&(yt=vn)}var dt;return new ul(qe,yt)}(y,p),G=this.je(p,y,F),ne=this.je(p,y,B),we=this.We(p,y,M),Ze=this.ze(p.indexId,S,G,!!F&&F.inclusive,ne,!!B&&B.inclusive,we);return pe.forEach(Ze,Le=>r.Kt(Le,t.limit).next(Ke=>{Ke.forEach(qe=>{c=c.add(new He(ou(qe.documentKey)))})}))}).next(()=>c)}return pe.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,u,c,p){const y=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),b=y/(null!=t?t.length:1),S=[];for(let M=0;M<y;++M){const F=t?this.He(t[M/b]):bD,B=r?this.Je(e,F,r[M%b],i):this.Ye(e),G=u?this.Xe(e,F,u[M%b],c):this.Ye(e+1);S.push(...this.createRange(B,G,p.map(ne=>this.Je(e,F,ne,!0))))}return S}Je(e,t,r,i){const u=new bh(e,He.empty(),t,r);return i?u:u.ke()}Xe(e,t,r,i){const u=new bh(e,He.empty(),t,r);return i?u.ke():u}Ye(e){return new bh(e,He.empty(),bD,bD)}getFieldIndex(e,t){const r=new Uk(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{const c=u.filter(p=>r.$e(p));return c.sort((p,y)=>y.fields.length-p.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new wD;for(const i of gp(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.Ne(i.kind);_y.fe.Zt(u,c)}return r.Se()}He(e){const t=new wD;return _y.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new wD);let u=0;for(const c of gp(e)){const p=r[u++];for(const y of i)if(this.tn(t,c.fieldPath)&&gh(p))i=this.en(i,c,p);else{const b=y.Ne(c.kind);_y.fe.Zt(p,b)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const p of i){const y=new wD;y.seed(p.Se()),_y.fe.Zt(c,y.Ne(t.kind)),u.push(y)}return u}tn(e,t){return!!e.filters.find(r=>r instanceof qr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=DD(e),i=CD(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const c=[];return pe.forEach(u,p=>i.get([p.indexId,this.uid]).next(y=>{c.push(function(b,S){const M=S?new xc(S.sequenceNumber,new ru(Sp(S.readTime),new He(ou(S.documentKey)),S.largestBatchId)):xc.empty(),F=b.fields.map(([B,G])=>new ry(Gr.fromServerFormat(B),G));return new ny(b.indexId,b.collectionGroup,F,M)}(p,y))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:$t(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=DD(e),u=CD(e);return this.sn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>pe.forEach(p,y=>{return u.put({indexId:y.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:Ap((F=r).readTime),documentKey:Ci(F.documentKey.path),largestBatchId:F.largestBatchId});var F})))}updateIndexEntries(e,t){const r=new Map;return pe.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?pe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),pe.forEach(p,y=>this.rn(e,i,y).next(b=>{const S=this.on(u,y);return b.isEqual(S)?pe.resolve():this.un(e,u,b,S)}))))})}an(e,t,r){return H0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Ci(t.key.path)})}cn(e,t,r){return H0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Ci(t.key.path)])}rn(e,t,r){const i=H0(e);let u=new Un(Mp);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Ci(t.path)])},(c,p)=>{u=u.add(new bh(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>u)}on(e,t){let r=new Un(Mp);const i=this.Ze(t,e);if(null==i)return r;const u=v0(t);if(null!=u){const c=e.data.field(u.fieldPath);if(gh(c))for(const p of c.arrayValue.values||[])r=r.add(new bh(t.indexId,e.key,this.He(p),i))}else r=r.add(new bh(t.indexId,e.key,bD,i));return r}un(e,t,r,i){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(c,p,y,b,S){const M=c.getIterator(),F=p.getIterator();let B=Eh(M),G=Eh(F);for(;B||G;){let ne=!1,we=!1;if(B&&G){const Ze=y(B,G);Ze<0?we=!0:Ze>0&&(ne=!0)}else null!=B?we=!0:ne=!0;ne?(b(G),G=Eh(F)):we?(S(B),B=Eh(M)):(B=Eh(M),G=Eh(F))}}(r,i,Mp,c=>{u.push(this.an(e,t,c))},c=>{u.push(this.cn(e,t,c))}),pe.waitFor(u)}sn(e){let t=1;return CD(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>Mp(c,p)).filter((c,p,y)=>!p||0!==Mp(c,y[p-1]));const i=[];i.push(e);for(const c of r){const p=Mp(c,e),y=Mp(c,t);if(0===p)i[0]=e.ke();else if(p>0&&y<0)i.push(c),i.push(c.ke());else if(y>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2)u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,""],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,""]));return u}}function kx(n){return Ii(n,"collectionParents")}function H0(n){return Ii(n,"indexEntries")}function DD(n){return Ii(n,"indexConfiguration")}function CD(n){return Ii(n,"indexState")}const Px={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new lo(e,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Fx(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let p=0;const y=r.Wt({range:c},(S,M,F)=>(p++,F.delete()));u.push(y.next(()=>{Mt(1===p)}));const b=[];for(const S of t.mutations){const M=vx(e,S.key.path,t.batchId);u.push(i.delete(M)),b.push(S.key)}return pe.waitFor(u).next(()=>b)}function ID(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw tt();e=n.noDocument}return JSON.stringify(e).length}lo.DEFAULT_COLLECTION_PERCENTILE=10,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lo.DEFAULT=new lo(41943040,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lo.DISABLED=new lo(-1,0,0);class XT{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){Mt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new XT(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dh(e).Wt({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=vy(e),c=Dh(e);return c.add({}).next(p=>{Mt("number"==typeof p);const y=new zT(p,t,r,i),b=function(F,B,G){const ne=G.baseMutations.map(Ze=>kc(F.Jt,Ze)),we=G.mutations.map(Ze=>kc(F.Jt,Ze));return{userId:B,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:ne,mutations:we}}(this.M,this.userId,y),S=[];let M=new Un((F,B)=>$t(F.canonicalString(),B.canonicalString()));for(const F of i){const B=vx(this.userId,F.key.path,p);M=M.add(F.key.path.popLast()),S.push(c.put(b)),S.push(u.put(B,gk))}return M.forEach(F=>{S.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.hn[p]=y.keys()}),pe.waitFor(S).next(()=>y)})}lookupMutationBatch(e,t){return Dh(e).get(t).next(r=>r?(Mt(r.userId===this.userId),yy(this.M,r)):null)}ln(e,t){return this.hn[t]?pe.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Dh(e).Wt({index:"userMutationsIndex",range:i},(c,p,y)=>{p.userId===this.userId&&(Mt(p.batchId>=r),u=yy(this.M,p)),y.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Dh(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dh(e).qt("userMutationsIndex",t).next(r=>r.map(i=>yy(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=_D(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return vy(e).Wt({range:i},(c,p,y)=>{const[b,S,M]=c,F=ou(S);if(b===this.userId&&t.path.isEqual(F))return Dh(e).get(M).next(B=>{if(!B)throw tt();Mt(B.userId===this.userId),u.push(yy(this.M,B))});y.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Un($t);const i=[];return t.forEach(u=>{const c=_D(this.userId,u.path),p=IDBKeyRange.lowerBound(c),y=vy(e).Wt({range:p},(b,S,M)=>{const[F,B,G]=b,ne=ou(B);F===this.userId&&u.path.isEqual(ne)?r=r.add(G):M.done()});i.push(y)}),pe.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=_D(this.userId,r),c=IDBKeyRange.lowerBound(u);let p=new Un($t);return vy(e).Wt({range:c},(y,b,S)=>{const[M,F,B]=y,G=ou(F);M===this.userId&&r.isPrefixOf(G)?G.length===i&&(p=p.add(B)):S.done()}).next(()=>this.fn(e,p))}fn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(Dh(e).get(u).next(c=>{if(null===c)throw tt();Mt(c.userId===this.userId),r.push(yy(this.M,c))}))}),pe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Fx(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),pe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return vy(e).Wt({range:r},(u,c,p)=>{if(u[0]===this.userId){const y=ou(u[1]);i.push(y)}else p.done()}).next(()=>{Mt(0===i.length)})})}containsKey(e,t){return Lx(e,this.userId,t)}_n(e){return Vx(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Lx(n,e,t){const r=_D(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return vy(n).Wt({range:u,jt:!0},(p,y,b)=>{const[S,M,F]=p;S===e&&M===i&&(c=!0),b.done()}).next(()=>c)}function Dh(n){return Ii(n,"mutations")}function vy(n){return Ii(n,"documentMutations")}function Vx(n){return Ii(n,"mutationQueues")}class xp{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new xp(0)}static gn(){return new xp(-1)}}class Hk{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new xp(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>It.fromTimestamp(new ur(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ey(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Mt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return Ey(e).Wt((c,p)=>{const y=j0(p);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,u.push(this.removeTargetData(e,y)))}).next(()=>pe.waitFor(u)).next(()=>i)}forEachTarget(e,t){return Ey(e).Wt((r,i)=>{const u=j0(i);t(u)})}yn(e){return Bx(e).get("targetGlobalKey").next(t=>(Mt(null!==t),t))}pn(e,t){return Bx(e).put("targetGlobalKey",t)}In(e,t){return Ey(e).put(Sx(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=iu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Ey(e).Wt({range:i,index:"queryTargetsIndex"},(c,p,y)=>{const b=j0(p);mh(t,b.target)&&(u=b,y.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=Ch(e);return t.forEach(c=>{const p=Ci(c.path);i.push(u.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),pe.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ch(e);return pe.forEach(t,u=>{const c=Ci(u.path);return pe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Ch(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ch(e);let u=_n();return i.Wt({range:r,jt:!0},(c,p,y)=>{const b=ou(c[1]),S=new He(b);u=u.add(S)}).next(()=>u)}containsKey(e,t){const r=Ci(t.path),i=IDBKeyRange.bound([r],[IT(r)],!1,!0);let u=0;return Ch(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,p],y,b)=>{0!==c&&(u++,b.done())}).next(()=>u>0)}Et(e,t){return Ey(e).get(t).next(r=>r?j0(r):null)}}function Ey(n){return Ii(n,"targets")}function Bx(n){return Ii(n,"targetGlobal")}function Ch(n){return Ii(n,"targetDocuments")}function Rp(n){return eA.apply(this,arguments)}function eA(){return eA=(0,ve.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==bx)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}),eA.apply(this,arguments)}function Ux([n,e],[t,r]){const i=$t(n,t);return 0===i?$t(e,r):i}class Gk{constructor(e){this.En=e,this.buffer=new Un(Ux),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ux(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qk{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Oe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ve.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Ip(i)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Rp(i)}yield t.vn(e)}))}}class zk{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(bi.A);const r=new Gk(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(Px)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Px):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,u,c,p,y,b;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(b=Date.now(),Ym()<=Ka.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-S}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${u} targets in `+(y-p)+`ms\n\tRemoved ${M} documents in `+(b-y)+`ms\nTotal Duration: ${b-S}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:M})))}}class Wk{constructor(e,t){this.db=e,this.garbageCollector=new zk(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return TD(e,r)}removeReference(e,t,r){return TD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return TD(e,t)}Mn(e,t){return function(r,i){let u=!1;return Vx(r).zt(c=>Lx(r,c,i).next(p=>(p&&(u=!0),pe.resolve(!p)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.kn(e,(c,p)=>{if(p<=t){const y=this.Mn(e,c).next(b=>{if(!b)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,It.min()),Ch(e).delete([0,Ci(c.path)])))});i.push(y)}}).next(()=>pe.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return TD(e,t)}kn(e,t){const r=Ch(e);let i,u=bi.A;return r.Wt({index:"documentTargetsIndex"},([c,p],{path:y,sequenceNumber:b})=>{0===c?(u!==bi.A&&t(new He(ou(i)),u),u=b,i=y):u=bi.A}).next(()=>{u!==bi.A&&t(new He(ou(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function TD(n,e){return Ch(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ci(e.path),sequenceNumber:r}));var r}class jx{constructor(){this.changes=new dl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Kk{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Np(e).put(r)}removeEntry(e,t,r){return Np(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],ED(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=Rn.newInvalidDocument(t);return Np(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(G0(t))},(i,u)=>{r=this.Fn(t,u)}).next(()=>r)}$n(e,t){let r={size:0,document:Rn.newInvalidDocument(t)};return Np(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(G0(t))},(i,u)=>{r={document:this.Fn(t,u),size:ID(u)}}).next(()=>r)}getEntries(e,t){let r=Uo();return this.Bn(e,t,(i,u)=>{const c=this.Fn(i,u);r=r.insert(i,c)}).next(()=>r)}Ln(e,t){let r=Uo(),i=new lr(He.comparator);return this.Bn(e,t,(u,c)=>{const p=this.Fn(u,c);r=r.insert(u,p),i=i.insert(u,ID(c))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return pe.resolve();let i=new Un(Gx);t.forEach(y=>i=i.add(y));const u=IDBKeyRange.bound(G0(i.first()),G0(i.last())),c=i.getIterator();let p=c.getNext();return Np(e).Wt({index:"documentKeyIndex",range:u},(y,b,S)=>{const M=He.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;p&&Gx(p,M)<0;)r(p,null),p=c.getNext();p&&p.isEqual(M)&&(r(p,b),p=c.hasNext()?c.getNext():null),p?S.Ut(G0(p)):S.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),ED(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Np(e).qt(IDBKeyRange.bound(i,u,!0)).next(c=>{let p=Uo();for(const y of c){const b=this.Fn(He.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);p=p.insert(b.key,b)}return p})}getAllFromCollectionGroup(e,t,r,i){let u=Uo();const c=Hx(t,r),p=Hx(t,ru.max());return Np(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(y,b,S)=>{const M=this.Fn(He.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(M.key,M),u.size===i&&S.done()}).next(()=>u)}newChangeBuffer(e){return new Zk(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $x(e).get("remoteDocumentGlobalKey").next(t=>(Mt(!!t),t))}On(e,t){return $x(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function kk(n,e){let t;if(e.document)t=hy(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=He.fromSegments(e.noDocument.path),i=Sp(e.noDocument.readTime);t=Rn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return tt();{const r=He.fromSegments(e.unknownDocument.path),i=Sp(e.unknownDocument.version);t=Rn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new ur(r[0],r[1]);return It.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return Rn.newInvalidDocument(e)}}class Zk extends jx{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new dl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Un((u,c)=>$t(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const p=this.Gn.get(u);if(t.push(this.qn.removeEntry(e,u,p.readTime)),c.isValidDocument()){const y=Ax(this.qn.M,c);i=i.add(u.path.popLast()),r+=ID(y)-p.size,t.push(this.qn.addEntry(e,u,y))}else if(r-=p.size,this.trackRemovals){const y=Ax(this.qn.M,c.convertToNoDocument(It.min()));t.push(this.qn.addEntry(e,u,y))}}),i.forEach(u=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.qn.updateMetadata(e,r)),pe.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((u,c)=>{this.Gn.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function $x(n){return Ii(n,"remoteDocumentGlobal")}function Np(n){return Ii(n,"remoteDocumentsV14")}function G0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Hx(n,e){const t=e.documentKey.path.toArray();return[n,ED(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Gx(n,e){const t=n.path.length-e.path.length;return 0!==t?t:He.comparator(n,e)}class Yk{constructor(e){this.M=e}kt(e,t,r,i){const u=new vD("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_x,{unique:!0}),p.createObjectStore("documentMutations"),qx(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=pe.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),qx(e)),c=c.next(()=>function(p){const y=p.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",b)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,y){return y.store("mutations").qt().next(b=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_x,{unique:!0});const S=y.store("mutations"),M=b.map(F=>S.put(F));return pe.waitFor(M)})}(e,u))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Kn(u))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(u)))),r<7&&i>=7&&(c=c.next(()=>this.jn(u))),r<8&&i>=8&&(c=c.next(()=>this.Wn(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.zn(u))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const y=p.createObjectStore("documentOverlays",{keyPath:Ak});y.createIndex("collectionPathOverlayIndex",Sk,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",Mk,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const y=p.createObjectStore("remoteDocumentsV14",{keyPath:mk});y.createIndex("documentKeyIndex",yk),y.createIndex("collectionGroupIndex",_k)}(e)).next(()=>this.Hn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:Dk}).createIndex("sequenceNumberIndex",Ck,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:Ik}).createIndex("documentKeyIndex",Tk,{unique:!1})}(e)})),c}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=ID(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>pe.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(p=>pe.forEach(p,y=>{Mt(y.userId===u.userId);const b=yy(this.M,y);return Fx(e,u.userId,b).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.Wt((c,p)=>{const y=new Qt(c),b=[0,Ci(y)];u.push(t.get(b).next(S=>S?pe.resolve():t.put({targetId:0,path:Ci(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>pe.waitFor(u))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:bk});const r=t.store("collectionParents"),i=new JT,u=c=>{if(i.add(c)){const p=c.lastSegment(),y=c.popLast();return r.put({collectionId:p,parent:Ci(y)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,p)=>{const y=new Qt(c);return u(y.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,p,y],b)=>{const S=ou(p);return u(S.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const u=j0(i),c=Sx(this.M,u);return t.put(c)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((u,c)=>{const p=t.store("remoteDocumentsV14"),y=(b=c,b.document?new He(Qt.fromString(b.document.name).popFirst(5)):b.noDocument?He.fromSegments(b.noDocument.path):b.unknownDocument?He.fromSegments(b.unknownDocument.path):tt()).path.toArray();var b;const S={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(S))}).next(()=>pe.waitFor(i))}}function qx(n){n.createObjectStore("targetDocuments",{keyPath:Ek}).createIndex("documentTargetsIndex",wk,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vk,{unique:!0}),n.createObjectStore("targetGlobal")}const tA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class nA{constructor(e,t,r,i,u,c,p,y,b,S,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=u,this.window=c,this.document=p,this.Yn=b,this.Xn=S,this.Zn=M,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=F=>Promise.resolve(),!nA.vt())throw new Ne(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Wk(this,i),this.cs=t+"main",this.M=new Tx(y),this.hs=new au(this.cs,this.Zn,new Yk(this.M)),this.ls=new Hk(this.referenceDelegate,this.M),this.fs=new Kk(this.M),this.ds=new Pk,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===S&&_r("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(le.FAILED_PRECONDITION,tA);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new bi(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,ve.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>AD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Ip(e))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return q0(e).get("owner").next(t=>pe.resolve(this.bs(t)))}Ps(e){return AD(e).delete(this.clientId)}Vs(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Ii(r,"clientMetadata");return i.qt().next(u=>{const c=e.Ss(u,18e5),p=u.filter(y=>-1===c.indexOf(y));return pe.forEach(p,y=>i.delete(y.clientId)).next(()=>p)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?pe.resolve(!0):q0(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Ne(le.FAILED_PRECONDITION,tA);return!1}}return!(!this.networkEnabled||!this.inForeground)||AD(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,p=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&p)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Ix(t,bi.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>AD(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return XT.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new $k(e)}getDocumentOverlayCache(e){return QT.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Oe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=14===(c=this.Zn)?Rk:13===c?wx:12===c?xk:11===c?Ex:void tt();var c;let p;return this.hs.runTransaction(e,i,u,y=>(p=new Ix(y,this.ts?this.ts.next():bi.A),"readwrite-primary"===t?this.Ts(p).next(b=>!!b||this.Es(p)).next(b=>{if(!b)throw _r(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Ne(le.FAILED_PRECONDITION,bx);return r(p)}).next(b=>this.Rs(p).next(()=>b)):this.Fs(p).next(()=>r(p)))).then(y=>(p.raiseOnCommittedEvent(),y))}Fs(e){return q0(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(le.FAILED_PRECONDITION,tA)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return q0(e).put("owner",t)}static vt(){return au.vt()}As(e){const t=q0(e);return t.get("owner").next(r=>this.bs(r)?(Oe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(_r(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,Gt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Oe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return _r("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){_r("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function q0(n){return Ii(n,"owner")}function AD(n){return Ii(n,"clientMetadata")}function rA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Qk{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const u of r)u.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const u of t)u.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return He.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):oy(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new He(t)).next(r=>{let i=yD();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let u=yD();return this.indexManager.getCollectionParents(e,i).next(c=>pe.forEach(c,p=>{const y=(b=t,S=p.child(i),new Ea(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,S;return this.Ws(e,y,r).next(b=>{b.forEach((S,M)=>{u=u.insert(S,M)})})}).next(()=>u))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const c of u)for(const p of c.mutations){const y=p.key;let b=i.get(y);null==b&&(b=Rn.newInvalidDocument(y),i=i.insert(y,b)),dD(p,b,c.localWriteTime),b.isFoundDocument()||(i=i.remove(y))}}).next(()=>(i.forEach((u,c)=>{oD(t,c)||(i=i.remove(u))}),i))}}class iA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=_n(),i=_n();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new iA(e,t.fromCache,r,i)}}class zx{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(It.min())?this.Zs(e,t):this.Xs.qs(e,i).next(u=>{const c=this.ti(t,u);return(sy(t)||yp(t))&&this.ei(t.limitType,c,i,r)?this.Zs(e,t):(Ym()<=Ka.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sD(t)),this.Xs.Ks(e,t,Jb(r,-1)).next(p=>(c.forEach(y=>{p=p.insert(y.key,y)}),p)))});var u}ti(e,t){let r=new Un(aD(e));return t.forEach((i,u)=>{oD(e,u)&&(r=r.add(u))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Zs(e,t){return Ym()<=Ka.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",sD(t)),this.Xs.Ks(e,t,ru.min())}}class Jk{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new lr($t),this.ii=new dl(u=>iu(u),mh),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new Qk(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function Wx(n,e,t,r){return new Jk(n,e,t,r)}function Kx(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,ve.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(u=>(i=u,t.ui(e),t.$s.getAllMutationBatches(r))).next(u=>{const c=[],p=[];let y=_n();for(const b of i){c.push(b.batchId);for(const S of b.mutations)y=y.add(S.key)}for(const b of u){p.push(b.batchId);for(const S of b.mutations)y=y.add(S.key)}return t.ai.qs(r,y).next(b=>({ci:b,removedBatchIds:c,addedBatchIds:p}))})})}),sA.apply(this,arguments)}function Xk(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.oi.newChangeBuffer({trackRemovals:!0});return function(c,p,y,b){const S=y.batch,M=S.keys();let F=pe.resolve();return M.forEach(B=>{F=F.next(()=>b.getEntry(p,B)).next(G=>{const ne=y.docVersions.get(B);Mt(null!==ne),G.version.compareTo(ne)<0&&(S.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),b.addEntry(G)))})}),F.next(()=>c.$s.removeMutationBatch(p,S))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function Zx(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function eP(n,e){const t=We(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const p=[];e.targetChanges.forEach((b,S)=>{const M=i.get(S);if(!M)return;p.push(t.ls.removeMatchingKeys(u,b.removedDocuments,S).next(()=>t.ls.addMatchingKeys(u,b.addedDocuments,S)));let F=M.withSequenceNumber(u.currentSequenceNumber);var B,G,ne;e.targetMismatches.has(S)?F=F.withResumeToken(vr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,r)),i=i.insert(S,F),G=F,ne=b,(0===(B=M).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&p.push(t.ls.updateTargetData(u,F))});let y=Uo();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),p.push(Yx(u,c,e.documentUpdates).next(b=>{y=b})),!r.isEqual(It.min())){const b=t.ls.getLastRemoteSnapshotVersion(u).next(S=>t.ls.setTargetsMetadata(u,u.currentSequenceNumber,r));p.push(b)}return pe.waitFor(p).next(()=>c.apply(u)).next(()=>t.ai.Gs(u,y)).next(()=>y)}).then(u=>(t.si=i,u))}function Yx(n,e,t){let r=_n();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let u=Uo();return t.forEach((c,p)=>{const y=i.get(c);p.isNoDocument()&&p.version.isEqual(It.min())?(e.removeEntry(c,p.readTime),u=u.insert(c,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(c,p)):Oe("LocalStore","Ignoring outdated watch update for ",c,". Current version:",y.version," Watch version:",p.version)}),u})}function tP(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function wy(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(u=>u?(i=u,pe.resolve(i)):t.ls.allocateTargetId(r).next(c=>(i=new wh(e,c,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function by(n,e,t){return oA.apply(this,arguments)}function oA(){return oA=(0,ve.Z)(function*(n,e,t){const r=We(n),i=r.si.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Ip(c))throw c;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),oA.apply(this,arguments)}function SD(n,e,t){const r=We(n);let i=It.min(),u=_n();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,y,b){const S=We(p),M=S.ii.get(b);return void 0!==M?pe.resolve(S.si.get(M)):S.ls.getTargetData(y,b)}(r,c,Ts(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(c,p.targetId).next(y=>{u=y})}).next(()=>r.ni.Ks(c,e,t?i:It.min(),t?u:_n())).next(p=>(Xx(r,C0(e),p),{documents:p,hi:u})))}function Qx(n,e){const t=We(n),r=We(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(c=>c?c.target:null))}function Jx(n,e){const t=We(n),r=t.ri.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,Jb(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Xx(t,e,i),i))}function Xx(n,e,t){let r=It.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ri.set(e,r)}function aA(){return aA=(0,ve.Z)(function*(n,e,t,r){const i=We(n);let u=_n(),c=Uo();for(const b of t){const S=e.li(b.metadata.name);b.document&&(u=u.add(S));const M=e.fi(b);M.setReadTime(e.di(b.metadata.readTime)),c=c.insert(S,M)}const p=i.oi.newChangeBuffer({trackRemovals:!0}),y=yield wy(i,(b=r,Ts(_h(Qt.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>Yx(b,p,c).next(S=>(p.apply(b),S)).next(S=>i.ls.removeMatchingKeysForTargetId(b,y.targetId).next(()=>i.ls.addMatchingKeys(b,u,y.targetId)).next(()=>i.ai.Gs(b,S)).next(()=>S)))}),aA.apply(this,arguments)}function rP(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,ve.Z)(function*(n,e,t=_n()){const r=yield wy(n,Ts(ZT(e.bundledQuery))),i=We(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=Se(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.ds.saveNamedQuery(u,e);const p=r.withResumeToken(vr.EMPTY_BYTE_STRING,c);return i.si=i.si.insert(p.targetId,p),i.ls.updateTargetData(u,p).next(()=>i.ls.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.ls.addMatchingKeys(u,t,r.targetId)).next(()=>i.ds.saveNamedQuery(u,e))})}),uA.apply(this,arguments)}class iP{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return pe.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:Se(r.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:ZT(r.bundledQuery),readTime:Se(r.readTime)}),pe.resolve();var r}}class sP{constructor(){this.overlays=new lr(He.comparator),this.mi=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.Xt(e,t,u)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.mi.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const i=cy(),u=t.length+1,c=new He(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const y=p.getNext().value,b=y.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&y.largestBatchId>r&&i.set(y.getKey(),y)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new lr((b,S)=>b-S);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let S=u.get(b.largestBatchId);null===S&&(S=cy(),u=u.insert(b.largestBatchId,S)),S.set(b.getKey(),b)}}const p=cy(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((b,S)=>p.set(b,S)),!(p.size()>=i)););return pe.resolve(p)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new KT(t,r));let u=this.mi.get(t);void 0===u&&(u=_n(),this.mi.set(t,u)),this.mi.set(t,u.add(r.key))}}class lA{constructor(){this.gi=new Un(Ti.yi),this.pi=new Un(Ti.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Ti(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Ti(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new He(new Qt([])),r=new Ti(t,e),i=new Ti(t,e+1),u=[];return this.pi.forEachInRange([r,i],c=>{this.Ei(c),u.push(c.key)}),u}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new He(new Qt([])),r=new Ti(t,e),i=new Ti(t,e+1);let u=_n();return this.pi.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Ti(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ti{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return He.comparator(e.key,t.key)||$t(e.Vi,t.Vi)}static Ii(e,t){return $t(e.Vi,t.Vi)||He.comparator(e.key,t.key)}}class oP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Un(Ti.yi)}checkEmpty(e){return pe.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const u=this.vi;this.vi++;const c=new zT(u,t,r,i);this.$s.push(c);for(const p of i)this.Si=this.Si.add(new Ti(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,t){return pe.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),u=i<0?0:i;return pe.resolve(this.$s.length>u?this.$s[u]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return pe.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ti(t,0),i=new Ti(t,Number.POSITIVE_INFINITY),u=[];return this.Si.forEachInRange([r,i],c=>{const p=this.Di(c.Vi);u.push(p)}),pe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Un($t);return t.forEach(i=>{const u=new Ti(i,0),c=new Ti(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([u,c],p=>{r=r.add(p.Vi)})}),pe.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;He.isDocumentKey(u)||(u=u.child(""));const c=new Ti(new He(u),0);let p=new Un($t);return this.Si.forEachWhile(y=>{const b=y.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(p=p.add(y.Vi)),!0)},c),pe.resolve(this.xi(p))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Mt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return pe.forEach(t.mutations,i=>{const u=new Ti(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Ti(t,0),i=this.Si.firstAfterOrEqual(r);return pe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return pe.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class aP{constructor(e){this.ki=e,this.docs=new lr(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():Rn.newInvalidDocument(t))}getEntries(e,t){let r=Uo();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():Rn.newInvalidDocument(i))}),pe.resolve(r)}getAllFromCollection(e,t,r){let i=Uo();const u=new He(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:p,value:{document:y}}=c.getNext();if(!t.isPrefixOf(p.path))break;p.path.length>t.length+1||E0(Bo(y),r)<=0||(i=i.insert(y.key,y.mutableCopy()))}return pe.resolve(i)}getAllFromCollectionGroup(e,t,r,i){tt()}Mi(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new uP(this)}getSize(e){return pe.resolve(this.size)}}class uP extends jx{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class lP{constructor(e){this.persistence=e,this.Oi=new dl(t=>iu(t),mh),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Fi=0,this.$i=new lA,this.targetCount=0,this.Bi=xp.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),pe.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new xp(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.In(t),pe.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Oi.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.Oi.delete(c),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),pe.waitFor(u).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),pe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.$i.containsKey(t))}}class cP{constructor(e,t){this.Li={},this.overlays={},this.ts=new bi(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new lP(this),this.indexManager=new jk,this.fs=new aP(r=>this.referenceDelegate.Ui(r)),this.M=new Tx(t),this.ds=new iP(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new oP(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Oe("MemoryPersistence","Starting transaction:",e);const i=new dP(this.ts.next());return this.referenceDelegate.qi(),r(i).next(u=>this.referenceDelegate.Gi(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ki(e,t){return pe.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class dP extends Dx{constructor(e){super(),this.currentSequenceNumber=e}}class cA{constructor(e){this.persistence=e,this.Qi=new lA,this.ji=null}static Wi(e){return new cA(e)}get zi(){if(this.ji)return this.ji;throw tt()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.zi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.zi,r=>{const i=He.fromPath(r);return this.Hi(e,i).next(u=>{u||t.removeEntry(i,It.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return pe.or([()=>pe.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function eR(n,e){return`firestore_clients_${n}_${e}`}function tR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function dA(n,e){return`firestore_targets_${n}_${e}`}class MD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new Ne(i.error.code,i.error.message))),c?new MD(e,t,i.state,u):(_r("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class z0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Ne(r.error.code,r.error.message))),u?new z0(e,r.state,i):(_r("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=F0();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=MT(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new xD(e,u):(_r("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hA{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hA(t.clientId,t.onlineState):(_r("SharedClientState",`Failed to parse online state: ${e}`),null)}}class fA{constructor(){this.activeTargetIds=F0()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pA{constructor(e,t,r,i,u){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new lr($t),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=eR(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new fA),this.ar=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const u=e.getItem(eR(e.persistenceKey,i));if(u){const c=xD.Ji(i,u);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(dA(this.persistenceKey,e));if(r){const i=z0.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(dA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Oe("SharedClientState","READ",e,t),t}setItem(e,t){Oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Oe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void _r("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(u){let c=bi.A;if(null!=u)try{const p=JSON.parse(u);Mt("number"==typeof p),c=p}catch(p){_r("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==bi.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new MD(this.currentUser,e,t,r),u=tR(this.persistenceKey,this.currentUser,e);this.setItem(u,i.Yi())}pr(e){const t=tR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=dA(this.persistenceKey,e),u=new z0(e,t,r);this.setItem(i,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return xD.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return MD.Ji(new $r(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return z0.Ji(i,t)}wr(e){return hA.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),u=this.gr(r),c=[],p=[];return u.forEach(y=>{i.has(y)||c.push(y)}),i.forEach(y=>{u.has(y)||p.push(y)}),this.syncEngine.Or(c,p).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=F0();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class nR{constructor(){this.Fr=new fA,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new fA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hP{Br(e){}shutdown(){}}class rR{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const fP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class pP{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class gP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,u){const c=this.oo(e,t);Oe("RestConnection","Sending: ",c,r);const p={};return this.uo(p,i,u),this.ao(e,c,p,r).then(y=>(Oe("RestConnection","Received: ",y),y),y=>{throw hp("RestConnection",`${e} failed with error: `,y,"url: ",c,"request:",r),y})}co(e,t,r,i,u){return this.ro(e,t,r,i,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ch,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}oo(e,t){return`${this.so}/v1/${t}:${fP[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((u,c)=>{const p=new bT;p.listenOnce(c0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Zm.NO_ERROR:const b=p.getResponseJson();Oe("Connection","XHR received:",JSON.stringify(b)),u(b);break;case Zm.TIMEOUT:Oe("Connection",'RPC "'+e+'" timed out'),c(new Ne(le.DEADLINE_EXCEEDED,"Request time out"));break;case Zm.HTTP_ERROR:const S=p.getStatus();if(Oe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",p.getResponseText()),S>0){const M=p.getResponseJson().error;if(M&&M.status&&M.message){const F=function(B){const G=B.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(G)>=0?G:le.UNKNOWN}(M.status);c(new Ne(F,M.message))}else c(new Ne(le.UNKNOWN,"Server responded with status "+p.getStatus()))}else c(new Ne(le.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{Oe("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);p.send(t,"POST",y,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ET(),c=wT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(p.xmlHttpFactory=new $b({})),this.uo(p.initMessageHeaders,t,r),(0,Gt.uI)()||(0,Gt.b$)()||(0,Gt.d)()||(0,Gt.w1)()||(0,Gt.Mn)()||(0,Gt.ru)()||(p.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");Oe("Connection","Creating WebChannel: "+y,p);const b=u.createWebChannel(y,p);let S=!1,M=!1;const F=new pP({jr:G=>{M?Oe("Connection","Not sending because WebChannel is closed:",G):(S||(Oe("Connection","Opening WebChannel transport."),b.open(),S=!0),Oe("Connection","WebChannel sending:",G),b.send(G))},Wr:()=>b.close()}),B=(G,ne,we)=>{G.listen(ne,Ze=>{try{we(Ze)}catch(Le){setTimeout(()=>{throw Le},0)}})};return B(b,dp.EventType.OPEN,()=>{M||Oe("Connection","WebChannel transport opened.")}),B(b,dp.EventType.CLOSE,()=>{M||(M=!0,Oe("Connection","WebChannel transport closed"),F.eo())}),B(b,dp.EventType.ERROR,G=>{M||(M=!0,hp("Connection","WebChannel transport errored:",G),F.eo(new Ne(le.UNAVAILABLE,"The operation could not be completed")))}),B(b,dp.EventType.MESSAGE,G=>{var ne;if(!M){const we=G.data[0];Mt(!!we);const Ze=we,Le=Ze.error||(null===(ne=Ze[0])||void 0===ne?void 0:ne.error);if(Le){Oe("Connection","WebChannel received error:",Le);const Ke=Le.status;let qe=function(dt){const Jt=tr[dt];if(void 0!==Jt)return ly(Jt)}(Ke),yt=Le.message;void 0===qe&&(qe=le.INTERNAL,yt="Unknown error status: "+Ke+" with message "+Le.message),M=!0,F.eo(new Ne(qe,yt)),b.close()}else Oe("Connection","WebChannel received:",we),F.no(we)}}),B(c,Ub.STAT_EVENT,G=>{G.stat===jb.PROXY?Oe("Connection","Detected buffering proxy"):G.stat===jb.NOPROXY&&Oe("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.Zr()},0),F}}function iR(){return"undefined"!=typeof window?window:null}function RD(){return"undefined"!=typeof document?document:null}function W0(n){return new P(n,!0)}class gA{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class sR{constructor(e,t,r,i,u,c,p,y){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new gA(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ve.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,ve.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Ne(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,ve.Z)(function*(){e.state=0,e.start()}))}qo(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mP extends sR{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=u}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function V0(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:tt(),i=e.targetChange.targetIds||[],u=function(y,b){return y.N?(Mt(void 0===b||"string"==typeof b),vr.fromBase64String(b||"")):(Mt(void 0===b||b instanceof Uint8Array),vr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(y){const b=void 0===y.code?le.UNKNOWN:ly(y.code);return new Ne(b,y.message||"")}(c);t=new d(r,i,u,p||null)}else if("documentChange"in e){const r=e.documentChange,i=st(n,r.document.name),u=Se(r.document.updateTime),c=new Wi({mapValue:{fields:r.document.fields}}),p=Rn.newFoundDocument(i,u,c);t=new a(r.targetIds||[],r.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const r=e.documentDelete,i=st(n,r.document),u=r.readTime?Se(r.readTime):It.min(),c=Rn.newNoDocument(i,u);t=new a([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=st(n,r.document);t=new a([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return tt();{const r=e.filter,u=new gD(r.count||0);t=new l(r.targetId,u)}}var y;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return It.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?It.min():u.readTime?Se(u.readTime):It.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=ni(this.M),t.addTarget=function(i,u){let c;const p=u.target;return c=iy(p)?{documents:fy(i,p)}:{query:py(i,p)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=Z(i,u.resumeToken):u.snapshotVersion.compareTo(It.min())>0&&(c.readTime=U(i,u.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function uk(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return tt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=ni(this.M),t.removeTarget=e,this.Oo(t)}}class yP extends sR{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function B0(n,e){return n&&n.length>0?(Mt(void 0!==e),n.map(t=>function(r,i){let u=Se(r.updateTime?r.updateTime:i);return u.isEqual(It.min())&&(u=Se(i)),new A0(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Se(e.commitTime);return this.listener.Jo(r,t)}return Mt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=ni(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>kc(this.M,r))};this.Oo(t)}}class _P extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Ne(le.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.ro(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(le.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.bo.co(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(le.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class vP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(_r(t),this.su=!1):Oe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class EP{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(p=>{r.enqueueAndForget((0,ve.Z)(function*(){var y;Ih(c)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,ve.Z)(function*(b){const S=We(b);S.lu.add(4),yield Dy(S),S._u.set("Unknown"),S.lu.delete(4),yield K0(S)}),function(b){return y.apply(this,arguments)})(c))}))}),this._u=new vP(r,i)}}function K0(n){return mA.apply(this,arguments)}function mA(){return mA=(0,ve.Z)(function*(n){if(Ih(n))for(const e of n.fu)yield e(!0)}),mA.apply(this,arguments)}function Dy(n){return yA.apply(this,arguments)}function yA(){return yA=(0,ve.Z)(function*(n){for(const e of n.fu)yield e(!1)}),yA.apply(this,arguments)}function ND(n,e){const t=We(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),EA(t)?vA(t):Iy(t).Co()&&_A(t,e))}function Z0(n,e){const t=We(n),r=Iy(t);t.hu.delete(e),r.Co()&&oR(t,e),0===t.hu.size&&(r.Co()?r.ko():Ih(t)&&t._u.set("Unknown"))}function _A(n,e){n.wu.Z(e.targetId),Iy(n).Qo(e)}function oR(n,e){n.wu.Z(e),Iy(n).jo(e)}function vA(n){n.wu=new v({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Iy(n).start(),n._u.iu()}function EA(n){return Ih(n)&&!Iy(n).Do()&&n.hu.size>0}function Ih(n){return 0===We(n).lu.size}function aR(n){n.wu=void 0}function wP(n){return wA.apply(this,arguments)}function wA(){return wA=(0,ve.Z)(function*(n){n.hu.forEach((e,t)=>{_A(n,e)})}),wA.apply(this,arguments)}function bP(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,ve.Z)(function*(n,e){aR(n),EA(n)?(n._u.uu(e),vA(n)):n._u.set("Unknown")}),bA.apply(this,arguments)}function DP(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=(0,ve.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof d&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(i,u){const c=u.cause;for(const p of u.targetIds)i.hu.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.hu.delete(p),i.wu.removeTarget(p))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield OD(n,r)}else if(e instanceof a?n.wu.ut(e):e instanceof l?n.wu._t(e):n.wu.ht(e),!t.isEqual(It.min()))try{const r=yield Zx(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.wu.yt(u);return c.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=i.hu.get(y);b&&i.hu.set(y,b.withResumeToken(p.resumeToken,u))}}),c.targetMismatches.forEach(p=>{const y=i.hu.get(p);if(!y)return;i.hu.set(p,y.withResumeToken(vr.EMPTY_BYTE_STRING,y.snapshotVersion)),oR(i,p);const b=new wh(y.target,p,1,y.sequenceNumber);_A(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Oe("RemoteStore","Failed to raise snapshot:",r),yield OD(n,r)}var r}),DA.apply(this,arguments)}function OD(n,e,t){return CA.apply(this,arguments)}function CA(){return CA=(0,ve.Z)(function*(n,e,t){if(!Ip(e))throw e;n.lu.add(1),yield Dy(n),n._u.set("Offline"),t||(t=()=>Zx(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield K0(n)}))}),CA.apply(this,arguments)}function uR(n,e){return e().catch(t=>OD(n,t,e))}function Cy(n){return IA.apply(this,arguments)}function IA(){return IA=(0,ve.Z)(function*(n){const e=We(n),t=Th(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;CP(e);)try{const i=yield tP(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,IP(e,i)}catch(i){yield OD(e,i)}lR(e)&&cR(e)}),IA.apply(this,arguments)}function CP(n){return Ih(n)&&n.cu.length<10}function IP(n,e){n.cu.push(e);const t=Th(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function lR(n){return Ih(n)&&!Th(n).Do()&&n.cu.length>0}function cR(n){Th(n).start()}function TP(n){return TA.apply(this,arguments)}function TA(){return TA=(0,ve.Z)(function*(n){Th(n).Xo()}),TA.apply(this,arguments)}function AP(n){return AA.apply(this,arguments)}function AA(){return AA=(0,ve.Z)(function*(n){const e=Th(n);for(const t of n.cu)e.Ho(t.mutations)}),AA.apply(this,arguments)}function SP(n,e,t){return SA.apply(this,arguments)}function SA(){return SA=(0,ve.Z)(function*(n,e,t){const r=n.cu.shift(),i=WT.from(r,e,t);yield uR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Cy(n)}),SA.apply(this,arguments)}function MP(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,ve.Z)(function*(n,e){var t;e&&Th(n).zo&&(yield(t=(0,ve.Z)(function*(r,i){if(k0(u=i.code)&&u!==le.ABORTED){const c=r.cu.shift();Th(r).No(),yield uR(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Cy(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),lR(n)&&cR(n)}),MA.apply(this,arguments)}function dR(n,e){return xA.apply(this,arguments)}function xA(){return xA=(0,ve.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const r=Ih(t);t.lu.add(3),yield Dy(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield K0(t)}),xA.apply(this,arguments)}function RA(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,ve.Z)(function*(n,e){const t=We(n);e?(t.lu.delete(2),yield K0(t)):e||(t.lu.add(2),yield Dy(t),t._u.set("Unknown"))}),NA.apply(this,arguments)}function Iy(n){return n.mu||(n.mu=function(e,t,r){const i=We(e);return i.tu(),new mP(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:wP.bind(null,n),Jr:bP.bind(null,n),Ko:DP.bind(null,n)}),n.fu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.mu.No(),EA(n)?vA(n):n._u.set("Unknown")):(yield n.mu.stop(),aR(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Th(n){return n.gu||(n.gu=function(e,t,r){const i=We(e);return i.tu(),new yP(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:TP.bind(null,n),Jr:MP.bind(null,n),Yo:AP.bind(null,n),Jo:SP.bind(null,n)}),n.fu.push(function(){var e=(0,ve.Z)(function*(t){t?(n.gu.No(),yield Cy(n)):(yield n.gu.stop(),n.cu.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class OA{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,p=new OA(e,t,c,i,u);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(n,e){if(_r("AsyncQueue",`${e}: ${n}`),Ip(n))return new Ne(le.UNAVAILABLE,`${e}: ${n}`);throw n}class Ay{constructor(e){this.comparator=e?(t,r)=>e(t,r)||He.comparator(t.key,r.key):(t,r)=>He.comparator(t.key,r.key),this.keyedMap=yD(),this.sortedSet=new lr(this.comparator)}static emptySet(e){return new Ay(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ay)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ay;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class hR{constructor(){this.yu=new lr(He.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):tt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Sy{constructor(e,t,r,i,u,c,p,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const u=[];return t.forEach(c=>{u.push({type:0,doc:c})}),new Sy(e,t,Ay.emptySet(t),u,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class xP{constructor(){this.Iu=void 0,this.listeners=[]}}class RP{constructor(){this.queries=new dl(e=>iD(e),Ep),this.onlineState="Unknown",this.Tu=new Set}}function kA(n,e){return PA.apply(this,arguments)}function PA(){return PA=(0,ve.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new xP),i)try{u.Iu=yield t.onListen(r)}catch(c){const p=Ty(c,`Initialization of query '${sD(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&VA(t)}),PA.apply(this,arguments)}function FA(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,ve.Z)(function*(n,e){const t=We(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),LA.apply(this,arguments)}function NP(n,e){const t=We(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.Au(i)&&(r=!0);c.Iu=i}}r&&VA(t)}function OP(n,e,t){const r=We(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function VA(n){n.Tu.forEach(e=>{e.next()})}class BA{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Sy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Sy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class kP{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class fR{constructor(e){this.M=e}li(e){return st(this.M,e)}fi(e){return e.metadata.exists?hy(this.M,e.document,!1):Rn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Se(e)}}class PP{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pR(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Qt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new fR(this.M);for(const i of e)if(i.metadata.queries){const u=r.li(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||_n()).add(u);t.set(c,p)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function nP(n,e,t,r){return aA.apply(this,arguments)}(e.localStore,new fR(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield rP(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function pR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class gR{constructor(e){this.key=e}}class mR{constructor(e){this.key=e}}class yR{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=_n(),this.mutatedKeys=_n(),this.Lu=aD(e),this.Uu=new Ay(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new hR,i=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const y=sy(this.query)&&i.size===this.query.limit?i.last():null,b=yp(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,M)=>{const F=i.get(S),B=oD(this.query,M)?M:null,G=!!F&&this.mutatedKeys.has(F.key),ne=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let we=!1;F&&B?F.data.isEqual(B.data)?G!==ne&&(r.track({type:3,doc:B}),we=!0):this.Qu(F,B)||(r.track({type:2,doc:B}),we=!0,(y&&this.Lu(B,y)>0||b&&this.Lu(B,b)<0)&&(p=!0)):!F&&B?(r.track({type:0,doc:B}),we=!0):F&&!B&&(r.track({type:1,doc:F}),we=!0,(y||b)&&(p=!0)),we&&(B?(c=c.add(B),u=ne?u.add(S):u.delete(S)):(c=c.delete(S),u=u.delete(S)))}),sy(this.query)||yp(this.query))for(;c.size>this.query.limit;){const S=sy(this.query)?c.last():c.first();c=c.delete(S.key),u=u.delete(S.key),r.track({type:1,doc:S})}return{Uu:c,Ku:r,ei:p,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Ku.pu();u.sort((b,S)=>function(M,F){const B=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return B(M)-B(F)}(b.type,S.type)||this.Lu(b.doc,S.doc)),this.ju(r);const c=t?this.Wu():[],p=0===this.Bu.size&&this.current?1:0,y=p!==this.$u;return this.$u=p,0!==u.length||y?{snapshot:new Sy(this.query,e.Uu,i,u,e.mutatedKeys,0===p,y,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new hR,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=_n(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new mR(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new gR(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=_n();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Sy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class FP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class LP{constructor(e){this.key=e,this.Xu=!1}}class VP{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Zu={},this.ta=new dl(p=>iD(p),Ep),this.ea=new Map,this.na=new Set,this.sa=new lr(He.comparator),this.ia=new Map,this.ra=new lA,this.oa={},this.ua=new Map,this.aa=xp.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function BP(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,ve.Z)(function*(n,e){const t=lS(n);let r,i;const u=t.ta.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.Yu();else{const c=yield wy(t.localStore,Ts(e));t.isPrimaryClient&&ND(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield jA(t,e,r,"current"===p)}return i}),UA.apply(this,arguments)}function jA(n,e,t,r){return $A.apply(this,arguments)}function $A(){return $A=(0,ve.Z)(function*(n,e,t,r){n.ha=(S,M,F)=>{return(B=(0,ve.Z)(function*(G,ne,we,Ze){let Le=ne.view.Gu(we);Le.ei&&(Le=yield SD(G.localStore,ne.query,!1).then(({documents:yt})=>ne.view.Gu(yt,Le)));const Ke=Ze&&Ze.targetChanges.get(ne.targetId),qe=ne.view.applyChanges(Le,G.isPrimaryClient,Ke);return JA(G,ne.targetId,qe.zu),qe.snapshot}),function(G,ne,we,Ze){return B.apply(this,arguments)})(n,S,M,F);var B};const i=yield SD(n.localStore,e,!0),u=new yR(e,i.hi),c=u.Gu(i.documents),p=o.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=u.applyChanges(c,n.isPrimaryClient,p);JA(n,t,y.zu);const b=new FP(e,t,u);return n.ta.set(e,b),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),y.snapshot}),$A.apply(this,arguments)}function UP(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,ve.Z)(function*(n,e){const t=We(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(u=>!Ep(u,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield by(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Z0(t.remoteStore,r.targetId),My(t,r.targetId)}).catch(Rp))):(My(t,r.targetId),yield by(t.localStore,r.targetId,!0))}),HA.apply(this,arguments)}function GA(){return GA=(0,ve.Z)(function*(n,e,t){const r=cS(n);try{const i=yield function(u,c){const p=We(u),y=ur.now(),b=c.reduce((M,F)=>M.add(F.key),_n());let S;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>p.ai.qs(M,b).next(F=>{S=F;const B=[];for(const G of c){const ne=hD(G,S.get(G.key));null!=ne&&B.push(new Oc(G.key,ne,kT(ne.value.mapValue),Zn.exists(!0)))}return p.$s.addMutationBatch(M,y,B,c)})).then(M=>(M.applyToLocalDocumentSet(S),{batchId:M.batchId,changes:S}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,p){let y=u.oa[u.currentUser.toKey()];y||(y=new lr($t)),y=y.insert(c,p),u.oa[u.currentUser.toKey()]=y}(r,i.batchId,t),yield Pc(r,i.changes),yield Cy(r.remoteStore)}catch(i){const u=Ty(i,"Failed to persist write");t.reject(u)}}),GA.apply(this,arguments)}function _R(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,ve.Z)(function*(n,e){const t=We(n);try{const r=yield eP(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.ia.get(u);c&&(Mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?Mt(c.Xu):i.removedDocuments.size>0&&(Mt(c.Xu),c.Xu=!1))}),yield Pc(t,r,e)}catch(r){yield Rp(r)}}),qA.apply(this,arguments)}function vR(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((u,c)=>{const p=c.view.Eu(e);p.snapshot&&i.push(p.snapshot)}),function(u,c){const p=We(u);p.onlineState=c;let y=!1;p.queries.forEach((b,S)=>{for(const M of S.listeners)M.Eu(c)&&(y=!0)}),y&&VA(p)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $P(n,e,t){return zA.apply(this,arguments)}function zA(){return zA=(0,ve.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),u=i&&i.key;if(u){let c=new lr(He.comparator);c=c.insert(u,Rn.newNoDocument(u,It.min()));const p=_n().add(u),y=new s(It.min(),new Map,new Un($t),c,p);yield _R(r,y),r.sa=r.sa.remove(u),r.ia.delete(e),XA(r)}else yield by(r.localStore,e,!1).then(()=>My(r,e,t)).catch(Rp)}),zA.apply(this,arguments)}function HP(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,ve.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const i=yield Xk(t.localStore,e);QA(t,r,null),YA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Pc(t,i)}catch(i){yield Rp(i)}}),WA.apply(this,arguments)}function GP(n,e,t){return KA.apply(this,arguments)}function KA(){return KA=(0,ve.Z)(function*(n,e,t){const r=We(n);try{const i=yield function(u,c){const p=We(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return p.$s.lookupMutationBatch(y,c).next(S=>(Mt(null!==S),b=S.keys(),p.$s.removeMutationBatch(y,S))).next(()=>p.$s.performConsistencyCheck(y)).next(()=>p.ai.qs(y,b))})}(r.localStore,e);QA(r,e,t),YA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Pc(r,i)}catch(i){yield Rp(i)}}),KA.apply(this,arguments)}function ZA(){return ZA=(0,ve.Z)(function*(n,e){const t=We(n);Ih(t.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=We(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.$s.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=Ty(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),ZA.apply(this,arguments)}function YA(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function QA(n,e,t){const r=We(n);let i=r.oa[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function My(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||ER(n,r)})}function ER(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Z0(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),XA(n))}function JA(n,e,t){for(const r of t)r instanceof gR?(n.ra.addReference(r.key,e),zP(n,r)):r instanceof mR?(Oe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||ER(n,r.key)):tt()}function zP(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Oe("SyncEngine","New document in limbo: "+t),n.na.add(r),XA(n))}function XA(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new He(Qt.fromString(e)),r=n.aa.next();n.ia.set(r,new LP(t)),n.sa=n.sa.insert(t,r),ND(n.remoteStore,new wh(Ts(_h(t.path)),r,2,bi.A))}}function Pc(n,e,t){return eS.apply(this,arguments)}function eS(){return eS=(0,ve.Z)(function*(n,e,t){const r=We(n),i=[],u=[],c=[];var p;r.ta.isEmpty()||(r.ta.forEach((p,y)=>{c.push(r.ha(y,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,b.fromCache?"not-current":"current"),i.push(b);const S=iA.Js(y.targetId,b);u.push(S)}}))}),yield Promise.all(c),r.Zu.Ko(i),yield(p=(0,ve.Z)(function*(y,b){const S=We(y);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>pe.forEach(b,F=>pe.forEach(F.zs,B=>S.persistence.referenceDelegate.addReference(M,F.targetId,B)).next(()=>pe.forEach(F.Hs,B=>S.persistence.referenceDelegate.removeReference(M,F.targetId,B)))))}catch(M){if(!Ip(M))throw M;Oe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const F=M.targetId;if(!M.fromCache){const B=S.si.get(F),ne=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);S.si=S.si.insert(F,ne)}}}),function(y,b){return p.apply(this,arguments)})(r.localStore,u))}),eS.apply(this,arguments)}function WP(n,e){return tS.apply(this,arguments)}function tS(){return tS=(0,ve.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const r=yield Kx(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(c=>{c.forEach(p=>{p.reject(new Ne(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pc(t,r.ci)}var i}),tS.apply(this,arguments)}function KP(n,e){const t=We(n),r=t.ia.get(e);if(r&&r.Xu)return _n().add(r.key);{let i=_n();const u=t.ea.get(e);if(!u)return i;for(const c of u){const p=t.ta.get(c);i=i.unionWith(p.view.qu)}return i}}function ZP(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,ve.Z)(function*(n,e){const t=We(n),r=yield SD(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&JA(t,e.targetId,i.zu),i}),nS.apply(this,arguments)}function YP(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,ve.Z)(function*(n,e){const t=We(n);return Jx(t.localStore,e).then(r=>Pc(t,r))}),rS.apply(this,arguments)}function QP(n,e,t,r){return iS.apply(this,arguments)}function iS(){return iS=(0,ve.Z)(function*(n,e,t,r){const i=We(n),u=yield function(c,p){const y=We(c),b=We(y.$s);return y.persistence.runTransaction("Lookup mutation documents","readonly",S=>b.ln(S,p).next(M=>M?y.ai.qs(S,M):pe.resolve(null)))}(i.localStore,e);var p;null!==u?("pending"===t?yield Cy(i.remoteStore):"acknowledged"===t||"rejected"===t?(QA(i,e,r||null),YA(i,e),p=e,We(We(i.localStore).$s).dn(p)):tt(),yield Pc(i,u)):Oe("SyncEngine","Cannot apply mutation batch with id: "+e)}),iS.apply(this,arguments)}function sS(){return sS=(0,ve.Z)(function*(n,e){const t=We(n);if(lS(t),cS(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield wR(t,r.toArray());t.ca=!0,yield RA(t.remoteStore,!0);for(const u of i)ND(t.remoteStore,u)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(My(t,c),by(t.localStore,c,!0))),Z0(t.remoteStore,c)}),yield i,yield wR(t,r),function(u){const c=We(u);c.ia.forEach((p,y)=>{Z0(c.remoteStore,y)}),c.ra.bi(),c.ia=new Map,c.sa=new lr(He.comparator)}(t),t.ca=!1,yield RA(t.remoteStore,!1)}}),sS.apply(this,arguments)}function wR(n,e,t){return oS.apply(this,arguments)}function oS(){return oS=(0,ve.Z)(function*(n,e,t){const r=We(n),i=[],u=[];for(const c of e){let p;const y=r.ea.get(c);if(y&&0!==y.length){p=yield wy(r.localStore,Ts(y[0]));for(const b of y){const S=r.ta.get(b),M=yield ZP(r,S);M.snapshot&&u.push(M.snapshot)}}else{const b=yield Qx(r.localStore,c);p=yield wy(r.localStore,b),yield jA(r,bR(b),c,!1)}i.push(p)}return r.Zu.Ko(u),i}),oS.apply(this,arguments)}function bR(n){return b0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function XP(n){const e=We(n);return We(We(e.localStore).persistence).Os()}function e1(n,e,t,r){return aS.apply(this,arguments)}function aS(){return aS=(0,ve.Z)(function*(n,e,t,r){const i=We(n);if(i.ca)return void Oe("SyncEngine","Ignoring unexpected query state notification.");const u=i.ea.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield Jx(i.localStore,C0(u[0])),p=s.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Pc(i,c,p);break}case"rejected":yield by(i.localStore,e,!0),My(i,e,r);break;default:tt()}}),aS.apply(this,arguments)}function t1(n,e,t){return uS.apply(this,arguments)}function uS(){return uS=(0,ve.Z)(function*(n,e,t){const r=lS(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Oe("SyncEngine","Adding an already active target "+i);continue}const u=yield Qx(r.localStore,i),c=yield wy(r.localStore,u);yield jA(r,bR(u),c.targetId,!1),ND(r.remoteStore,c)}for(const i of t)r.ea.has(i)&&(yield by(r.localStore,i,!1).then(()=>{Z0(r.remoteStore,i),My(r,i)}).catch(Rp))}}),uS.apply(this,arguments)}function lS(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_R.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$P.bind(null,e),e.Zu.Ko=NP.bind(null,e.eventManager),e.Zu.la=OP.bind(null,e.eventManager),e}function cS(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GP.bind(null,e),e}class DR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.M=W0(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return Wx(this.persistence,new zx,e.initialUser,this.M)}_a(e){return new cP(cA.Wi,this.M)}da(e){return new nR}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class CR extends DR{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield cS(r.ga.syncEngine),yield Cy(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return Wx(this.persistence,new zx,e.initialUser,this.M)}wa(e){return new qk(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=rA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new nA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,iR(),RD(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new nR}}class r1 extends CR{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof pA&&(r.sharedClientState.syncEngine={kr:QP.bind(null,i),Mr:e1.bind(null,i),Or:t1.bind(null,i),Os:XP.bind(null,i),Nr:YP.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var u=(0,ve.Z)(function*(c){yield function JP(n,e){return sS.apply(this,arguments)}(r.ga.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}da(e){const t=iR();if(!pA.vt(t))throw new Ne(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=rA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new pA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class dS{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>vR(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=WP.bind(null,r.syncEngine),yield RA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new RP}createDatastore(e){const t=W0(e.databaseInfo.databaseId),r=new gP(e.databaseInfo);return new _P(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=p=>vR(this.syncEngine,p,0),c=rR.vt()?new rR:new hP,new EP(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,p,y,b){const S=new VP(r,i,u,c,p,y);return b&&(S.ca=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=We(t);Oe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Dy(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function IR(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class kD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class s1{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Hr,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const u=yield e.ba(i);return new kP(JSON.parse(u),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,ve.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,ve.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class o1{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,ve.Z)(function*(u,c){const p=We(u),y=ni(p.M)+"/documents",b={documents:c.map(B=>De(p.M,B))},S=yield p.co("BatchGetDocuments",y,b),M=new Map;S.forEach(B=>{const G=function L0(n,e){return"found"in e?function(t,r){Mt(!!r.found);const i=st(t,r.found.name),u=Se(r.found.updateTime),c=new Wi({mapValue:{fields:r.found.fields}});return Rn.newFoundDocument(i,u,c)}(n,e):"missing"in e?function(t,r){Mt(!!r.missing),Mt(!!r.readTime);const i=st(t,r.missing),u=Se(r.readTime);return Rn.newNoDocument(i,u)}(n,e):tt()}(p.M,B);M.set(G.key.toString(),G)});const F=[];return c.forEach(B=>{const G=M.get(B.toString());Mt(!!G),F.push(G)}),F}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dp(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=He.fromPath(i);e.mutations.push(new O0(u,e.precondition(u)))}),yield(r=(0,ve.Z)(function*(i,u){const c=We(i),p=ni(c.M)+"/documents",y={writes:u.map(b=>kc(c.M,b))};yield c.ro("Commit",p,y)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw tt();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Zn.updateTime(t):Zn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Ne(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zn.updateTime(t)}return Zn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class a1{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new gA(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,ve.Z)(function*(){const t=new o1(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Ca(u)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!fh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!k0(t)}return!1}}class u1{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$r.UNAUTHENTICATED,this.clientId=Wb.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,ve.Z)(function*(p){Oe("FirestoreClient","Received user=",p.uid),yield u.authCredentialListener(p),u.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Oe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ty(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function TR(n,e){return hS.apply(this,arguments)}function hS(){return hS=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,ve.Z)(function*(u){r.isEqual(u)||(yield Kx(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),hS.apply(this,arguments)}function AR(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield pS(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>dR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>dR(e.remoteStore,u)),n.onlineComponents=e}),fS.apply(this,arguments)}function pS(n){return gS.apply(this,arguments)}function gS(){return gS=(0,ve.Z)(function*(n){return n.offlineComponents||(Oe("FirestoreClient","Using default OfflineComponentProvider"),yield TR(n,new DR)),n.offlineComponents}),gS.apply(this,arguments)}function PD(n){return mS.apply(this,arguments)}function mS(){return mS=(0,ve.Z)(function*(n){return n.onlineComponents||(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield AR(n,new dS)),n.onlineComponents}),mS.apply(this,arguments)}function SR(n){return pS(n).then(e=>e.persistence)}function yS(n){return pS(n).then(e=>e.localStore)}function MR(n){return PD(n).then(e=>e.remoteStore)}function _S(n){return PD(n).then(e=>e.syncEngine)}function xy(n){return vS.apply(this,arguments)}function vS(){return vS=(0,ve.Z)(function*(n){const e=yield PD(n),t=e.eventManager;return t.onListen=BP.bind(null,e.syncEngine),t.onUnlisten=UP.bind(null,e.syncEngine),t}),vS.apply(this,arguments)}function xR(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,u,c,p,y){const b=new kD({next:M=>{u.enqueueAndForget(()=>FA(i,S));const F=M.docs.has(c);!F&&M.fromCache?y.reject(new Ne(le.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&p&&"server"===p.source?y.reject(new Ne(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new BA(_h(c.path),b,{includeMetadataChanges:!0,Du:!0});return kA(i,S)}(yield xy(n),n.asyncQueue,e,t,r)})),r.promise}function RR(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(i,u,c,p,y){const b=new kD({next:M=>{u.enqueueAndForget(()=>FA(i,S)),M.fromCache&&"server"===p.source?y.reject(new Ne(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new BA(c,b,{includeMetadataChanges:!0,Du:!0});return kA(i,S)}(yield xy(n),n.asyncQueue,e,t,r)})),r.promise}const NR=new Map;function ES(n,e,t){if(!t)throw new Ne(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OR(n,e,t,r){if(!0===e&&!0===r)throw new Ne(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kR(n){if(!He.isDocumentKey(n))throw new Ne(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PR(n){if(He.isDocumentKey(n))throw new Ne(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function FD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":tt()}function sn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=FD(n);throw new Ne(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function FR(n,e){if(e<=0)throw new Ne(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class LR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,OR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Y0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LR({}),this._settingsFrozen=!1,e instanceof ol?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Ne(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ol(i.options.projectId)}(e))}get app(){if(!this._app)throw new Ne(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Gb;switch(t.type){case"gapi":const r=t.client;return Mt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new ix(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ne(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=NR.get(e);t&&(Oe("ComponentProvider","Removing Datastore"),NR.delete(e),t.terminate())}(this),Promise.resolve()}}class Yn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class as{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new as(this.firestore,e,this._query)}}class fl extends as{constructor(e,t,r){super(e,t,_h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new He(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function VR(n,e,...t){if(n=(0,Gt.m9)(n),ES("collection","path",e),n instanceof Y0){const r=Qt.fromString(e,...t);return PR(r),new fl(n,null,r)}{if(!(n instanceof Yn||n instanceof fl))throw new Ne(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return PR(r),new fl(n.firestore,null,r)}}function LD(n,e,...t){if(n=(0,Gt.m9)(n),1===arguments.length&&(e=Wb.R()),ES("doc","path",e),n instanceof Y0){const r=Qt.fromString(e,...t);return kR(r),new Yn(n,null,new He(r))}{if(!(n instanceof Yn||n instanceof fl))throw new Ne(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return kR(r),new Yn(n.firestore,n instanceof fl?n.converter:null,new He(r))}}function BR(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),(n instanceof Yn||n instanceof fl)&&(e instanceof Yn||e instanceof fl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function UR(n,e){return n=(0,Gt.m9)(n),e=(0,Gt.m9)(e),n instanceof as&&e instanceof as&&n.firestore===e.firestore&&Ep(n._query,e._query)&&n.converter===e.converter}class v1{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new gA(this,"async_queue_retry"),this.Ua=()=>{const t=RD();t&&Oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=RD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=RD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Hr;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,ve.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Ip(t))throw t;Oe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,_r("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=OA.createAndSchedule(this,e,t,r,u=>this.Qa(u));return this.Oa.push(i),i}qa(){this.Fa&&tt()}verifyOperationInProgress(){}ja(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function wS(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class E1{constructor(){this._progressObserver={},this._taskCompletionResolver=new Hr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class nr extends Y0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new v1,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||jR(this),this._firestoreClient.terminate()}}function zr(n){return n._firestoreClient||jR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jR(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new sx(n._databaseId,u,n._persistenceKey,(p=t).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p.useFetchStreams));var u,p;n._firestoreClient=new u1(n._authCredentials,n._appCheckCredentials,n._queue,r)}function $R(n,e,t){const r=new Hr;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield TR(n,t),yield AR(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(u=i).name?u.code===le.FAILED_PRECONDITION||u.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var u})).then(()=>r.promise)}function HR(n){if(n._initialized||n._terminated)throw new Ne(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Fc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(vr.fromBase64String(e))}catch(t){throw new Ne(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pl(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Op{constructor(e){this._methodName=e}}class VD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $t(this._lat,e._lat)||$t(this._long,e._long)}}const x1=/^__.*__$/;class R1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms):new bp(e,this.data,t,this.fieldTransforms)}}class GR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Oc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class BD{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===u&&this.Ja(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new BD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return $D(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(qR(this.Ya)&&x1.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class N1{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||W0(e)}uc(e,t,r,i=!1){return new BD({Ya:e,methodName:t,oc:r,path:Gr.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function kp(n){const e=n._freezeSettings(),t=W0(n._databaseId);return new N1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function UD(n,e,t,r,i,u={}){const c=n.uc(u.merge||u.mergeFields?2:0,e,t,i);IS("Data must be an object, but it was:",c,r);const p=KR(r,c);let y,b;if(u.merge)y=new Ac(c.fieldMask),b=c.fieldTransforms;else if(u.mergeFields){const S=[];for(const M of u.mergeFields){const F=TS(e,M,t);if(!c.contains(F))throw new Ne(le.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);YR(S,F)||S.push(F)}y=new Ac(S),b=c.fieldTransforms.filter(M=>y.covers(M.field))}else y=null,b=c.fieldTransforms;return new R1(new Wi(p),y,b)}class Q0 extends Op{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Q0}}function zR(n,e,t){return new BD({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class bS extends Op{_toFieldTransform(e){return new wp(e.path,new su)}isEqual(e){return e instanceof bS}}class O1 extends Op{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=zR(this,e,!0),r=this.ac.map(u=>Pp(u,t)),i=new Rc(r);return new wp(e.path,i)}isEqual(e){return this===e}}class k1 extends Op{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=zR(this,e,!0),r=this.ac.map(u=>Pp(u,t)),i=new ll(r);return new wp(e.path,i)}isEqual(e){return this===e}}class P1 extends Op{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new Nc(e.M,HT(e.M,this.cc));return new wp(e.path,t)}isEqual(e){return this===e}}function DS(n,e,t,r){const i=n.uc(1,e,t);IS("Data must be an object, but it was:",i,r);const u=[],c=Wi.empty();sl(r,(y,b)=>{const S=jD(e,y,t);b=(0,Gt.m9)(b);const M=i.nc(S);if(b instanceof Q0)u.push(S);else{const F=Pp(b,M);null!=F&&(u.push(S),c.set(S,F))}});const p=new Ac(u);return new GR(c,p,i.fieldTransforms)}function CS(n,e,t,r,i,u){const c=n.uc(1,e,t),p=[TS(e,r,t)],y=[i];if(u.length%2!=0)throw new Ne(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<u.length;F+=2)p.push(TS(e,u[F])),y.push(u[F+1]);const b=[],S=Wi.empty();for(let F=p.length-1;F>=0;--F)if(!YR(b,p[F])){const B=p[F];let G=y[F];G=(0,Gt.m9)(G);const ne=c.nc(B);if(G instanceof Q0)b.push(B);else{const we=Pp(G,ne);null!=we&&(b.push(B),S.set(B,we))}}const M=new Ac(b);return new GR(S,M,c.fieldTransforms)}function WR(n,e,t,r=!1){return Pp(t,n.uc(r?4:3,e))}function Pp(n,e){if(ZR(n=(0,Gt.m9)(n)))return IS("Unsupported field value:",e,n),KR(n,e);if(n instanceof Op)return function(t,r){if(!qR(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let p=Pp(c,r.sc(u));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Gt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return HT(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ur.fromDate(t);return{timestampValue:U(r.M,i)}}if(t instanceof ur){const i=new ur(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:U(r.M,i)}}if(t instanceof VD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pl)return{bytesValue:Z(r.M,t._byteString)};if(t instanceof Yn){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ic(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:je(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${FD(t)}`)}(n,e)}function KR(n,e){const t={};return Kb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sl(n,(r,i)=>{const u=Pp(i,e.Za(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function ZR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ur||n instanceof VD||n instanceof pl||n instanceof Yn||n instanceof Op)}function IS(n,e,t){if(!ZR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=FD(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function TS(n,e,t){if((e=(0,Gt.m9)(e))instanceof Fc)return e._internalPath;if("string"==typeof e)return jD(n,e);throw $D("Field path arguments must be of type string or ",n,!1,void 0,t)}const F1=new RegExp("[~\\*/\\[\\]]");function jD(n,e,t){if(e.search(F1)>=0)throw $D(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fc(...e.split("."))._internalPath}catch(r){throw $D(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $D(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(u||c)&&(y+=" (found",u&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new Ne(le.INVALID_ARGUMENT,p+n+y)}function YR(n,e){return n.some(t=>t.isEqual(e))}class J0{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new L1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(HD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class L1 extends J0{data(){return super.data()}}function HD(n,e){return"string"==typeof e?jD(n,e):e instanceof Fc?e._internalPath:e._delegate._internalPath}class Fp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lc extends J0{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new X0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(HD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class X0 extends Lc{data(e={}){return super.data(e)}}class Ah{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Fp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new X0(this._firestore,this._userDataWriter,r.key,r,new Fp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new X0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Fp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new X0(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Fp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,b=-1;return 0!==c.type&&(y=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),b=u.indexOf(c.doc.key)),{type:V1(c.type),doc:p,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function V1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function QR(n,e){return n instanceof Lc&&e instanceof Lc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Ah&&e instanceof Ah&&n._firestore===e._firestore&&UR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function JR(n){if(yp(n)&&0===n.explicitOrderBy.length)throw new Ne(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eE{}function Sh(n,...e){for(const t of e)n=t._apply(n);return n}class B1 extends eE{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=kp(e.firestore),r=function(i,u,c,p,y,b,S){let M;if(y.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Ne(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){iN(S,b);const B=[];for(const G of S)B.push(rN(p,i,G));M={arrayValue:{values:B}}}else M=rN(p,i,S)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||iN(S,b),M=WR(c,"where",S,"in"===b||"not-in"===b);const F=qr.create(y,b,M);return function(B,G){if(G.S()){const we=vp(B);if(null!==we&&!we.isEqual(G.field))throw new Ne(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${we.toString()}' and '${G.field.toString()}'`);const Ze=_p(B);null!==Ze&&sN(0,G.field,Ze)}const ne=function(we,Ze){for(const Le of we.filters)if(Ze.indexOf(Le.op)>=0)return Le.op;return null}(B,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(G.op));if(null!==ne)throw new Ne(le.INVALID_ARGUMENT,ne===G.op?`Invalid query. You cannot use more than one '${G.op.toString()}' filter.`:`Invalid query. You cannot use '${G.op.toString()}' filters with '${ne.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new as(e.firestore,e.converter,function(i,u){const c=i.filters.concat([u]);return new Ea(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class j1 extends eE{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Ne(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new yh(i,u);return function(p,y){if(null===_p(p)){const b=vp(p);null!==b&&sN(0,b,y.field)}}(r,c),c}(e._query,this.hc,this.dc);return new as(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new Ea(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class XR extends eE{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new as(e.firestore,e.converter,D0(e._query,this._c,this.wc))}}class eN extends eE{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=nN(e,this.type,this.mc,this.gc);return new as(e.firestore,e.converter,(i=t,new Ea((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class tN extends eE{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=nN(e,this.type,this.mc,this.gc);return new as(e.firestore,e.converter,(i=t,new Ea((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function nN(n,e,t,r){if(t[0]=(0,Gt.m9)(t[0]),t[0]instanceof J0)return function(i,u,c,p,y){if(!p)throw new Ne(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const S of vh(i))if(S.field.isKeyField())b.push(al(u,p.key));else{const M=p.data.field(S.field);if(m0(M))throw new Ne(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=S.field.canonicalString();throw new Ne(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(M)}return new ul(b,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=kp(n.firestore);return function(u,c,p,y,b,S){const M=u.explicitOrderBy;if(b.length>M.length)throw new Ne(le.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let B=0;B<b.length;B++){const G=b[B];if(M[B].field.isKeyField()){if("string"!=typeof G)throw new Ne(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof G}`);if(!oy(u)&&-1!==G.indexOf("/"))throw new Ne(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${G}' contains a slash.`);const ne=u.path.child(Qt.fromString(G));if(!He.isDocumentKey(ne))throw new Ne(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const we=new He(ne);F.push(al(c,we))}else{const ne=WR(p,y,G);F.push(ne)}}return new ul(F,S)}(n._query,n.firestore._databaseId,i,e,t,r)}}function rN(n,e,t){if("string"==typeof(t=(0,Gt.m9)(t))){if(""===t)throw new Ne(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oy(e)&&-1!==t.indexOf("/"))throw new Ne(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Qt.fromString(t));if(!He.isDocumentKey(r))throw new Ne(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return al(n,new He(r))}if(t instanceof Yn)return al(n,t._key);throw new Ne(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${FD(t)}.`)}function iN(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ne(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function sN(n,e,t){if(!t.isEqual(e))throw new Ne(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class AS{convertValue(e,t="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw tt()}}convertObject(e,t){const r={};return sl(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new VD(Kn(e.latitude),Kn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ST(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hh(e));default:return null}}convertTimestamp(e){const t=tu(e);return new ur(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);Mt(mx(r));const i=new ol(r.get(1),r.get(3)),u=new He(r.popFirst(5));return i.isEqual(t)||_r(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function GD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Z1 extends AS{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}class oN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=kp(e)}set(e,t,r){this._verifyNotCommitted();const i=Mh(e,this._firestore),u=GD(i.converter,t,r),c=UD(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Zn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=Mh(e,this._firestore);let c;return c="string"==typeof(t=(0,Gt.m9)(t))||t instanceof Fc?CS(this._dataReader,"WriteBatch.update",u._key,t,r,i):DS(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,Zn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Mh(e,this._firestore);return this._mutations=this._mutations.concat(new Dp(t._key,Zn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mh(n,e){if((n=(0,Gt.m9)(n)).firestore!==e)throw new Ne(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Lp extends AS{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}}function aN(n,e,t){n=sn(n,Yn);const r=sn(n.firestore,nr),i=GD(n.converter,e,t);return Ry(r,[UD(kp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Zn.none())])}function uN(n,e,t,...r){n=sn(n,Yn);const i=sn(n.firestore,nr),u=kp(i);let c;return c="string"==typeof(e=(0,Gt.m9)(e))||e instanceof Fc?CS(u,"updateDoc",n._key,e,t,r):DS(u,"updateDoc",n._key,e),Ry(i,[c.toMutation(n._key,Zn.exists(!0))])}function lN(n,...e){var t,r,i;n=(0,Gt.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||wS(e[c])||(u=e[c],c++);const p={includeMetadataChanges:u.includeMetadataChanges};if(wS(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let y,b,S;if(n instanceof Yn)b=sn(n.firestore,nr),S=_h(n._key.path),y={next:M=>{e[c]&&e[c](SS(b,n,M))},error:e[c+1],complete:e[c+2]};else{const M=sn(n,as);b=sn(M.firestore,nr),S=M._query;const F=new Lp(b);y={next:B=>{e[c]&&e[c](new Ah(b,F,M,B))},error:e[c+1],complete:e[c+2]},JR(n._query)}return function(M,F,B,G){const ne=new kD(G),we=new BA(F,ne,B);return M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return kA(yield xy(M),we)})),()=>{ne.pa(),M.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return FA(yield xy(M),we)}))}}(zr(b),S,p,y)}function Ry(n,e){return function(t,r){const i=new Hr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function jP(n,e,t){return GA.apply(this,arguments)}(yield _S(t),r,i)})),i.promise}(zr(n),e)}function SS(n,e,t){const r=t.docs.get(e._key),i=new Lp(n);return new Lc(n,i,e._key,r,new Fp(t.hasPendingWrites,t.fromCache),e.converter)}class sF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=kp(e)}get(e){const t=Mh(e,this._firestore),r=new Z1(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return tt();const u=i[0];if(u.isFoundDocument())return new J0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new J0(this._firestore,r,t._key,null,t.converter);throw tt()})}set(e,t,r){const i=Mh(e,this._firestore),u=GD(i.converter,t,r),c=UD(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=Mh(e,this._firestore);let c;return c="string"==typeof(t=(0,Gt.m9)(t))||t instanceof Fc?CS(this._dataReader,"Transaction.update",u._key,t,r,i):DS(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=Mh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Mh(e,this._firestore),r=new Lp(this._firestore);return super.get(e).then(i=>new Lc(this._firestore,r,t._key,i._document,new Fp(!1,!1),t.converter))}}function MS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function dN(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function hN(){if(!function AT(){return"undefined"!=typeof atob}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ch=Yu.SDK_VERSION,(0,Yu._registerComponent)(new Uf.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),u=new nr(i,new Jm(t.getProvider("auth-internal")),new DT(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Yu.registerVersion)(d0,"3.4.7",n),(0,Yu.registerVersion)(d0,"3.4.7","esm2017")}();class tE{constructor(e){this._delegate=e}static fromBase64String(e){return hN(),new tE(pl.fromBase64String(e))}static fromUint8Array(e){return dN(),new tE(pl.fromUint8Array(e))}toBase64(){return hN(),this._delegate.toBase64()}toUint8Array(){return dN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xS(n){return function pF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class gF{enableIndexedDbPersistence(e,t){return function b1(n,e){HR(n=sn(n,nr));const t=zr(n),r=n._freezeSettings(),i=new dS;return $R(t,i,new CR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function D1(n){HR(n=sn(n,nr));const e=zr(n),t=n._freezeSettings(),r=new dS;return $R(e,r,new r1(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function C1(n){if(n._initialized&&!n._terminated)throw new Ne(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Hr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!au.vt())return Promise.resolve();const i=r+"main";yield au.delete(i)}),function(r){return t.apply(this,arguments)})(rA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class fN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ol||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&hp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function y1(n,e,t,r={}){var i;const u=(n=sn(n,Y0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&hp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=$r.MOCK_USER;else{c=(0,Gt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ne(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new $r(y)}n._authCredentials=new qb(new Qm(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function T1(n){return function l1(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield SR(n),t=yield MR(n);return e.setNetworkEnabled(!0),function(r){const i=We(r);return i.lu.delete(0),K0(i)}(t)}))}(zr(n=sn(n,nr)))}(this._delegate)}disableNetwork(){return function A1(n){return function c1(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield SR(n),t=yield MR(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(i){const u=We(i);u.lu.add(0),yield Dy(u),u._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(zr(n=sn(n,nr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,OR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function I1(n){return function(e){const t=new Hr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function qP(n,e){return ZA.apply(this,arguments)}(yield _S(e),t)})),t.promise}(zr(n=sn(n,nr)))}(this._delegate)}onSnapshotsInSync(e){return function iF(n,e){return function f1(n,e){const t=new kD(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield xy(n),i=t,We(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield xy(n),i=t,void We(r).Tu.delete(i);var r,i}))}}(zr(n=sn(n,nr)),wS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ny(this,VR(this._delegate,e))}catch(t){throw As(t,"collection()","Firestore.collection()")}}doc(e){try{return new wa(this,LD(this._delegate,e))}catch(t){throw As(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ss(this,function _1(n,e){if(n=sn(n,Y0),ES("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new as(n,null,(t=e,new Ea(Qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw As(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function oF(n,e){return function p1(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const r=yield(i=n,PD(i).then(u=>u.datastore));var i;new a1(n.asyncQueue,r,e,t).run()})),t.promise}(zr(n=sn(n,nr)),t=>e(new sF(n,t)))}(this._delegate,t=>e(new pN(this,t)))}batch(){return zr(this._delegate),new gN(new oN(this._delegate,e=>Ry(this._delegate,e)))}loadBundle(e){return function S1(n,e){const t=zr(n=sn(n,nr)),r=new E1;return function g1(n,e,t,r){const i=function(u,c){let p;return p="string"==typeof u?(new TextEncoder).encode(u):u,y=function(y,b){if(y instanceof Uint8Array)return IR(y,b);if(y instanceof ArrayBuffer)return IR(new Uint8Array(y),b);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new s1(y,c);var y}(t,W0(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function n1(n,e,t){const r=We(n);var i;(i=(0,ve.Z)(function*(u,c,p){try{const y=yield c.getMetadata();if(yield function(F,B){const G=We(F),ne=Se(B.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",we=>G.ds.getBundleMetadata(we,B.id)).then(we=>!!we&&we.createTime.compareTo(ne)>=0)}(u.localStore,y))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(F=y).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);p._updateProgress(pR(y));const b=new PP(y,u.localStore,c.M);let S=yield c.fa();for(;S;){const F=yield b.Nu(S);F&&p._updateProgress(F),S=yield c.fa()}const M=yield b.complete();return yield Pc(u,M.Ou,void 0),yield function(F,B){const G=We(F);return G.persistence.runTransaction("Save bundle","readwrite",ne=>G.ds.saveBundleMetadata(ne,B))}(u.localStore,y),p._completeWith(M.progress),Promise.resolve(M.Mu)}catch(y){return hp("SyncEngine",`Loading bundle failed with ${y}`),p._failWith(y),Promise.resolve(new Set)}var F}),function(u,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield _S(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function M1(n,e){return function m1(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const i=We(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.ds.getNamedQuery(u,r))}(yield yS(n),e)}))}(zr(n=sn(n,nr)),e).then(t=>t?new as(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ss(this,t):null)}}class qD extends AS{constructor(e){super(),this.firestore=e}convertBytes(e){return new tE(new pl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return wa.forKey(t,this.firestore,null)}}class pN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new qD(e)}get(e){const t=Bp(e);return this._delegate.get(t).then(r=>new nE(this._firestore,new Lc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Bp(e);return r?(MS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Bp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Bp(e);return this._delegate.delete(t),this}}class gN{constructor(e){this._delegate=e}set(e,t,r){const i=Bp(e);return r?(MS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Bp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Bp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Vp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new X0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rE(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Vp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new Vp(e,new qD(e),t),i.set(t,u)),u}}Vp.INSTANCES=new WeakMap;class wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new wa(t,new Yn(t._delegate,r,new He(e)))}static forKey(e,t,r){return new wa(t,new Yn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ny(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ny(this.firestore,VR(this._delegate,e))}catch(t){throw As(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Gt.m9)(e))instanceof Yn&&BR(this._delegate,e)}set(e,t){t=MS("DocumentReference.set",t);try{return t?aN(this._delegate,e,t):aN(this._delegate,e)}catch(r){throw As(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?uN(this._delegate,e):uN(this._delegate,e,t,...r)}catch(i){throw As(i,"updateDoc()","DocumentReference.update()")}}delete(){return function nF(n){return Ry(sn(n.firestore,nr),[new Dp(n._key,Zn.none())])}(this._delegate)}onSnapshot(...e){const t=mN(e),r=yN(e,i=>new nE(this.firestore,new Lc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return lN(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Q1(n){n=sn(n,Yn);const e=sn(n.firestore,nr),t=zr(e),r=new Lp(e);return function d1(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,u,c){try{const p=yield function(y,b){const S=We(y);return S.persistence.runTransaction("read document","readonly",M=>S.ai.Bs(M,b))}(i,u);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Ne(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const y=Ty(p,`Failed to get document '${u} from cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield yS(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Lc(e,r,n._key,i,new Fp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function J1(n){n=sn(n,Yn);const e=sn(n.firestore,nr);return xR(zr(e),n._key,{source:"server"}).then(t=>SS(e,n,t))}(this._delegate):function Y1(n){n=sn(n,Yn);const e=sn(n.firestore,nr);return xR(zr(e),n._key).then(t=>SS(e,n,t))}(this._delegate),t.then(r=>new nE(this.firestore,new Lc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new wa(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function As(n,e,t){return n.message=n.message.replace(e,t),n}function mN(n){for(const e of n)if("object"==typeof e&&!xS(e))return e;return{}}function yN(n,e){var t,r;let i;return i=xS(n[0])?n[0]:xS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class nE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return QR(this._delegate,e._delegate)}}class rE extends nE{data(e){const t=this._delegate.data(e);return function h0(n,e){n||tt()}(void 0!==t),t}}class Ss{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new qD(e)}where(e,t,r){try{return new Ss(this.firestore,Sh(this._delegate,function U1(n,e,t){const r=e,i=HD("where",n);return new B1(i,r,t)}(e,t,r)))}catch(i){throw As(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ss(this.firestore,Sh(this._delegate,function $1(n,e="asc"){const t=e,r=HD("orderBy",n);return new j1(r,t)}(e,t)))}catch(r){throw As(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ss(this.firestore,Sh(this._delegate,function H1(n){return FR("limit",n),new XR("limit",n,"F")}(e)))}catch(t){throw As(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ss(this.firestore,Sh(this._delegate,function G1(n){return FR("limitToLast",n),new XR("limitToLast",n,"L")}(e)))}catch(t){throw As(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ss(this.firestore,Sh(this._delegate,function q1(...n){return new eN("startAt",n,!0)}(...e)))}catch(t){throw As(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ss(this.firestore,Sh(this._delegate,function z1(...n){return new eN("startAfter",n,!1)}(...e)))}catch(t){throw As(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ss(this.firestore,Sh(this._delegate,function W1(...n){return new tN("endBefore",n,!1)}(...e)))}catch(t){throw As(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ss(this.firestore,Sh(this._delegate,function K1(...n){return new tN("endAt",n,!0)}(...e)))}catch(t){throw As(t,"endAt()","Query.endAt()")}}isEqual(e){return UR(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function eF(n){n=sn(n,as);const e=sn(n.firestore,nr),t=zr(e),r=new Lp(e);return function h1(n,e){const t=new Hr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(i,u,c){try{const p=yield SD(i,u,!0),y=new yR(u,p.hi),b=y.Gu(p.documents),S=y.applyChanges(b,!1);c.resolve(S.snapshot)}catch(p){const y=Ty(p,`Failed to execute query '${u} against cache`);c.reject(y)}}),function(i,u,c){return r.apply(this,arguments)})(yield yS(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Ah(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function tF(n){n=sn(n,as);const e=sn(n.firestore,nr),t=zr(e),r=new Lp(e);return RR(t,n._query,{source:"server"}).then(i=>new Ah(e,r,n,i))}(this._delegate):function X1(n){n=sn(n,as);const e=sn(n.firestore,nr),t=zr(e),r=new Lp(e);return JR(n._query),RR(t,n._query).then(i=>new Ah(e,r,n,i))}(this._delegate),t.then(r=>new RS(this.firestore,new Ah(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=mN(e),r=yN(e,i=>new RS(this.firestore,new Ah(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return lN(this._delegate,t,r)}withConverter(e){return new Ss(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}class yF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new rE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class RS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ss(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new yF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new rE(this._firestore,r))})}isEqual(e){return QR(this._delegate,e._delegate)}}class Ny extends Ss{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new wa(this.firestore,e):null}doc(e){try{return new wa(this.firestore,void 0===e?LD(this._delegate):LD(this._delegate,e))}catch(t){throw As(t,"doc()","CollectionReference.doc()")}}add(e){return function rF(n,e){const t=sn(n.firestore,nr),r=LD(n),i=GD(n.converter,e);return Ry(t,[UD(kp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new wa(this.firestore,t))}isEqual(e){return BR(this._delegate,e._delegate)}withConverter(e){return new Ny(this.firestore,this._delegate.withConverter(e?Vp.getInstance(this.firestore,e):null))}}function Bp(n){return sn(n,Yn)}class NS{constructor(...e){this._delegate=new Fc(...e)}static documentId(){return new NS(Gr.keyField().canonicalString())}isEqual(e){return(e=(0,Gt.m9)(e))instanceof Fc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Up{constructor(e){this._delegate=e}static serverTimestamp(){const e=function uF(){return new bS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Up(e)}static delete(){const e=function aF(){return new Q0("deleteField")}();return e._methodName="FieldValue.delete",new Up(e)}static arrayUnion(...e){const t=function lF(...n){return new O1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Up(t)}static arrayRemove(...e){const t=function cF(...n){return new k1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Up(t)}static increment(e){const t=function dF(n){return new P1("increment",n)}(e);return t._methodName="FieldValue.increment",new Up(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _F={Firestore:fN,GeoPoint:VD,Timestamp:ur,Blob:tE,Transaction:pN,WriteBatch:gN,DocumentReference:wa,DocumentSnapshot:nE,Query:Ss,QueryDocumentSnapshot:rE,QuerySnapshot:RS,CollectionReference:Ny,FieldPath:NS,FieldValue:Up,setLogLevel:function mF(n){!function zi(n){eu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function EF(n){(function vF(n,e){n.INTERNAL.registerComponent(new Uf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},_F)))})(n,(e,t)=>new fN(e,t,new gF)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(pm.Z);var zD=k(5363),wF=k(6063);class bF extends ar.x{constructor(e=1/0,t=1/0,r=wF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let p=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)p=y;p&&r.splice(0,p+1)}}}var DF=k(3099);function _N(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,DF.B)({connector:()=>new bF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function vN(n,e){return(0,di.m)(e)?Ln(()=>n,e):Ln(()=>n)}var OS=k(9468);k(5867);const wN=new Map,SF={activated:!1,tokenObservers:[]},MF={initialized:!1,enabled:!1};function Ai(n){return wN.get(n)||SF}function uu(n,e){wN.set(n,e)}function KD(){return MF}class kF{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new Gt.BH,yield function PF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Gt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ms=new Gt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function DN(n){if(!Ai(n).activated)throw Ms.create("use-before-activation",{appName:n.name})}function LS(n,e){return VS.apply(this,arguments)}function VS(){return VS=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,p;try{c=yield fetch(n,u)}catch(M){throw Ms.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==c.status)throw Ms.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(M){throw Ms.create("fetch-parse-error",{originalErrorMessage:M.message})}const y=p.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Ms.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const b=1e3*Number(y[1]),S=Date.now();return{token:p.attestationToken,expireTimeMillis:S+b,issuedAtTimeMillis:S}}),VS.apply(this,arguments)}function UF(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const iE="firebase-app-check-store";let QD=null;function IN(){return QD||(QD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ms.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(iE,{keyPath:"compositeKey"})}}catch(t){e(Ms.create("storage-open",{originalErrorMessage:t.message}))}}),QD)}function BS(){return BS=(0,ve.Z)(function*(n,e){const r=(yield IN()).transaction(iE,"readwrite"),u=r.objectStore(iE).put({compositeKey:n,value:e});return new Promise((c,p)=>{u.onsuccess=y=>{c()},r.onerror=y=>{var b;p(Ms.create("storage-set",{originalErrorMessage:null===(b=y.target.error)||void 0===b?void 0:b.message}))}})}),BS.apply(this,arguments)}const sE=new Ka.Yd("@firebase/app-check");function MN(n,e){return(0,Gt.hl)()?function GF(n,e){return function TN(n,e){return BS.apply(this,arguments)}(function SN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{sE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function xN(){return KD().enabled}function RN(){return HS.apply(this,arguments)}function HS(){return HS=(0,ve.Z)(function*(){const n=KD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),HS.apply(this,arguments)}const YF={error:"UNKNOWN_ERROR"};function QF(n){return Gt.US.encodeString(JSON.stringify(n),!1)}function JD(n){return GS.apply(this,arguments)}function GS(){return GS=(0,ve.Z)(function*(n,e=!1){const t=n.app;DN(t);const r=Ai(t);let u,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&XD(y)&&(i=y)}if(!e&&i&&XD(i))return{token:i.token};let p,c=!1;if(xN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=LS(UF(t,yield RN()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const y=yield r.exchangeTokenPromise;return yield MN(t,y),uu(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),c=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?sE.warn(y.message):sE.error(y),u=y}return i?(p={token:i.token},uu(t,Object.assign(Object.assign({},r),{token:i})),yield MN(t,i)):p=XF(u),c&&ON(t,p),p}),GS.apply(this,arguments)}function zS(n,e){const t=Ai(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),uu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function NN(n){const{app:e}=n,t=Ai(e);let r=t.tokenRefresher;r||(r=function JF(n){const{app:e}=n;return new kF((0,ve.Z)(function*(){let r;if(r=Ai(e).token?yield JD(n,!0):yield JD(n),r.error)throw r.error}),()=>!0,()=>{const t=Ai(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),uu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ON(n,e){const t=Ai(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function XD(n){return n.expireTimeMillis-Date.now()>0}function XF(n){return{token:QF(YF),error:n}}class eL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ai(this.app);for(const t of e)zS(this.app,t.next);return Promise.resolve()}}const jN="app-check-internal";!function pL(){(0,Yu._registerComponent)(new Uf.wA("app-check",n=>function tL(n,e){return new eL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(jN).initialize()})),(0,Yu._registerComponent)(new Uf.wA(jN,n=>function nL(n){return{getToken:e=>JD(n,e),addTokenListener:e=>function qS(n,e,t,r){const{app:i}=n,u=Ai(i),c={next:t,error:r,type:e};if(uu(i,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,c]})),u.token&&XD(u.token)){const p=u.token;Promise.resolve().then(()=>{t({token:p.token}),NN(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>NN(n))}(n,"INTERNAL",e),removeTokenListener:e=>zS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Yu.registerVersion)("@firebase/app-check","0.5.5")}();class YS{constructor(){return(0,Ur.vb)("app-check")}}"undefined"!=typeof window&&window;var vL=k(127);const HN=new f.OlP("angularfire2.auth.use-emulator"),GN=new f.OlP("angularfire2.auth.settings"),qN=new f.OlP("angularfire2.auth.tenant-id"),zN=new f.OlP("angularfire2.auth.langugage-code"),WN=new f.OlP("angularfire2.auth.use-device-language"),KN=new f.OlP("angularfire.auth.persistence"),ZN=(n,e,t,r,i,u,c,p)=>(0,oo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,u&&y.useDeviceLanguage(),c)for(const[b,S]of Object.entries(c))y.settings[b]=S;return p&&y.setPersistence(p),y},[t,r,i,u,c,p]);let YN=(()=>{class n{constructor(t,r,i,u,c,p,y,b,S,M,F,B){const G=new ar.x,ne=_t(void 0).pipe((0,zD.Q)(c.outsideAngular),Ln(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,4087)))),(0,kt.U)(()=>(0,oo.on)(t,u,r)),(0,kt.U)(we=>ZN(we,u,p,b,S,M,y,F)),_N({bufferSize:1,refCount:!1}));if(gr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=_t(null);else{ne.pipe(Js()).subscribe();const Ze=ne.pipe(Ln(qe=>qe.getRedirectResult().then(yt=>yt,()=>null)),Ur.iC,_N({bufferSize:1,refCount:!1})),Le=ne.pipe(Ln(qe=>new Pr.y(yt=>({unsubscribe:u.runOutsideAngular(()=>qe.onAuthStateChanged(dt=>yt.next(dt),dt=>yt.error(dt),()=>yt.complete()))})))),Ke=ne.pipe(Ln(qe=>new Pr.y(yt=>({unsubscribe:u.runOutsideAngular(()=>qe.onIdTokenChanged(dt=>yt.next(dt),dt=>yt.error(dt),()=>yt.complete()))}))));this.authState=Ze.pipe(vN(Le),(0,OS.R)(c.outsideAngular),(0,zD.Q)(c.insideAngular)),this.user=Ze.pipe(vN(Ke),(0,OS.R)(c.outsideAngular),(0,zD.Q)(c.insideAngular)),this.idToken=this.user.pipe(Ln(qe=>qe?(0,Pn.D)(qe.getIdToken()):_t(null))),this.idTokenResult=this.user.pipe(Ln(qe=>qe?(0,Pn.D)(qe.getIdTokenResult()):_t(null))),this.credential=(0,X_.T)(Ze,G,this.authState.pipe(Xi(qe=>!qe))).pipe((0,kt.U)(qe=>(null==qe?void 0:qe.user)?qe:null),(0,OS.R)(c.outsideAngular),(0,zD.Q)(c.insideAngular))}return(0,oo.pX)(this,ne,u,{spy:{apply:(we,Ze,Le)=>{(we.startsWith("signIn")||we.startsWith("createUser"))&&Le.then(Ke=>G.next(Ke))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(oo.Dh),f.LFG(oo.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ur.HU),f.LFG(HN,8),f.LFG(GN,8),f.LFG(qN,8),f.LFG(zN,8),f.LFG(WN,8),f.LFG(KN,8),f.LFG(YS,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function QN(n,e){return function wL(n,e=Hw.z){return new Pr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function JS(n,e){return QN(n,e).pipe((0,kt.U)(t=>({payload:t,type:"query"})))}function tC(n,e){return JS(n,e).pipe(Li(void 0),Kd(),(0,kt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const y=i.find(S=>S.doc.ref.isEqual(c.ref)),b=null==t?void 0:t.payload.docs.find(S=>S.ref.isEqual(c.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(c.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),u}))}function JN(n,e,t){return tC(n,t).pipe(Sr((r,i)=>function DL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function CL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return XS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return XS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return XS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function qI(n,e=li.y){return n=null!=n?n:Gw,(0,Fr.e)((t,r)=>{let i,u=!0;t.subscribe((0,Gn.x)(r,c=>{const p=e(c);(u||!n(i,p))&&(u=!1,i=p,r.next(c))}))})}(),(0,kt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function XS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function XN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class eO{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=tC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,kt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Li(void 0),Kd(),Xi(([r,i])=>i.length>0||!r),(0,kt.U)(([r,i])=>i),Ur.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=XN(e);return JN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ur.iC)}valueChanges(e={}){return JS(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ur.iC)}get(e){return(0,Pn.D)(this.query.get(e)).pipe(Ur.iC)}add(e){return this.ref.add(e)}doc(e){return new tO(this.ref.doc(e),this.afs)}}class tO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=iO(r,t);return new eO(i,u,this.afs)}snapshotChanges(){return function bL(n,e){return QN(n,e).pipe(Li(void 0),Kd(),(0,kt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ur.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,kt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Pn.D)(this.ref.get(e)).pipe(Ur.iC)}}class IL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?tC(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Xi(t=>t.length>0),Ur.iC):tC(this.query,this.afs.schedulers.outsideAngular).pipe(Ur.iC)}auditTrail(e){return this.stateChanges(e).pipe(Sr((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=XN(e);return JN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ur.iC)}valueChanges(e={}){return JS(this.query,this.afs.schedulers.outsideAngular).pipe((0,kt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Ur.iC)}get(e){return(0,Pn.D)(this.query.get(e)).pipe(Ur.iC)}}const nO=new f.OlP("angularfire2.enableFirestorePersistence"),rO=new f.OlP("angularfire2.firestore.persistenceSettings"),TL=new f.OlP("angularfire2.firestore.settings"),AL=new f.OlP("angularfire2.firestore.use-emulator");function iO(n,e=(t=>t)){return{query:e(n),ref:n}}let eM=(()=>{class n{constructor(t,r,i,u,c,p,y,b,S,M,F,B,G,ne,we,Ze,Le){this.schedulers=y;const Ke=(0,oo.on)(t,p,r),qe=S;M&&ZN(Ke,p,F,G,ne,we,B,Ze),[this.firestore,this.persistenceEnabled$]=(0,oo.cc)(`${Ke.name}.firestore`,"AngularFirestore",Ke.name,()=>{const yt=p.runOutsideAngular(()=>Ke.firestore());if(u&&yt.settings(u),qe&&yt.useEmulator(...qe),i&&!gr(c)){const dt=()=>{try{return(0,Pn.D)(yt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Jt){return"undefined"!=typeof console&&console.warn(Jt),_t(!1)}};return[yt,p.runOutsideAngular(dt)]}return[yt,_t(!1)]},[u,qe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=iO(i,r),p=this.schedulers.ngZone.run(()=>u);return new eO(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new IL(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new tO(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(oo.Dh),f.LFG(oo.xv,8),f.LFG(nO,8),f.LFG(TL,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ur.HU),f.LFG(rO,8),f.LFG(AL,8),f.LFG(YN,8),f.LFG(HN,8),f.LFG(GN,8),f.LFG(qN,8),f.LFG(zN,8),f.LFG(WN,8),f.LFG(KN,8),f.LFG(YS,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sO=(()=>{class n{constructor(){vL.Z.registerVersion("angularfire",Ur.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:nO,useValue:!0},{provide:rO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[eM]}),n})();const oO=(n,e)=>{if(void 0===e)return n;const t=Object.keys(e);return n.filter(i=>((i,u,c)=>void 0===i.find(p=>u[p]!==c[p]))(t,i,e))};let oE=(()=>{class n{constructor(t){this._client=t}add(t){this._client.collection("add-tasks").add(t)}getAll(t){return this._client.collection("add-tasks").valueChanges({idField:"id"}).pipe((0,kt.U)(r=>oO(r,t)))}set(t){this._client.doc("add-tasks/"+t.id).update(t)}remove(t){this._client.doc("add-tasks/"+t).delete()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(eM))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),SL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[oE,{provide:Wd,useExisting:oE},{provide:w_,useExisting:oE},{provide:Dg,useExisting:oE},{provide:Z_,useExisting:oE}],imports:[[sO]]}),n})(),ML=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Dr,K_,Vo.forRoot(),fv.forRoot()]]}),n})(),xL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Dr,$a.forChild([{path:"",component:$w}]),GI,SL,ML]]}),n})();const RL=[{path:"",loadChildren:()=>TC},{path:"addTask",loadChildren:()=>xL}];let NL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[$a.forRoot(RL)],$a]}),n})(),aO=(()=>{class n{constructor(){this.todayString=(new Date).toDateString()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-date"]],decls:7,vars:1,consts:[[1,""],[1,"d-flex","align-items-start"],[1,"d-inline-flex","bd-highlight"],[1,"d-inline-flex","p-2","bd-highlight","align-self-center"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),f._uU(4,"TODAY"),f.qZA()(),f.TgZ(5,"div",3),f._uU(6),f.qZA()()()),2&t&&(f.xp6(6),f.hij(" ",r.todayString," "))},encapsulation:2,changeDetection:0}),n})();const uO=new f.OlP("GETS_ALL_PHOTOS_DTO");function OL(n,e){if(1&n&&(f.TgZ(0,"div",3)(1,"div",4),f._UZ(2,"img",5),f.qZA()()),2&n){const t=e.$implicit;f.xp6(2),f.Q6J("src",t.imageUrl,f.LSH)}}let kL=(()=>{class n{constructor(t){this._getsAllPhotosDto=t,this.photos$=this._getsAllPhotosDto.getAll()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(uO))},n.\u0275cmp=f.Xpm({type:n,selectors:[["lib-photos"]],decls:4,vars:3,consts:[[1,"container","mt-5"],[1,"row","d-flex","justify-content-center","pt-5"],["class","col-3 m",4,"ngFor","ngForOf"],[1,"col-3","m"],[1,"me-2"],[1,"img-fluid",3,"src"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1),f.YNc(2,OL,3,1,"div",2),f.ALo(3,"async"),f.qZA()()),2&t&&(f.xp6(2),f.Q6J("ngForOf",f.lcZ(3,1,r.photos$)))},directives:[or],pipes:[pu],encapsulation:2,changeDetection:0}),n})(),PL=(()=>{class n{constructor(){this.title="todo-list"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:16,vars:0,consts:[[1,"header"],[1,"container","px-4","text-light"],[1,"row","gx-5"],[1,"col"],[1,"p-3"],["routerLink","/",1,"mb-0"],[1,"container","px-4"],[1,"container-flex"],[1,"my-4","container"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),f._uU(6,"Todo App"),f.qZA()()()()()(),f.TgZ(7,"div",6)(8,"div",2)(9,"div",3)(10,"div",4),f._UZ(11,"lib-date"),f.TgZ(12,"div",7),f._UZ(13,"hr",8),f.qZA()()()()(),f._UZ(14,"router-outlet")(15,"lib-photos"))},directives:[mf,aO,tc,kL],styles:[""]}),n})();const tn=!1;function lO(n){return new f.vHH(3e3,tn)}function gV(){return"undefined"!=typeof window&&void 0!==window.document}function tM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function xh(n){switch(n.length){case 0:return new Bf;case 1:return n[0];default:return new Vw(n)}}function cO(n,e,t,r,i={},u={}){const c=[],p=[];let y=-1,b=null;if(r.forEach(S=>{const M=S.offset,F=M==y,B=F&&b||{};Object.keys(S).forEach(G=>{let ne=G,we=S[G];if("offset"!==G)switch(ne=e.normalizePropertyName(ne,c),we){case"!":we=i[G];break;case pa:we=u[G];break;default:we=e.normalizeStyleValue(G,ne,we,c)}B[ne]=we}),F||p.push(B),b=B,y=M}),c.length)throw function iV(n){return new f.vHH(3502,tn)}();return p}function nM(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&rM(t,"start",n)));break;case"done":n.onDone(()=>r(t&&rM(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&rM(t,"destroy",n)))}}function rM(n,e,t){const r=t.totalTime,u=iM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(u._data=c),u}function iM(n,e,t,r,i="",u=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:u,disabled:!!c}}function jo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function dO(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let sM=(n,e)=>!1,hO=(n,e,t)=>[],fO=null;function oM(n){const e=n.parentNode||n.host;return e===fO?null:e}(tM()||"undefined"!=typeof Element)&&(gV()?(fO=(()=>document.documentElement)(),sM=(n,e)=>{for(;e;){if(e===n)return!0;e=oM(e)}return!1}):sM=(n,e)=>n.contains(e),hO=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let jp=null,pO=!1;function gO(n){jp||(jp=function yV(){return"undefined"!=typeof document?document.body:null}()||{},pO=!!jp.style&&"WebkitAppearance"in jp.style);let e=!0;return jp.style&&!function mV(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in jp.style,!e&&pO&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in jp.style)),e}const mO=sM,yO=hO;let _O=(()=>{class n{validateStyleProperty(t){return gO(t)}matchesElement(t,r){return!1}containsElement(t,r){return mO(t,r)}getParentElement(t){return oM(t)}query(t,r,i){return yO(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,u,c,p=[],y){return new Bf(i,u)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),aM=(()=>{class n{}return n.NOOP=new _O,n})();const uM="ng-enter",rC="ng-leave",iC="ng-trigger",sC=".ng-trigger",EO="ng-animating",lM=".ng-animating";function $p(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:cM(parseFloat(e[1]),e[2])}function cM(n,e){return"s"===e?1e3*n:n}function oC(n,e,t){return n.hasOwnProperty("duration")?n:function EV(n,e,t){let i,u=0,c="";if("string"==typeof n){const p=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===p)return e.push(lO()),{duration:0,delay:0,easing:""};i=cM(parseFloat(p[1]),p[2]);const y=p[3];null!=y&&(u=cM(parseFloat(y),p[4]));const b=p[5];b&&(c=b)}else i=n;if(!t){let p=!1,y=e.length;i<0&&(e.push(function FL(){return new f.vHH(3100,tn)}()),p=!0),u<0&&(e.push(function LL(){return new f.vHH(3101,tn)}()),p=!0),p&&e.splice(y,0,lO())}return{duration:i,delay:u,easing:c}}(n,e,t)}function Oy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Rh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Oy(n,t);return t}function bO(n,e,t){return t?e+":"+t+";":""}function DO(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=bO(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=bO(0,DV(t),n.style[t]));n.setAttribute("style",e)}function gl(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=hM(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),tM()&&DO(n))}function Hp(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=hM(t);n.style[r]=""}),tM()&&DO(n))}function aE(n){return Array.isArray(n)?1==n.length?n[0]:pv(n):n}const dM=new RegExp("{{\\s*(.+?)\\s*}}","g");function CO(n){let e=[];if("string"==typeof n){let t;for(;t=dM.exec(n);)e.push(t[1]);dM.lastIndex=0}return e}function aC(n,e,t){const r=n.toString(),i=r.replace(dM,(u,c)=>{let p=e[c];return e.hasOwnProperty(c)||(t.push(function BL(n){return new f.vHH(3003,tn)}()),p=""),p.toString()});return i==r?n:i}function uC(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const bV=/-+([a-z0-9])/g;function hM(n){return n.replace(bV,(...e)=>e[1].toUpperCase())}function DV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $o(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function UL(n){return new f.vHH(3004,tn)}()}}function IO(n,e){return window.getComputedStyle(n)[e]}function MV(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function xV(n,e,t){if(":"==n[0]){const y=function RV(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function eV(n){return new f.vHH(3016,tn)}()),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function XL(n){return new f.vHH(3015,tn)}()),e;const i=r[1],u=r[2],c=r[3];e.push(TO(i,c));"<"==u[0]&&!("*"==i&&"*"==c)&&e.push(TO(c,i))}(r,t,e)):t.push(n),t}const hC=new Set(["true","1"]),fC=new Set(["false","0"]);function TO(n,e){const t=hC.has(n)||fC.has(n),r=hC.has(e)||fC.has(e);return(i,u)=>{let c="*"==n||n==i,p="*"==e||e==u;return!c&&t&&"boolean"==typeof i&&(c=i?hC.has(n):fC.has(n)),!p&&r&&"boolean"==typeof u&&(p=u?hC.has(e):fC.has(e)),c&&p}}const NV=new RegExp("s*:selfs*,?","g");function fM(n,e,t,r){return new OV(n).build(e,t,r)}class OV{constructor(e){this._driver=e}build(e,t,r){const i=new FV(t);this._resetContextStyleTimingState(i);const u=$o(this,aE(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),u}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const u=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function $L(){return new f.vHH(3006,tn)}()),e.definitions.forEach(p=>{if(this._resetContextStyleTimingState(t),0==p.type){const y=p,b=y.name;b.toString().split(/\s*,\s*/).forEach(S=>{y.name=S,u.push(this.visitState(y,t))}),y.name=b}else if(1==p.type){const y=this.visitTransition(p,t);r+=y.queryCount,i+=y.depCount,c.push(y)}else t.errors.push(function HL(){return new f.vHH(3007,tn)}())}),{type:7,name:e.name,states:u,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const u=new Set,c=i||{};r.styles.forEach(p=>{if(pC(p)){const y=p;Object.keys(y).forEach(b=>{CO(y[b]).forEach(S=>{c.hasOwnProperty(S)||u.add(S)})})}}),u.size&&(uC(u.values()),t.errors.push(function GL(n,e){return new f.vHH(3008,tn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=$o(this,aE(e.animation),t);return{type:1,matchers:MV(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Gp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>$o(this,r,t)),options:Gp(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const u=e.steps.map(c=>{t.currentTime=r;const p=$o(this,c,t);return i=Math.max(i,t.currentTime),p});return t.currentTime=i,{type:3,steps:u,options:Gp(e.options)}}visitAnimate(e,t){const r=function VV(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return pM(oC(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=pM(0,0,"");return u.dynamic=!0,u.strValue=r,u}return t=t||oC(r,e),pM(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,u=e.styles?e.styles:hm({});if(5==u.type)i=this.visitKeyframes(u,t);else{let c=e.styles,p=!1;if(!c){p=!0;const b={};r.easing&&(b.easing=r.easing),c=hm(b)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(c,t);y.isEmptyStep=p,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==pa?r.push(c):t.errors.push(function qL(n){return new f.vHH(3002,tn)}()):r.push(c)}):r.push(e.styles);let i=!1,u=null;return r.forEach(c=>{if(pC(c)){const p=c,y=p.easing;if(y&&(u=y,delete p.easing),!i)for(let b in p)if(p[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,u=t.currentTime;r&&u>0&&(u-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(p=>{if(!this._driver.validateStyleProperty(p))return delete c[p],void t.unsupportedCSSPropertiesFound.add(p);const y=t.collectedStyles[t.currentQuerySelector],b=y[p];let S=!0;b&&(u!=i&&u>=b.startTime&&i<=b.endTime&&(t.errors.push(function zL(n,e,t,r,i){return new f.vHH(3010,tn)}()),S=!1),u=b.startTime),S&&(y[p]={startTime:u,endTime:i}),t.options&&function wV(n,e,t){const r=e.params||{},i=CO(n);i.length&&i.forEach(u=>{r.hasOwnProperty(u)||t.push(function VL(n){return new f.vHH(3001,tn)}())})}(c[p],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function WL(){return new f.vHH(3011,tn)}()),r;let u=0;const c=[];let p=!1,y=!1,b=0;const S=e.steps.map(Ze=>{const Le=this._makeStyleAst(Ze,t);let Ke=null!=Le.offset?Le.offset:function LV(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(pC(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(pC(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Le.styles),qe=0;return null!=Ke&&(u++,qe=Le.offset=Ke),y=y||qe<0||qe>1,p=p||qe<b,b=qe,c.push(qe),Le});y&&t.errors.push(function KL(){return new f.vHH(3012,tn)}()),p&&t.errors.push(function ZL(){return new f.vHH(3200,tn)}());const M=e.steps.length;let F=0;u>0&&u<M?t.errors.push(function YL(){return new f.vHH(3202,tn)}()):0==u&&(F=1/(M-1));const B=M-1,G=t.currentTime,ne=t.currentAnimateTimings,we=ne.duration;return S.forEach((Ze,Le)=>{const Ke=F>0?Le==B?1:F*Le:c[Le],qe=Ke*we;t.currentTime=G+ne.delay+qe,ne.duration=qe,this._validateStyleAst(Ze,t),Ze.offset=Ke,r.styles.push(Ze)}),r}visitReference(e,t){return{type:8,animation:$o(this,aE(e.animation),t),options:Gp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Gp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Gp(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[u,c]=function kV(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(NV,"")),n=n.replace(/@\*/g,sC).replace(/@\w+/g,t=>sC+"-"+t.substr(1)).replace(/:animating/g,lM),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+u:u,jo(t.collectedStyles,t.currentQuerySelector,{});const p=$o(this,aE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:u,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:p,originalSelector:e.selector,options:Gp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function QL(){return new f.vHH(3013,tn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:oC(e.timings,t.errors,!0);return{type:12,animation:$o(this,aE(e.animation),t),timings:r,options:null}}}class FV{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function pC(n){return!Array.isArray(n)&&"object"==typeof n}function Gp(n){return n?(n=Oy(n)).params&&(n.params=function PV(n){return n?Oy(n):null}(n.params)):n={},n}function pM(n,e,t){return{duration:n,delay:e,easing:t}}function gM(n,e,t,r,i,u,c=null,p=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:u,totalTime:i+u,easing:c,subTimeline:p}}class gC{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const jV=new RegExp(":enter","g"),HV=new RegExp(":leave","g");function mM(n,e,t,r,i,u={},c={},p,y,b=[]){return(new GV).buildKeyframes(n,e,t,r,i,u,c,p,y,b)}class GV{buildKeyframes(e,t,r,i,u,c,p,y,b,S=[]){b=b||new gC;const M=new yM(e,t,b,i,u,S,[]);M.options=y,M.currentTimeline.setStyles([c],null,M.errors,y),$o(this,r,M);const F=M.timelines.filter(B=>B.containsAnimation());if(Object.keys(p).length){let B;for(let G=F.length-1;G>=0;G--){const ne=F[G];if(ne.element===t){B=ne;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([p],null,M.errors,y)}return F.length?F.map(B=>B.buildKeyframes()):[gM(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),u=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);u!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let u=t.currentTimeline.currentTime;const c=null!=r.duration?$p(r.duration):null,p=null!=r.delay?$p(r.delay):null;return 0!==c&&e.forEach(y=>{const b=t.appendInstructionToTimeline(y,c,p);u=Math.max(u,b.duration+b.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),$o(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const u=e.options;if(u&&(u.params||u.delay)&&(i=t.createSubContext(u),i.transformIntoNewTimeline(),null!=u.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=mC);const c=$p(u.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>$o(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?$p(e.options.delay):0;e.steps.forEach(c=>{const p=t.createSubContext(e.options);u&&p.delayNextStep(u),$o(this,c,p),i=Math.max(i,p.currentTimeline.currentTime),r.push(p.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return oC(t.params?aC(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(r.duration),this.visitStyle(u,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const u=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(u):r.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,u=r.duration,p=t.createSubContext().currentTimeline;p.easing=r.easing,e.styles.forEach(y=>{p.forwardTime((y.offset||0)*u),p.setStyles(y.styles,y.easing,t.errors,t.options),p.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(p),t.transformIntoNewTimeline(i+u),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},u=i.delay?$p(i.delay):0;u&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=mC);let c=r;const p=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=p.length;let y=null;p.forEach((b,S)=>{t.currentQueryIndex=S;const M=t.createSubContext(e.options,b);u&&M.delayNextStep(u),b===t.element&&(y=M.currentTimeline),$o(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,u=e.timings,c=Math.abs(u.duration),p=c*(t.currentQueryTotal-1);let y=c*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=p-y;break;case"full":y=r.currentStaggerTime}const S=t.currentTimeline;y&&S.delayNextStep(y);const M=S.currentTime;$o(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const mC={};class yM{constructor(e,t,r,i,u,c,p,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=u,this.errors=c,this.timelines=p,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=mC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new yC(this._driver,t,0),p.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=$p(r.duration)),null!=r.delay&&(i.delay=$p(r.delay));const u=r.params;if(u){let c=i.params;c||(c=this.options.params={}),Object.keys(u).forEach(p=>{(!t||!c.hasOwnProperty(p))&&(c[p]=aC(u[p],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,u=new yM(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=mC,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},u=new qV(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(u),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,u,c){let p=[];if(i&&p.push(this.element),e.length>0){e=(e=e.replace(jV,"."+this._enterClassName)).replace(HV,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),p.push(...b)}return!u&&0==p.length&&c.push(function JL(n){return new f.vHH(3014,tn)}()),p}}class yC{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new yC(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||pa,this._currentKeyframe[t]=pa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const u=i&&i.params||{},c=function zV(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(u=>{t[u]=pa})):Rh(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(p=>{const y=aC(c[p],u,r);this._pendingStyles[p]=y,this._localTimelineStyles.hasOwnProperty(p)||(this._backFill[p]=this._globalTimelineStyles.hasOwnProperty(p)?this._globalTimelineStyles[p]:pa),this._updateStyle(p,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((p,y)=>{const b=Rh(p,!0);Object.keys(b).forEach(S=>{const M=b[S];"!"==M?e.add(S):M==pa&&t.add(S)}),r||(b.offset=y/this.duration),i.push(b)});const u=e.size?uC(e.values()):[],c=t.size?uC(t.values()):[];if(r){const p=i[0],y=Oy(p);p.offset=0,y.offset=1,i=[p,y]}return gM(this.element,i,u,c,this.duration,this.startTime,this.easing,!1)}}class qV extends yC{constructor(e,t,r,i,u,c,p=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=u,this._stretchStartingKeyframe=p,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],c=r+t,p=t/c,y=Rh(e[0],!1);y.offset=0,u.push(y);const b=Rh(e[0],!1);b.offset=MO(p),u.push(b);const S=e.length-1;for(let M=1;M<=S;M++){let F=Rh(e[M],!1);F.offset=MO((t+F.offset*r)/c),u.push(F)}r=c,t=0,i="",e=u}return gM(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function MO(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class _M{}class WV extends _M{normalizePropertyName(e,t){return hM(e)}normalizeStyleValue(e,t,r,i){let u="";const c=r.toString().trim();if(KV[t]&&0!==r&&"0"!==r)if("number"==typeof r)u="px";else{const p=r.match(/^[+-]?[\d\.]+([a-z]*)$/);p&&0==p[1].length&&i.push(function jL(n,e){return new f.vHH(3005,tn)}())}return c+u}}const KV=(()=>function ZV(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xO(n,e,t,r,i,u,c,p,y,b,S,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:u,toState:r,toStyles:c,timelines:p,queriedElements:y,preStyleProps:b,postStyleProps:S,totalTime:M,errors:F}}const vM={};class RO{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function YV(n,e,t,r,i){return n.some(u=>u(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],u=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return u?u.buildStyles(t,r):c}build(e,t,r,i,u,c,p,y,b,S){const M=[],F=this.ast.options&&this.ast.options.params||vM,G=this.buildStyles(r,p&&p.params||vM,M),ne=y&&y.params||vM,we=this.buildStyles(i,ne,M),Ze=new Set,Le=new Map,Ke=new Map,qe="void"===i,yt={params:Object.assign(Object.assign({},F),ne)},dt=S?[]:mM(e,t,this.ast.animation,u,c,G,we,yt,b,M);let Jt=0;if(dt.forEach(vn=>{Jt=Math.max(vn.duration+vn.delay,Jt)}),M.length)return xO(t,this._triggerName,r,i,qe,G,we,[],[],Le,Ke,Jt,M);dt.forEach(vn=>{const Zt=vn.element,Dn=jo(Le,Zt,{});vn.preStyleProps.forEach(ml=>Dn[ml]=!0);const xs=jo(Ke,Zt,{});vn.postStyleProps.forEach(ml=>xs[ml]=!0),Zt!==t&&Ze.add(Zt)});const bn=uC(Ze.values());return xO(t,this._triggerName,r,i,qe,G,we,dt,bn,Le,Ke,Jt)}}class QV{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Oy(this.defaultParams);return Object.keys(e).forEach(u=>{const c=e[u];null!=c&&(i[u]=c)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const c=u;Object.keys(c).forEach(p=>{let y=c[p];y.length>1&&(y=aC(y,i,t));const b=this.normalizer.normalizePropertyName(p,t);y=this.normalizer.normalizeStyleValue(p,b,y,t),r[b]=y})}}),r}}class XV{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new QV(i.style,i.options&&i.options.params||{},r)}),NO(this.states,"true","1"),NO(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new RO(e,i,this.states))}),this.fallbackTransition=function eB(n,e,t){return new RO(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,p)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function NO(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const tB=new gC;class nB{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],u=fM(this._driver,t,r,[]);if(r.length)throw function sV(n){return new f.vHH(3503,tn)}();this._animations[e]=u}_buildPlayer(e,t,r){const i=e.element,u=cO(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],u=this._animations[e];let c;const p=new Map;if(u?(c=mM(this._driver,t,u,uM,rC,{},{},r,tB,i),c.forEach(S=>{const M=jo(p,S.element,{});S.postStyleProps.forEach(F=>M[F]=null)})):(i.push(function oV(){return new f.vHH(3300,tn)}()),c=[]),i.length)throw function aV(n){return new f.vHH(3504,tn)}();p.forEach((S,M)=>{Object.keys(S).forEach(F=>{S[F]=this._driver.computeStyle(M,F,pa)})});const b=xh(c.map(S=>{const M=p.get(S.element);return this._buildPlayer(S,{},M)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function uV(n){return new f.vHH(3301,tn)}();return t}listen(e,t,r,i){const u=iM(t,"","","");return nM(this._getPlayer(e),r,u,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const u=this._getPlayer(e);switch(r){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const OO="ng-animate-queued",EM="ng-animate-disabled",aB=[],kO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},uB={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ba="__ng_removed";class wM{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function hB(n){return null!=n?n:null}(r?e.value:e),r){const u=Oy(e);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const uE="void",bM=new wM(uE);class lB{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Da(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function lV(n,e){return new f.vHH(3302,tn)}();if(null==r||0==r.length)throw function cV(n){return new f.vHH(3303,tn)}();if(!function fB(n){return"start"==n||"done"==n}(r))throw function dV(n,e){return new f.vHH(3400,tn)}();const u=jo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};u.push(c);const p=jo(this._engine.statesByElement,e,{});return p.hasOwnProperty(t)||(Da(e,iC),Da(e,iC+"-"+t),p[t]=bM),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(c);y>=0&&u.splice(y,1),this._triggers[t]||delete p[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function hV(n){return new f.vHH(3401,tn)}();return t}trigger(e,t,r,i=!0){const u=this._getTrigger(t),c=new DM(this.id,t,e);let p=this._engine.statesByElement.get(e);p||(Da(e,iC),Da(e,iC+"-"+t),this._engine.statesByElement.set(e,p={}));let y=p[t];const b=new wM(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&b.absorbOptions(y.options),p[t]=b,y||(y=bM),b.value!==uE&&y.value===b.value){if(!function mB(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const u=t[i];if(!e.hasOwnProperty(u)||n[u]!==e[u])return!1}return!0}(y.params,b.params)){const ne=[],we=u.matchStyles(y.value,y.params,ne),Ze=u.matchStyles(b.value,b.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{Hp(e,we),gl(e,Ze)})}return}const F=jo(this._engine.playersByElement,e,[]);F.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let B=u.matchTransition(y.value,b.value,e,b.params),G=!1;if(!B){if(!i)return;B=u.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:y,toState:b,player:c,isFallbackTransition:G}),G||(Da(e,OO),c.onStart(()=>{ky(e,OO)})),c.onDone(()=>{let ne=this.players.indexOf(c);ne>=0&&this.players.splice(ne,1);const we=this._engine.playersByElement.get(e);if(we){let Ze=we.indexOf(c);Ze>=0&&we.splice(Ze,1)}}),this.players.push(c),F.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,sC,!0);r.forEach(i=>{if(i[ba])return;const u=this._engine.fetchNamespacesByElement(i);u.size?u.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const u=this._engine.statesByElement.get(e),c=new Map;if(u){const p=[];if(Object.keys(u).forEach(y=>{if(c.set(y,u[y].value),this._triggers[y]){const b=this.trigger(e,y,uE,i);b&&p.push(b)}}),p.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&xh(p).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(u=>{const c=u.name;if(i.has(c))return;i.add(c);const y=this._triggers[c].fallbackTransition,b=r[c]||bM,S=new wM(uE),M=new DM(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:b,toState:S,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const u=r.players.length?r.playersByQueriedElement.get(e):[];if(u&&u.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const u=e[ba];(!u||u===kO)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Da(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const u=r.element,c=this._elementListeners.get(u);c&&c.forEach(p=>{if(p.name==r.triggerName){const y=iM(u,r.triggerName,r.fromState.value,r.toState.value);y._data=e,nM(r.player,p.phase,y,p.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const u=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==u||0==c?u-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class cB{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new lB(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,u=r.length-1;if(u>=0){let c=!1;if(void 0!==this.driver.getParentElement){let p=this.driver.getParentElement(t);for(;p;){const y=i.get(p);if(y){const b=r.indexOf(y);r.splice(b+1,0,e),c=!0;break}p=this.driver.getParentElement(p)}}else for(let p=u;p>=0;p--)if(this.driver.containsElement(r[p].hostElement,t)){r.splice(p+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let u=0;u<i.length;u++){const c=r[i[u]].namespaceId;if(c){const p=this._fetchNamespace(c);p&&t.add(p)}}}return t}trigger(e,t,r,i){if(_C(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!_C(t))return;const u=t[ba];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Da(e,EM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ky(e,EM))}removeNode(e,t,r,i){if(_C(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,u){this.collectedLeaveElements.push(t),t[ba]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:u}}listen(e,t,r,i,u){return _C(t)?this._fetchNamespace(e).listen(t,r,i,u):()=>{}}_buildInstruction(e,t,r,i,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,sC,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,lM,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return xh(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[ba];if(r&&r.setForRemoval){if(e[ba]=kO,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(EM))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Da(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?xh(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function fV(n){return new f.vHH(3402,tn)}()}_flushAnimations(e,t){const r=new gC,i=[],u=new Map,c=[],p=new Map,y=new Map,b=new Map,S=new Set;this.disabledNodes.forEach(ot=>{S.add(ot);const mt=this.driver.query(ot,".ng-animate-queued",!0);for(let At=0;At<mt.length;At++)S.add(mt[At])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),B=LO(F,this.collectedEnterElements),G=new Map;let ne=0;B.forEach((ot,mt)=>{const At=uM+ne++;G.set(mt,At),ot.forEach(fn=>Da(fn,At))});const we=[],Ze=new Set,Le=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const mt=this.collectedLeaveElements[ot],At=mt[ba];At&&At.setForRemoval&&(we.push(mt),Ze.add(mt),At.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(fn=>Ze.add(fn)):Le.add(mt))}const Ke=new Map,qe=LO(F,Array.from(Ze));qe.forEach((ot,mt)=>{const At=rC+ne++;Ke.set(mt,At),ot.forEach(fn=>Da(fn,At))}),e.push(()=>{B.forEach((ot,mt)=>{const At=G.get(mt);ot.forEach(fn=>ky(fn,At))}),qe.forEach((ot,mt)=>{const At=Ke.get(mt);ot.forEach(fn=>ky(fn,At))}),we.forEach(ot=>{this.processLeaveNode(ot)})});const yt=[],dt=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(At=>{const fn=At.player,Si=At.element;if(yt.push(fn),this.collectedEnterElements.length){const Rs=Si[ba];if(Rs&&Rs.setForMove){if(Rs.previousTriggersValues&&Rs.previousTriggersValues.has(At.triggerName)){const qp=Rs.previousTriggersValues.get(At.triggerName),Oh=this.statesByElement.get(At.element);Oh&&Oh[At.triggerName]&&(Oh[At.triggerName].value=qp)}return void fn.destroy()}}const yl=!M||!this.driver.containsElement(M,Si),Ho=Ke.get(Si),Nh=G.get(Si),cr=this._buildInstruction(At,r,Nh,Ho,yl);if(cr.errors&&cr.errors.length)return void dt.push(cr);if(yl)return fn.onStart(()=>Hp(Si,cr.fromStyles)),fn.onDestroy(()=>gl(Si,cr.toStyles)),void i.push(fn);if(At.isFallbackTransition)return fn.onStart(()=>Hp(Si,cr.fromStyles)),fn.onDestroy(()=>gl(Si,cr.toStyles)),void i.push(fn);const ZO=[];cr.timelines.forEach(Rs=>{Rs.stretchStartingKeyframe=!0,this.disabledNodes.has(Rs.element)||ZO.push(Rs)}),cr.timelines=ZO,r.append(Si,cr.timelines),c.push({instruction:cr,player:fn,element:Si}),cr.queriedElements.forEach(Rs=>jo(p,Rs,[]).push(fn)),cr.preStyleProps.forEach((Rs,qp)=>{const Oh=Object.keys(Rs);if(Oh.length){let zp=y.get(qp);zp||y.set(qp,zp=new Set),Oh.forEach(IM=>zp.add(IM))}}),cr.postStyleProps.forEach((Rs,qp)=>{const Oh=Object.keys(Rs);let zp=b.get(qp);zp||b.set(qp,zp=new Set),Oh.forEach(IM=>zp.add(IM))})});if(dt.length){const ot=[];dt.forEach(mt=>{ot.push(function pV(n,e){return new f.vHH(3505,tn)}())}),yt.forEach(mt=>mt.destroy()),this.reportError(ot)}const Jt=new Map,bn=new Map;c.forEach(ot=>{const mt=ot.element;r.has(mt)&&(bn.set(mt,mt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,Jt))}),i.forEach(ot=>{const mt=ot.element;this._getPreviousPlayers(mt,!1,ot.namespaceId,ot.triggerName,null).forEach(fn=>{jo(Jt,mt,[]).push(fn),fn.destroy()})});const vn=we.filter(ot=>BO(ot,y,b)),Zt=new Map;FO(Zt,this.driver,Le,b,pa).forEach(ot=>{BO(ot,y,b)&&vn.push(ot)});const xs=new Map;B.forEach((ot,mt)=>{FO(xs,this.driver,new Set(ot),y,"!")}),vn.forEach(ot=>{const mt=Zt.get(ot),At=xs.get(ot);Zt.set(ot,Object.assign(Object.assign({},mt),At))});const ml=[],lE=[],cE={};c.forEach(ot=>{const{element:mt,player:At,instruction:fn}=ot;if(r.has(mt)){if(S.has(mt))return At.onDestroy(()=>gl(mt,fn.toStyles)),At.disabled=!0,At.overrideTotalTime(fn.totalTime),void i.push(At);let Si=cE;if(bn.size>1){let Ho=mt;const Nh=[];for(;Ho=Ho.parentNode;){const cr=bn.get(Ho);if(cr){Si=cr;break}Nh.push(Ho)}Nh.forEach(cr=>bn.set(cr,Si))}const yl=this._buildAnimation(At.namespaceId,fn,Jt,u,xs,Zt);if(At.setRealPlayer(yl),Si===cE)ml.push(At);else{const Ho=this.playersByElement.get(Si);Ho&&Ho.length&&(At.parentPlayer=xh(Ho)),i.push(At)}}else Hp(mt,fn.fromStyles),At.onDestroy(()=>gl(mt,fn.toStyles)),lE.push(At),S.has(mt)&&i.push(At)}),lE.forEach(ot=>{const mt=u.get(ot.element);if(mt&&mt.length){const At=xh(mt);ot.setRealPlayer(At)}}),i.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<we.length;ot++){const mt=we[ot],At=mt[ba];if(ky(mt,rC),At&&At.hasAnimation)continue;let fn=[];if(p.size){let yl=p.get(mt);yl&&yl.length&&fn.push(...yl);let Ho=this.driver.query(mt,lM,!0);for(let Nh=0;Nh<Ho.length;Nh++){let cr=p.get(Ho[Nh]);cr&&cr.length&&fn.push(...cr)}}const Si=fn.filter(yl=>!yl.destroyed);Si.length?pB(this,mt,Si):this.processLeaveNode(mt)}return we.length=0,ml.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const mt=this.players.indexOf(ot);this.players.splice(mt,1)}),ot.play()}),ml}elementContainsData(e,t){let r=!1;const i=t[ba];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,u){let c=[];if(t){const p=this.playersByQueriedElement.get(e);p&&(c=p)}else{const p=this.playersByElement.get(e);if(p){const y=!u||u==uE;p.forEach(b=>{b.queued||!y&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(p=>!(r&&r!=p.namespaceId||i&&i!=p.triggerName))),c}_beforeAnimationBuild(e,t,r){const u=t.element,c=t.isRemovalTransition?void 0:e,p=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const b=y.element,S=b!==u,M=jo(r,b,[]);this._getPreviousPlayers(b,S,c,p,t.toState).forEach(B=>{const G=B.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),B.destroy(),M.push(B)})}Hp(u,t.fromStyles)}_buildAnimation(e,t,r,i,u,c){const p=t.triggerName,y=t.element,b=[],S=new Set,M=new Set,F=t.timelines.map(G=>{const ne=G.element;S.add(ne);const we=ne[ba];if(we&&we.removedBeforeQueried)return new Bf(G.duration,G.delay);const Ze=ne!==y,Le=function gB(n){const e=[];return VO(n,e),e}((r.get(ne)||aB).map(Jt=>Jt.getRealPlayer())).filter(Jt=>!!Jt.element&&Jt.element===ne),Ke=u.get(ne),qe=c.get(ne),yt=cO(0,this._normalizer,0,G.keyframes,Ke,qe),dt=this._buildPlayer(G,yt,Le);if(G.subTimeline&&i&&M.add(ne),Ze){const Jt=new DM(e,p,ne);Jt.setRealPlayer(dt),b.push(Jt)}return dt});b.forEach(G=>{jo(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function dB(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,G.element,G))}),S.forEach(G=>Da(G,EO));const B=xh(F);return B.onDestroy(()=>{S.forEach(G=>ky(G,EO)),gl(y,t.toStyles)}),M.forEach(G=>{jo(i,G,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Bf(e.duration,e.delay)}}class DM{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Bf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>nM(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){jo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function _C(n){return n&&1===n.nodeType}function PO(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function FO(n,e,t,r,i){const u=[];t.forEach(y=>u.push(PO(y)));const c=[];r.forEach((y,b)=>{const S={};y.forEach(M=>{const F=S[M]=e.computeStyle(b,M,i);(!F||0==F.length)&&(b[ba]=uB,c.push(b))}),n.set(b,S)});let p=0;return t.forEach(y=>PO(y,u[p++])),c}function LO(n,e){const t=new Map;if(n.forEach(p=>t.set(p,[])),0==e.length)return t;const i=new Set(e),u=new Map;function c(p){if(!p)return 1;let y=u.get(p);if(y)return y;const b=p.parentNode;return y=t.has(b)?b:i.has(b)?1:c(b),u.set(p,y),y}return e.forEach(p=>{const y=c(p);1!==y&&t.get(y).push(p)}),t}function Da(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function ky(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function pB(n,e,t){xh(t).onDone(()=>n.processLeaveNode(e))}function VO(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Vw?VO(r.players,e):e.push(r)}}function BO(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(u=>i.add(u)):e.set(n,r),t.delete(n),!0}class vC{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,u)=>{},this._transitionEngine=new cB(e,t,r),this._timelineEngine=new nB(e,t,r),this._transitionEngine.onRemovalComplete=(i,u)=>this.onRemovalComplete(i,u)}registerTrigger(e,t,r,i,u){const c=e+"-"+i;let p=this._triggerCache[c];if(!p){const y=[],S=fM(this._driver,u,y,[]);if(y.length)throw function rV(n,e){return new f.vHH(3404,tn)}();p=function JV(n,e,t){return new XV(n,e,t)}(i,S,this._normalizer),this._triggerCache[c]=p}this._transitionEngine.registerTrigger(t,i,p)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[u,c]=dO(r);this._timelineEngine.command(u,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,u){if("@"==r.charAt(0)){const[c,p]=dO(r);return this._timelineEngine.listen(c,t,p,u)}return this._transitionEngine.listen(e,t,r,i,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let _B=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let u=n.initialStylesByElement.get(t);u||n.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&gl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gl(this._element,this._initialStyles),this._endStyles&&(gl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Hp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hp(this._element,this._endStyles),this._endStyles=null),gl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function CM(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];vB(i)&&(e=e||{},e[i]=n[i])}return e}function vB(n){return"display"===n||"position"===n}class UO{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:IO(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class EB{validateStyleProperty(e){return gO(e)}matchesElement(e,t){return!1}containsElement(e,t){return mO(e,t)}getParentElement(e){return oM(e)}query(e,t,r){return yO(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,u,c=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};u&&(y.easing=u);const b={},S=c.filter(F=>F instanceof UO);(function CV(n,e){return 0===n||0===e})(r,i)&&S.forEach(F=>{let B=F.currentSnapshot;Object.keys(B).forEach(G=>b[G]=B[G])}),t=function IV(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let u=e[0],c=[];if(r.forEach(p=>{u.hasOwnProperty(p)||c.push(p),u[p]=t[p]}),c.length)for(var i=1;i<e.length;i++){let p=e[i];c.forEach(function(y){p[y]=IO(n,y)})}}return e}(e,t=t.map(F=>Rh(F,!1)),b);const M=function yB(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=CM(e[0]),e.length>1&&(r=CM(e[e.length-1]))):e&&(t=CM(e)),t||r?new _B(n,t,r):null}(e,t);return new UO(e,t,y,M)}}let wB=(()=>{class n extends Vf{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?pv(t):t;return jO(this._renderer,null,r,"register",[i]),new bB(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(re))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class bB extends class Lw{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new DB(this._id,e,t||{},this._renderer)}}class DB{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return jO(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function jO(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const $O="@.disabled";let CB=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(u,c)=>{const p=null==c?void 0:c.parentNode(u);p&&c.removeChild(p,u)}}createRenderer(t,r){const u=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let S=this._rendererCache.get(u);return S||(S=new HO("",u,this.engine),this._rendererCache.set(u,S)),S}const c=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,t);const y=S=>{Array.isArray(S)?S.forEach(y):this.engine.registerTrigger(c,p,t,S.name,S)};return r.data.animation.forEach(y),new IB(this,p,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[c,p]=u;c(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(vC),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class HO{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==$O?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class IB extends HO{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==$O?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function TB(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let u=t.substr(1),c="";return"@"!=u.charAt(0)&&([u,c]=function AB(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,i,u,c,p=>{this.factory.scheduleListenerCallback(p._data||-1,r,p)})}return this.delegate.listen(e,t,r)}}let SB=(()=>{class n extends vC{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(re),f.LFG(aM),f.LFG(_M))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const GO=new f.OlP("AnimationModuleType"),qO=[{provide:Vf,useClass:wB},{provide:_M,useFactory:function MB(){return new WV}},{provide:vC,useClass:SB},{provide:f.FYo,useFactory:function xB(n,e,t){return new CB(n,e,t)},deps:[wn,vC,f.R0b]}],zO=[{provide:aM,useFactory:()=>new EB},{provide:GO,useValue:"BrowserAnimations"},...qO],RB=[{provide:aM,useClass:_O},{provide:GO,useValue:"NoopAnimations"},...qO];let NB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?RB:zO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:zO,imports:[_o]}),n})();const WO_firebase={projectId:"todoapp-36d5d",appId:"1:760172319480:web:92da5771ed44ba6844210d",storageBucket:"todoapp-36d5d.appspot.com",locationId:"europe-west",apiKey:"AIzaSyB7lawDA7paBj5OpcY42BYicXSPSVQifqE",authDomain:"todoapp-36d5d.firebaseapp.com",messagingSenderId:"760172319480",measurementId:"G-60X20TR04J"};let OB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[aO]}),n.\u0275inj=f.cJS({providers:[Ph],imports:[[Dr,_o,uw]]}),n})(),kB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[],imports:[[Dr]]}),n})(),KO=(()=>{class n{constructor(t){this._client=t}getAll(t){return this._client.collection("image").valueChanges({idField:"id"}).pipe((0,kt.U)(r=>oO(r,t)))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(eM))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),PB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[KO,{provide:uO,useExisting:KO}],imports:[[sO]]}),n})(),FB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[PL]}),n.\u0275inj=f.cJS({providers:[],imports:[[_o,NL,NB,OB,oo.hO.initializeApp(WO_firebase),kB,PB,fv.forRoot()]]}),n})();(0,f.G48)(),Sl().bootstrapModule(FB).catch(n=>console.error(n))},5867:(lt,Ae,k)=>{k.d(Ae,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=k(9681);(0,f.registerVersion)("firebase","9.6.10","app")},127:(lt,Ae,k)=>{k.d(Ae,{Z:()=>f.Z});var f=k(3942);f.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(lt,Ae,k)=>{k.r(Ae);var f=k(5861),Y=k(3942),O=k(2090),ue=k(9681),X=k(655),ge=k(1877),re=k(4859);const Pe=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nt=new ge.Yd("@firebase/auth");function Ye(_,...h){nt.logLevel<=ge.in.ERROR&&nt.error(`Auth (${ue.SDK_VERSION}): ${_}`,...h)}function Ie(_,...h){throw $e(_,...h)}function _e(_,...h){return $e(_,...h)}function Ee(_,h,m){const E=Object.assign(Object.assign({},Ve()),{[h]:m});return new O.LL("auth","Firebase",E).create(h,{appName:_.name})}function Ge(_,h,m){if(!(h instanceof m))throw m.name!==h.constructor.name&&Ie(_,"argument-error"),Ee(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(_,...h){if("string"!=typeof _){const m=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(m,...E)}return fe.create(_,...h)}function te(_,h,...m){if(!_)throw $e(h,...m)}function W(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Ye(h),new Error(h)}function ie(_,h){_||W(h)}const me=new Map;function se(_){ie(_ instanceof Function,"Expected a class definition");let h=me.get(_);return h?(ie(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,me.set(_,h),h)}function Tt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Xt(){return"http:"===Nn()||"https:"===Nn()}function Nn(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class cn{constructor(h,m){this.shortDelay=h,this.longDelay=m,ie(m>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ct(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dn(_,h){ie(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return h?`${m}${h.startsWith("/")?h.slice(1):h}`:m}class Mi{static initialize(h,m,E){this.fetchImpl=h,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const on={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},us=new cn(3e4,6e4);function en(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function zt(_,h,m,E){return dr.apply(this,arguments)}function dr(){return(dr=(0,f.Z)(function*(_,h,m,E,T={}){return ri(_,T,(0,f.Z)(function*(){let N={},z={};E&&("GET"===h?z=E:N={body:JSON.stringify(E)});const oe=(0,O.xO)(Object.assign({key:_.config.apiKey},z)).slice(1),Ue=yield _._getAdditionalHeaders();return Ue["Content-Type"]="application/json",_.languageCode&&(Ue["X-Firebase-Locale"]=_.languageCode),Mi.fetch()(kr(_,_.config.apiHost,m,oe),Object.assign({method:h,headers:Ue,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function ri(_,h,m){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,f.Z)(function*(_,h,m){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},on),h);try{const T=new ls(_),N=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const z=yield N.json();if("needConfirmation"in z)throw cs(_,"account-exists-with-different-credential",z);if(N.ok&&!("errorMessage"in z))return z;{const oe=N.ok?z.errorMessage:z.error.message,[Ue,et]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw cs(_,"credential-already-in-use",z);if("EMAIL_EXISTS"===Ue)throw cs(_,"email-already-in-use",z);const wt=E[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(et)throw Ee(_,wt,et);Ie(_,wt)}}catch(T){if(T instanceof O.ZR)throw T;Ie(_,"network-request-failed")}})).apply(this,arguments)}function Or(_,h,m,E){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,f.Z)(function*(_,h,m,E,T={}){const N=yield zt(_,h,m,E,T);return"mfaPendingCredential"in N&&Ie(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function kr(_,h,m,E){const T=`${h}${m}?${E}`;return _.config.emulator?dn(_.config,T):`${_.config.apiScheme}://${T}`}class ls{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(_e(this.auth,"network-request-failed")),us.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cs(_,h,m){const E={appName:_.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const T=_e(_,h,E);return T.customData._tokenResponse=m,T}function Wr(){return(Wr=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function rr(_,h){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ii(_,h){return co.apply(this,arguments)}function co(){return(co=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function En(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function Ca(){return(Ca=(0,f.Z)(function*(_,h=!1){const m=(0,O.m9)(_),E=yield m.getIdToken(h),T=at(E);te(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const N="object"==typeof T.firebase?T.firebase:void 0,z=null==N?void 0:N.sign_in_provider;return{claims:T,token:E,authTime:En(Wt(T.auth_time)),issuedAtTime:En(Wt(T.iat)),expirationTime:En(Wt(T.exp)),signInProvider:z||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Wt(_){return 1e3*Number(_)}function at(_){const[h,m,E]=_.split(".");if(void 0===h||void 0===m||void 0===E)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(m);return T?JSON.parse(T):(Ye("Failed to decode base64 JWT payload"),null)}catch(T){return Ye("Caught error parsing JWT payload as JSON",T),null}}function hr(_,h){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,f.Z)(function*(_,h,m=!1){if(m)return h;try{return yield h}catch(E){throw E instanceof O.ZR&&Ht(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function Ht({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class ho{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var m;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield m.iteration()}),E)}iteration(){var h=this;return(0,f.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&h.schedule(!0))}h.schedule()})()}}class Er{constructor(h,m){this.createdAt=h,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fr(_){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(_){var h;const m=_.auth,E=yield _.getIdToken(),T=yield hr(_,ii(m,{idToken:E}));te(null==T?void 0:T.users.length,m,"internal-error");const N=T.users[0];_._notifyReloadListener(N);const z=(null===(h=N.providerUserInfo)||void 0===h?void 0:h.length)?Te(N.providerUserInfo):[],oe=Qe(_.providerData,z),wt=!!_.isAnonymous&&!(_.email&&N.passwordHash||(null==oe?void 0:oe.length)),ut={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:oe,metadata:new Er(N.createdAt,N.lastLoginAt),isAnonymous:wt};Object.assign(_,ut)})).apply(this,arguments)}function Ut(){return(Ut=(0,f.Z)(function*(_){const h=(0,O.m9)(_);yield fr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Qe(_,h){return[..._.filter(E=>!h.some(T=>T.providerId===E.providerId)),...h]}function Te(_){return _.map(h=>{var{providerId:m}=h,E=(0,X._T)(h,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function pt(){return(pt=(0,f.Z)(function*(_,h){const m=yield ri(_,{},(0,f.Z)(function*(){const E=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:N}=_.config,z=kr(_,T,"/v1/token",`key=${N}`),oe=yield _._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",Mi.fetch()(z,{method:"POST",headers:oe,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){te(h.idToken,"internal-error"),te(void 0!==h.idToken,"internal-error"),te(void 0!==h.refreshToken,"internal-error");const m="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function Dt(_){const h=at(_);return te(h,"internal-error"),te(void 0!==h.exp,"internal-error"),te(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,m)}getToken(h,m=!1){var E=this;return(0,f.Z)(function*(){return te(!E.accessToken||E.refreshToken,h,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,m){var E=this;return(0,f.Z)(function*(){const{accessToken:T,refreshToken:N,expiresIn:z}=yield function Xe(_,h){return pt.apply(this,arguments)}(h,m);E.updateTokensAndExpiration(T,N,Number(z))})()}updateTokensAndExpiration(h,m,E){this.refreshToken=m||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,m){const{refreshToken:E,accessToken:T,expirationTime:N}=m,z=new jt;return E&&(te("string"==typeof E,"internal-error",{appName:h}),z.refreshToken=E),T&&(te("string"==typeof T,"internal-error",{appName:h}),z.accessToken=T),N&&(te("number"==typeof N,"internal-error",{appName:h}),z.expirationTime=N),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new jt,this.toJSON())}_performRefresh(){return W("not implemented")}}function Vt(_,h){te("string"==typeof _||void 0===_,"internal-error",{appName:h})}class j{constructor(h){var{uid:m,auth:E,stsTokenManager:T}=h,N=(0,X._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ho(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Er(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(h){var m=this;return(0,f.Z)(function*(){const E=yield hr(m,m.stsTokenManager.getToken(m.auth,h));return te(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(h){return function Os(_){return Ca.apply(this,arguments)}(this,h)}reload(){return function wr(_){return Ut.apply(this,arguments)}(this)}_assign(h){this!==h&&(te(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(m=>Object.assign({},m)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new j(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,m=!1){var E=this;return(0,f.Z)(function*(){let T=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),T=!0),m&&(yield fr(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,f.Z)(function*(){const m=yield h.getIdToken();return yield hr(h,function ht(_,h){return Wr.apply(this,arguments)}(h.auth,{idToken:m})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,m){var E,T,N,z,oe,Ue,et,wt;const ut=null!==(E=m.displayName)&&void 0!==E?E:void 0,xn=null!==(T=m.email)&&void 0!==T?T:void 0,ss=null!==(N=m.phoneNumber)&&void 0!==N?N:void 0,ac=null!==(z=m.photoURL)&&void 0!==z?z:void 0,ju=null!==(oe=m.tenantId)&&void 0!==oe?oe:void 0,$u=null!==(Ue=m._redirectEventId)&&void 0!==Ue?Ue:void 0,ff=null!==(et=m.createdAt)&&void 0!==et?et:void 0,c_=null!==(wt=m.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:la,emailVerified:Ed,isAnonymous:wd,providerData:pf,stsTokenManager:bd}=m;te(la&&bd,h,"internal-error");const $i=jt.fromJSON(this.name,bd);te("string"==typeof la,h,"internal-error"),Vt(ut,h.name),Vt(xn,h.name),te("boolean"==typeof Ed,h,"internal-error"),te("boolean"==typeof wd,h,"internal-error"),Vt(ss,h.name),Vt(ac,h.name),Vt(ju,h.name),Vt($u,h.name),Vt(ff,h.name),Vt(c_,h.name);const gf=new j({uid:la,auth:h,email:xn,emailVerified:Ed,displayName:ut,isAnonymous:wd,photoURL:ac,phoneNumber:ss,tenantId:ju,stsTokenManager:$i,createdAt:ff,lastLoginAt:c_});return pf&&Array.isArray(pf)&&(gf.providerData=pf.map(vg=>Object.assign({},vg))),$u&&(gf._redirectEventId=$u),gf}static _fromIdTokenResponse(h,m,E=!1){return(0,f.Z)(function*(){const T=new jt;T.updateFromServerResponse(m);const N=new j({uid:m.localId,auth:h,stsTokenManager:T,isAnonymous:E});return yield fr(N),N})()}}const q=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(m,E){var T=this;return(0,f.Z)(function*(){T.storage[m]=E})()}_get(m){var E=this;return(0,f.Z)(function*(){const T=E.storage[m];return void 0===T?null:T})()}_remove(m){var E=this;return(0,f.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return _.type="NONE",_})();function de(_,h,m){return`firebase:${_}:${h}:${m}`}class Q{constructor(h,m,E){this.persistence=h,this.auth=m,this.userKey=E;const{config:T,name:N}=this.auth;this.fullUserKey=de(this.userKey,T.apiKey,N),this.fullPersistenceKey=de("persistence",T.apiKey,N),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const m=yield h.persistence._get(h.fullUserKey);return m?j._fromJSON(h.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var m=this;return(0,f.Z)(function*(){if(m.persistence===h)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=h,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,m,E="authUser"){return(0,f.Z)(function*(){if(!m.length)return new Q(se(q),h,E);const T=(yield Promise.all(m.map(function(){var et=(0,f.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return et.apply(this,arguments)}}()))).filter(et=>et);let N=T[0]||se(q);const z=de(E,h.config.apiKey,h.name);let oe=null;for(const et of m)try{const wt=yield et._get(z);if(wt){const ut=j._fromJSON(h,wt);et!==N&&(oe=ut),N=et;break}}catch(wt){}const Ue=T.filter(et=>et._shouldAllowMigration);return N._shouldAllowMigration&&Ue.length?(N=Ue[0],oe&&(yield N._set(z,oe.toJSON())),yield Promise.all(m.map(function(){var et=(0,f.Z)(function*(wt){if(wt!==N)try{yield wt._remove(z)}catch(ut){}});return function(wt){return et.apply(this,arguments)}}())),new Q(N,h,E)):new Q(N,h,E)})()}}function Be(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Kt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Et(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ot(h))return"Blackberry";if(pn(h))return"Webos";if(Yt(h))return"Safari";if((h.includes("chrome/")||br(h))&&!h.includes("edge/"))return"Chrome";if(Tn(h))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Et(_=(0,O.z$)()){return/firefox\//i.test(_)}function Yt(_=(0,O.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function br(_=(0,O.z$)()){return/crios\//i.test(_)}function Kt(_=(0,O.z$)()){return/iemobile/i.test(_)}function Tn(_=(0,O.z$)()){return/android/i.test(_)}function Ot(_=(0,O.z$)()){return/blackberry/i.test(_)}function pn(_=(0,O.z$)()){return/webos/i.test(_)}function sr(_=(0,O.z$)()){return/iphone|ipad|ipod/i.test(_)}function ds(_=(0,O.z$)()){return sr(_)||Tn(_)||pn(_)||Ot(_)||/windows phone/i.test(_)||Kt(_)}function Ta(_,h=[]){let m;switch(_){case"Browser":m=Be((0,O.z$)());break;case"Worker":m=`${Be((0,O.z$)())}-${_}`;break;default:m=_}const E=h.length?h.join(","):"FirebaseCore-web";return`${m}/JsCore/${ue.SDK_VERSION}/${E}`}class si{constructor(h,m,E){this.app=h,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ft(this),this.idTokenSubscription=new Ft(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(h,m){var E=this;return m&&(this._popupRedirectResolver=se(m)),this._initializationPromise=this.queue((0,f.Z)(function*(){var T,N;if(!E._deleted&&(E.persistenceManager=yield Q.create(E,h),!E._deleted)){if(null===(T=E._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(z){}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const m=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||m){if(h.currentUser&&m&&h.currentUser.uid===m.uid)return h._currentUser._assign(m),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(m)}})()}initializeCurrentUser(h){var m=this;return(0,f.Z)(function*(){var E;let T=yield m.assertedPersistence.getCurrentUser();if(h&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const N=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,z=null==T?void 0:T._redirectEventId,oe=yield m.tryRedirectSignIn(h);(!N||N===z)&&(null==oe?void 0:oe.user)&&(T=oe.user)}return T?T._redirectEventId?(te(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===T._redirectEventId?m.directlySetCurrentUser(T):m.reloadAndSetCurrentUserOrClear(T)):m.reloadAndSetCurrentUserOrClear(T):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var m=this;return(0,f.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,h,!0)}catch(T){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var m=this;return(0,f.Z)(function*(){try{yield fr(h)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function vt(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var m=this;return(0,f.Z)(function*(){const E=h?(0,O.m9)(h):null;return E&&te(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(h){var m=this;return(0,f.Z)(function*(){if(!m._deleted)return h&&te(m.tenantId===h.tenantId,m,"tenant-id-mismatch"),m.queue((0,f.Z)(function*(){yield m.directlySetCurrentUser(h),m.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var m=this;return this.queue((0,f.Z)(function*(){yield m.assertedPersistence.setPersistence(se(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new O.LL("auth","Firebase",h())}onAuthStateChanged(h,m,E){return this.registerStateListener(this.authStateSubscription,h,m,E)}onIdTokenChanged(h,m,E){return this.registerStateListener(this.idTokenSubscription,h,m,E)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,m){var E=this;return(0,f.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(m);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var m=this;return(0,f.Z)(function*(){if(!m.redirectPersistenceManager){const E=h&&se(h)||m._popupRedirectResolver;te(E,m,"argument-error"),m.redirectPersistenceManager=yield Q.create(m,[se(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(h){var m=this;return(0,f.Z)(function*(){var E,T;return m._isInitialized&&(yield m.queue((0,f.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===h?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?m.redirectUser:null})()}_persistUserIfCurrent(h){var m=this;return(0,f.Z)(function*(){if(h===m.currentUser)return m.queue((0,f.Z)(function*(){return m.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,m,E,T){if(this._deleted)return()=>{};const N="function"==typeof m?m:m.next.bind(m),z=this._isInitialized?Promise.resolve():this._initializationPromise;return te(z,this,"internal-error"),z.then(()=>N(this.currentUser)),"function"==typeof m?h.addObserver(m,E,T):h.addObserver(m)}directlySetCurrentUser(h){var m=this;return(0,f.Z)(function*(){m.currentUser&&m.currentUser!==h&&(m._currentUser._stopProactiveRefresh(),h&&m.isProactiveRefreshEnabled&&h._startProactiveRefresh()),m.currentUser=h,h?yield m.assertedPersistence.setCurrentUser(h):yield m.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ta(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){var m;const E={"X-Client-Version":h.clientVersion};h.app.options.appId&&(E["X-Firebase-gmpid"]=h.app.options.appId);const T=yield null===(m=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(E["X-Firebase-Client"]=T),E})()}}function Fe(_){return(0,O.m9)(_)}class Ft{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pr(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function jn(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class an{constructor(h,m){this.providerId=h,this.signInMethod=m}toJSON(){return W("not implemented")}_getIdTokenResponse(h){return W("not implemented")}_linkToIdToken(h,m){return W("not implemented")}_getReauthenticationResolver(h){return W("not implemented")}}function On(_,h){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:resetPassword",en(_,h))})).apply(this,arguments)}function xt(_,h){return Go.apply(this,arguments)}function Go(){return(Go=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function hs(_,h){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:update",en(_,h))})).apply(this,arguments)}function or(){return(or=(0,f.Z)(function*(_,h){return Or(_,"POST","/v1/accounts:signInWithPassword",en(_,h))})).apply(this,arguments)}function fs(_,h){return ps.apply(this,arguments)}function ps(){return(ps=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:sendOobCode",en(_,h))})).apply(this,arguments)}function xi(_,h){return un.apply(this,arguments)}function un(){return(un=(0,f.Z)(function*(_,h){return fs(_,h)})).apply(this,arguments)}function cu(_,h){return du.apply(this,arguments)}function du(){return(du=(0,f.Z)(function*(_,h){return fs(_,h)})).apply(this,arguments)}function Ri(_,h){return oi.apply(this,arguments)}function oi(){return(oi=(0,f.Z)(function*(_,h){return fs(_,h)})).apply(this,arguments)}function Vc(_,h){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,f.Z)(function*(_,h){return fs(_,h)})).apply(this,arguments)}function Kr(){return(Kr=(0,f.Z)(function*(_,h){return Or(_,"POST","/v1/accounts:signInWithEmailLink",en(_,h))})).apply(this,arguments)}function Bc(){return(Bc=(0,f.Z)(function*(_,h){return Or(_,"POST","/v1/accounts:signInWithEmailLink",en(_,h))})).apply(this,arguments)}class fu extends an{constructor(h,m,E,T=null){super("password",E),this._email=h,this._password=m,this._tenantId=T}static _fromEmailAndPassword(h,m){return new fu(h,m,"password")}static _fromEmailAndCode(h,m,E=null){return new fu(h,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(h){var m=this;return(0,f.Z)(function*(){switch(m.signInMethod){case"password":return function Fs(_,h){return or.apply(this,arguments)}(h,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function hu(_,h){return Kr.apply(this,arguments)}(h,{email:m._email,oobCode:m._password});default:Ie(h,"internal-error")}})()}_linkToIdToken(h,m){var E=this;return(0,f.Z)(function*(){switch(E.signInMethod){case"password":return xt(h,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function kh(_,h){return Bc.apply(this,arguments)}(h,{idToken:m,email:E._email,oobCode:E._password});default:Ie(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function $n(_,h){return Uc.apply(this,arguments)}function Uc(){return(Uc=(0,f.Z)(function*(_,h){return Or(_,"POST","/v1/accounts:signInWithIdp",en(_,h))})).apply(this,arguments)}class gs extends an{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const m=new gs(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(m.idToken=h.idToken),h.accessToken&&(m.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(m.nonce=h.nonce),h.pendingToken&&(m.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(m.accessToken=h.oauthToken,m.secret=h.oauthTokenSecret):Ie("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:T}=m,N=(0,X._T)(m,["providerId","signInMethod"]);if(!E||!T)return null;const z=new gs(E,T);return z.idToken=N.idToken||void 0,z.accessToken=N.accessToken||void 0,z.secret=N.secret,z.nonce=N.nonce,z.pendingToken=N.pendingToken||null,z}_getIdTokenResponse(h){return $n(h,this.buildRequest())}_linkToIdToken(h,m){const E=this.buildRequest();return E.idToken=m,$n(h,E)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,$n(h,m)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),h.postBody=(0,O.xO)(m)}return h}}function Kp(_,h){return pu.apply(this,arguments)}function pu(){return(pu=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:sendVerificationCode",en(_,h))})).apply(this,arguments)}function Vs(){return(Vs=(0,f.Z)(function*(_,h){return Or(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,h))})).apply(this,arguments)}function jc(){return(jc=(0,f.Z)(function*(_,h){const m=yield Or(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,h));if(m.temporaryProof)throw cs(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Yp={USER_NOT_FOUND:"user-not-found"};function $c(){return($c=(0,f.Z)(function*(_,h){return Or(_,"POST","/v1/accounts:signInWithPhoneNumber",en(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Yp)})).apply(this,arguments)}class qo extends an{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,m){return new qo({verificationId:h,verificationCode:m})}static _fromTokenResponse(h,m){return new qo({phoneNumber:h,temporaryProof:m})}_getIdTokenResponse(h){return function _l(_,h){return Vs.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,m){return function Zp(_,h){return jc.apply(this,arguments)}(h,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Ph(_,h){return $c.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:m,verificationId:E,verificationCode:T}=this.params;return h&&m?{temporaryProof:h,phoneNumber:m}:{sessionInfo:E,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:N}=h;return E||m||T||N?new qo({verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:N}):null}}class po{constructor(h){var m,E,T,N,z,oe;const Ue=(0,O.zd)((0,O.pd)(h)),et=null!==(m=Ue.apiKey)&&void 0!==m?m:null,wt=null!==(E=Ue.oobCode)&&void 0!==E?E:null,ut=function Py(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ue.mode)&&void 0!==T?T:null);te(et&&wt&&ut,"argument-error"),this.apiKey=et,this.operation=ut,this.code=wt,this.continueUrl=null!==(N=Ue.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(z=Ue.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(oe=Ue.tenantId)&&void 0!==oe?oe:null}static parseLink(h){const m=function gu(_){const h=(0,O.zd)((0,O.pd)(_)).link,m=h?(0,O.zd)((0,O.pd)(h)).deep_link_id:null,E=(0,O.zd)((0,O.pd)(_)).deep_link_id;return(E?(0,O.zd)((0,O.pd)(E)).link:null)||E||m||h||_}(h);try{return new po(m)}catch(E){return null}}}let vl=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,E){return fu._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const T=po.parseLink(E);return te(T,"argument-error"),fu._fromEmailAndCode(m,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Bs{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Zr extends Bs{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class zo extends Zr{static credentialFromJSON(h){const m="string"==typeof h?JSON.parse(h):h;return te("providerId"in m&&"signInMethod"in m,"argument-error"),gs._fromParams(m)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return te(h.idToken||h.accessToken,"argument-error"),gs._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return zo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return zo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:N,nonce:z,providerId:oe}=h;if(!E&&!T&&!m&&!N||!oe)return null;try{return new zo(oe)._credential({idToken:m,accessToken:E,nonce:z,pendingToken:N})}catch(Ue){return null}}}let go=(()=>{class _ extends Zr{constructor(){super("facebook.com")}static credential(m){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Sa=(()=>{class _ extends Zr{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:T}=m;if(!E&&!T)return null;try{return _.credential(E,T)}catch(N){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Hc=(()=>{class _ extends Zr{constructor(){super("github.com")}static credential(m){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Dr extends an{constructor(h,m){super(h,h),this.pendingToken=m}_getIdTokenResponse(h){return $n(h,this.buildRequest())}_linkToIdToken(h,m){const E=this.buildRequest();return E.idToken=m,$n(h,E)}_getReauthenticationResolver(h){const m=this.buildRequest();return m.autoCreate=!1,$n(h,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const m="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:T,pendingToken:N}=m;return E&&T&&N&&E===T?new Dr(E,N):null}static _create(h,m){return new Dr(h,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ai extends Bs{constructor(h){te(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ai.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ai.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const m=Dr.fromJSON(h);return te(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:m,providerId:E}=h;if(!m||!E)return null;try{return Dr._create(E,m)}catch(T){return null}}}let mu=(()=>{class _ extends Zr{constructor(){super("twitter.com")}static credential(m,E){return gs._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=m;if(!E||!T)return null;try{return _.credential(E,T)}catch(N){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function yu(_,h){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(_,h){return Or(_,"POST","/v1/accounts:signUp",en(_,h))})).apply(this,arguments)}class gr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,m,E,T=!1){return(0,f.Z)(function*(){const N=yield j._fromIdTokenResponse(h,E,T),z=Lh(E);return new gr({user:N,providerId:z,_tokenResponse:E,operationType:m})})()}static _forOperation(h,m,E){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(E,!0);const T=Lh(E);return new gr({user:h,providerId:T,_tokenResponse:E,operationType:m})})()}}function Lh(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Gc(){return(Gc=(0,f.Z)(function*(_){var h;const m=Fe(_);if(yield m._initializationPromise,null===(h=m.currentUser)||void 0===h?void 0:h.isAnonymous)return new gr({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield yu(m,{returnSecureToken:!0}),T=yield gr._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class vu extends O.ZR{constructor(h,m,E,T){var N;super(m.code,m.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,vu.prototype),this.customData={appName:h.name,tenantId:null!==(N=h.tenantId)&&void 0!==N?N:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(h,m,E,T){return new vu(h,m,E,T)}}function Eu(_,h,m,E){return("reauthenticate"===h?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?vu._fromErrorAndOperation(_,N,h,E):N})}function ms(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function El(){return(El=(0,f.Z)(function*(_,h){const m=(0,O.m9)(_);yield js(!0,m,h);const{providerUserInfo:E}=yield rr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[h]}),T=ms(E||[]);return m.providerData=m.providerData.filter(N=>T.has(N.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function yn(_,h){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,f.Z)(function*(_,h,m=!1){const E=yield hr(_,h._linkToIdToken(_.auth,yield _.getIdToken()),m);return gr._forOperation(_,"link",E)})).apply(this,arguments)}function js(_,h,m){return ln.apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(_,h,m){yield fr(h);const T=!1===_?"provider-already-linked":"no-such-provider";te(ms(h.providerData).has(m)===_,h.auth,T)})).apply(this,arguments)}function qc(_,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,f.Z)(function*(_,h,m=!1){const{auth:E}=_,T="reauthenticate";try{const N=yield hr(_,Eu(E,T,h,_),m);te(N.idToken,E,"internal-error");const z=at(N.idToken);te(z,E,"internal-error");const{sub:oe}=z;return te(_.uid===oe,E,"user-mismatch"),gr._forOperation(_,T,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&Ie(E,"user-mismatch"),N}})).apply(this,arguments)}function yo(_,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,f.Z)(function*(_,h,m=!1){const E="signIn",T=yield Eu(_,E,h),N=yield gr._fromIdTokenResponse(_,E,T);return m||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function kn(_,h){return xa.apply(this,arguments)}function xa(){return(xa=(0,f.Z)(function*(_,h){return yo(Fe(_),h)})).apply(this,arguments)}function Ni(_,h){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,f.Z)(function*(_,h){const m=(0,O.m9)(_);return yield js(!1,m,h.providerId),yn(m,h)})).apply(this,arguments)}function $s(_,h){return ys.apply(this,arguments)}function ys(){return(ys=(0,f.Z)(function*(_,h){return qc((0,O.m9)(_),h)})).apply(this,arguments)}function wu(_,h){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,f.Z)(function*(_,h){return Or(_,"POST","/v1/accounts:signInWithCustomToken",en(_,h))})).apply(this,arguments)}function Gs(){return(Gs=(0,f.Z)(function*(_,h){const m=Fe(_),E=yield wu(m,{token:h,returnSecureToken:!0}),T=yield gr._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class gt{constructor(h,m){this.factorId=h,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(h,m){return"phoneInfo"in m?bu._fromServerResponse(h,m):Ie(h,"internal-error")}}class bu extends gt{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,m){return new bu(m)}}function Ra(_,h,m){var E;te((null===(E=m.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),te(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=m.url,h.dynamicLinkDomain=m.dynamicLinkDomain,h.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(te(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=m.iOS.bundleId),m.android&&(te(m.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=m.android.installApp,h.androidMinimumVersionCode=m.android.minimumVersion,h.androidPackageName=m.android.packageName)}function Cu(){return(Cu=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),T={requestType:"PASSWORD_RESET",email:h};m&&Ra(E,T,m),yield cu(E,T)})).apply(this,arguments)}function wl(){return(wl=(0,f.Z)(function*(_,h,m){yield On((0,O.m9)(_),{oobCode:h,newPassword:m})})).apply(this,arguments)}function Ce(){return(Ce=(0,f.Z)(function*(_,h){yield hs((0,O.m9)(_),{oobCode:h})})).apply(this,arguments)}function Bt(_,h){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,f.Z)(function*(_,h){const m=(0,O.m9)(_),E=yield On(m,{oobCode:h}),T=E.requestType;switch(te(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(E.mfaInfo,m,"internal-error");default:te(E.email,m,"internal-error")}let N=null;return E.mfaInfo&&(N=gt._fromServerResponse(Fe(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:T}})).apply(this,arguments)}function Ko(){return(Ko=(0,f.Z)(function*(_,h){const{data:m}=yield Bt((0,O.m9)(_),h);return m.email})).apply(this,arguments)}function Qr(){return(Qr=(0,f.Z)(function*(_,h,m){const E=Fe(_),T=yield yu(E,{returnSecureToken:!0,email:h,password:m}),N=yield gr._fromIdTokenResponse(E,"signIn",T);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function zc(){return(zc=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),T={requestType:"EMAIL_SIGNIN",email:h};te(m.handleCodeInApp,E,"argument-error"),m&&Ra(E,T,m),yield Ri(E,T)})).apply(this,arguments)}function qs(){return(qs=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),T=vl.credentialWithLink(h,m||Tt());return te(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),kn(E,T)})).apply(this,arguments)}function mr(_,h){return ui.apply(this,arguments)}function ui(){return(ui=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:createAuthUri",en(_,h))})).apply(this,arguments)}function zs(){return(zs=(0,f.Z)(function*(_,h){const E={identifier:h,continueUri:Xt()?Tt():"http://localhost"},{signinMethods:T}=yield mr((0,O.m9)(_),E);return T||[]})).apply(this,arguments)}function Al(){return(Al=(0,f.Z)(function*(_,h){const m=(0,O.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&Ra(m.auth,T,h);const{email:N}=yield xi(m.auth,T);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function Mu(){return(Mu=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};m&&Ra(E.auth,N,m);const{email:z}=yield Vc(E.auth,N);z!==_.email&&(yield _.reload())})).apply(this,arguments)}function Sl(_,h){return Na.apply(this,arguments)}function Na(){return(Na=(0,f.Z)(function*(_,h){return zt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ml(){return(Ml=(0,f.Z)(function*(_,{displayName:h,photoURL:m}){if(void 0===h&&void 0===m)return;const E=(0,O.m9)(_),N={idToken:yield E.getIdToken(),displayName:h,photoUrl:m,returnSecureToken:!0},z=yield hr(E,Sl(E.auth,N));E.displayName=z.displayName||null,E.photoURL=z.photoUrl||null;const oe=E.providerData.find(({providerId:Ue})=>"password"===Ue);oe&&(oe.displayName=E.displayName,oe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(z)})).apply(this,arguments)}function Rl(_,h,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,f.Z)(function*(_,h,m){const{auth:E}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(N.email=h),m&&(N.password=m);const z=yield hr(_,xt(E,N));yield _._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Eo{constructor(h,m,E={}){this.isNewUser=h,this.providerId=m,this.profile=E}}class Zc extends Eo{constructor(h,m,E,T){super(h,m,E),this.username=T}}class Yc extends Eo{constructor(h,m){super(h,"facebook.com",m)}}class wo extends Zc{constructor(h,m){super(h,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Ws extends Eo{constructor(h,m){super(h,"google.com",m)}}class Nl extends Zc{constructor(h,m,E){super(h,"twitter.com",m,E)}}function Ar(_){const{user:h,_tokenResponse:m}=_;return h.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Kc(_){var h,m;if(!_)return null;const{providerId:E}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const z=null===(m=null===(h=at(_.idToken))||void 0===h?void 0:h.firebase)||void 0===m?void 0:m.sign_in_provider;if(z)return new Eo(N,"anonymous"!==z&&"custom"!==z?z:null)}if(!E)return null;switch(E){case"facebook.com":return new Yc(N,T);case"github.com":return new wo(N,T);case"google.com":return new Ws(N,T);case"twitter.com":return new Nl(N,T,_.screenName||null);case"custom":case"anonymous":return new Eo(N,null);default:return new Eo(N,E,T)}}(m)}class _s{constructor(h,m){this.type=h,this.credential=m}static _fromIdtoken(h){return new _s("enroll",h)}static _fromMfaPendingCredential(h){return new _s("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var m,E;if(null==h?void 0:h.multiFactorSession){if(null===(m=h.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return _s._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(E=h.multiFactorSession)||void 0===E?void 0:E.idToken)return _s._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Oa{constructor(h,m,E){this.session=h,this.hints=m,this.signInResolver=E}static _fromError(h,m){const E=Fe(h),T=m.customData._serverResponse,N=(T.mfaInfo||[]).map(oe=>gt._fromServerResponse(E,oe));te(T.mfaPendingCredential,E,"internal-error");const z=_s._fromMfaPendingCredential(T.mfaPendingCredential);return new Oa(z,N,function(){var oe=(0,f.Z)(function*(Ue){const et=yield Ue._process(E,z);delete T.mfaInfo,delete T.mfaPendingCredential;const wt=Object.assign(Object.assign({},T),{idToken:et.idToken,refreshToken:et.refreshToken});switch(m.operationType){case"signIn":const ut=yield gr._fromIdTokenResponse(E,m.operationType,wt);return yield E._updateCurrentUser(ut.user),ut;case"reauthenticate":return te(m.user,E,"internal-error"),gr._forOperation(m.user,m.operationType,wt);default:Ie(E,"internal-error")}});return function(Ue){return oe.apply(this,arguments)}}())}resolveSignIn(h){var m=this;return(0,f.Z)(function*(){return m.signInResolver(h)})()}}function Hn(_,h){return zt(_,"POST","/v2/accounts/mfaEnrollment:start",en(_,h))}class vs{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>gt._fromServerResponse(h.auth,E)))})}static _fromUser(h){return new vs(h)}getSession(){var h=this;return(0,f.Z)(function*(){return _s._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,m){var E=this;return(0,f.Z)(function*(){const T=h,N=yield E.getSession(),z=yield hr(E.user,T._process(E.user.auth,N,m));return yield E.user._updateTokensIfNecessary(z),E.user.reload()})()}unenroll(h){var m=this;return(0,f.Z)(function*(){const E="string"==typeof h?h:h.uid,T=yield m.user.getIdToken(),N=yield hr(m.user,function Jp(_,h){return zt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",en(_,h))}(m.user.auth,{idToken:T,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:z})=>z!==E),yield m.user._updateTokensIfNecessary(N);try{yield m.user.reload()}catch(z){if("auth/user-token-expired"!==z.code)throw z}})()}}const Yo=new WeakMap,Pl="__sak";class bo{constructor(h,m){this.storageRetriever=h,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Pl,"1"),this.storage.removeItem(Pl),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,m){return this.storage.setItem(h,JSON.stringify(m)),Promise.resolve()}_get(h){const m=this.storage.getItem(h);return Promise.resolve(m?JSON.parse(m):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fn=(()=>{class _ extends bo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ed(){const _=(0,O.z$)();return Yt(_)||sr(_)}()&&function Jn(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ds(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),N=this.localCache[E];T!==N&&m(E,N,T)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((oe,Ue,et)=>{this.notifyListeners(oe,et)});const T=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const oe=this.storage.getItem(T);if(m.newValue!==oe)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!E)return}const N=()=>{const oe=this.storage.getItem(T);!E&&this.localCache[T]===oe||this.notifyListeners(T,oe)},z=this.storage.getItem(T);!function Ia(){return(0,O.w1)()&&10===document.documentMode}()||z===m.newValue||m.newValue===m.oldValue?N():setTimeout(N,10)}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var T=()=>super._set,N=this;return(0,f.Z)(function*(){yield T().call(N,m,E),N.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,T=this;return(0,f.Z)(function*(){const N=yield E().call(T,m);return T.localCache[m]=JSON.stringify(N),N})()}_remove(m){var E=()=>super._remove,T=this;return(0,f.Z)(function*(){yield E().call(T,m),delete T.localCache[m]})()}}return _.type="LOCAL",_})(),ar=(()=>{class _ extends bo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return _.type="SESSION",_})();let Pr=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(N=>N.isListeningto(m));if(E)return E;const T=new _(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,f.Z)(function*(){const T=m,{eventId:N,eventType:z,data:oe}=T.data,Ue=E.handlersMap[z];if(!(null==Ue?void 0:Ue.size))return;T.ports[0].postMessage({status:"ack",eventId:N,eventType:z});const et=Array.from(Ue).map(function(){var ut=(0,f.Z)(function*(xn){return xn(T.origin,oe)});return function(xn){return ut.apply(this,arguments)}}()),wt=yield function Jr(_){return Promise.all(_.map(function(){var h=(0,f.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return h.apply(this,arguments)}}()))}(et);T.ports[0].postMessage({status:"done",eventId:N,eventType:z,response:wt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Qo(_="",h=10){let m="";for(let E=0;E<h;E++)m+=Math.floor(10*Math.random());return _+m}class td{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,m,E=50){var T=this;return(0,f.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let z,oe;return new Promise((Ue,et)=>{const wt=Qo("",20);N.port1.start();const ut=setTimeout(()=>{et(new Error("unsupported_event"))},E);oe={messageChannel:N,onMessage(xn){const ss=xn;if(ss.data.eventId===wt)switch(ss.data.status){case"ack":clearTimeout(ut),z=setTimeout(()=>{et(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Ue(ss.data.response);break;default:clearTimeout(ut),clearTimeout(z),et(new Error("invalid_response"))}}},T.handlers.add(oe),N.port1.addEventListener("message",oe.onMessage),T.target.postMessage({eventType:h,eventId:wt,data:m},[N.port2])}).finally(()=>{oe&&T.removeMessageHandler(oe)})})()}}function mn(){return window}function ki(){return void 0!==mn().WorkerGlobalScope&&"function"==typeof mn().importScripts}function li(){return(li=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const Fl="firebaseLocalStorageDb",Do="firebaseLocalStorage",Gn="fbase_key";class Es{constructor(h){this.request=h}toPromise(){return new Promise((h,m)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Jo(_,h){return _.transaction([Do],h?"readwrite":"readonly").objectStore(Do)}function Zs(){const _=indexedDB.open(Fl,1);return new Promise((h,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(Do,{keyPath:Gn})}catch(T){m(T)}}),_.addEventListener("success",(0,f.Z)(function*(){const E=_.result;E.objectStoreNames.contains(Do)?h(E):(E.close(),yield function ci(){const _=indexedDB.deleteDatabase(Fl);return new Es(_).toPromise()}(),h(yield Zs()))}))})}function di(_,h,m){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,f.Z)(function*(_,h,m){const E=Jo(_,!0).put({[Gn]:h,value:m});return new Es(E).toPromise()})).apply(this,arguments)}function Ys(){return(Ys=(0,f.Z)(function*(_,h){const m=Jo(_,!1).get(h),E=yield new Es(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Ji(_,h){const m=Jo(_,!0).delete(h);return new Es(m).toPromise()}const Pi=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,f.Z)(function*(){return m.db||(m.db=yield Zs()),m.db})()}_withRetries(m){var E=this;return(0,f.Z)(function*(){let T=0;for(;;)try{const N=yield E._openDb();return yield m(N)}catch(N){if(T++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,f.Z)(function*(){return ki()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,f.Z)(function*(){m.receiver=Pr._getInstance(function nd(){return ki()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,f.Z)(function*(T,N){return{keyProcessed:(yield m._poll()).includes(N.key)}});return function(T,N){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,f.Z)(function*(T,N){return["keyChanged"]});return function(T,N){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,f.Z)(function*(){var E,T;if(m.activeServiceWorker=yield function Ru(){return li.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new td(m.activeServiceWorker);const N=yield m.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(T=N[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,f.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function kt(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Zs();return yield di(m,Pl,"1"),yield Ji(m,Pl),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,f.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var T=this;return(0,f.Z)(function*(){return T._withPendingWrite((0,f.Z)(function*(){return yield T._withRetries(N=>di(N,m,E)),T.localCache[m]=E,T.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,f.Z)(function*(){const T=yield E._withRetries(N=>function Vl(_,h){return Ys.apply(this,arguments)}(N,m));return E.localCache[m]=T,T})()}_remove(m){var E=this;return(0,f.Z)(function*(){return E._withPendingWrite((0,f.Z)(function*(){return yield E._withRetries(T=>Ji(T,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,f.Z)(function*(){const E=yield m._withRetries(z=>{const oe=Jo(z,!1).getAll();return new Es(oe).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const T=[],N=new Set;for(const{fbase_key:z,value:oe}of E)N.add(z),JSON.stringify(m.localCache[z])!==JSON.stringify(oe)&&(m.notifyListeners(z,oe),T.push(z));for(const z of Object.keys(m.localCache))m.localCache[z]&&!N.has(z)&&(m.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const N of Array.from(T))N(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function Xo(_,h){return zt(_,"POST","/v2/accounts/mfaSignIn:start",en(_,h))}function Fi(){return(Fi=(0,f.Z)(function*(_){return(yield zt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ln(_){return new Promise((h,m)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=h,E.onerror=T=>{const N=_e("internal-error");N.customData=T,m(N)},E.type="text/javascript",E.charset="UTF-8",function id(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(E)})}function Io(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Sr=1e12;class Xi{constructor(h){this.auth=h,this.counter=Sr,this._widgets=new Map}render(h,m){const E=this.counter;return this._widgets.set(E,new es(h,this.auth.name,m||{})),this.counter++,E}reset(h){var m;const E=h||Sr;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(h){var m;return(null===(m=this._widgets.get(h||Sr))||void 0===m?void 0:m.getResponse())||""}execute(h){var m=this;return(0,f.Z)(function*(){var E;return null===(E=m._widgets.get(h||Sr))||void 0===E||E.execute(),""})()}}class es{constructor(h,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;te(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cn(_){const h=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<_;E++)h.push(m.charAt(Math.floor(Math.random()*m.length)));return h.join("")}(50);const{callback:h,"expired-callback":m}=this.params;if(h)try{h(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qs=Io("rcb"),sd=new cn(3e4,6e4);class eg{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!mn().grecaptcha}load(h,m=""){return te(function tg(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),h,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(mn().grecaptcha):new Promise((E,T)=>{const N=mn().setTimeout(()=>{T(_e(h,"network-request-failed"))},sd.get());mn()[Qs]=()=>{mn().clearTimeout(N),delete mn()[Qs];const oe=mn().grecaptcha;if(!oe)return void T(_e(h,"internal-error"));const Ue=oe.render;oe.render=(et,wt)=>{const ut=Ue(et,wt);return this.counter++,ut},this.hostLanguage=m,E(oe)},Ln(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Qs,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(N),T(_e(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!mn().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ng{load(h){return(0,f.Z)(function*(){return new Xi(h)})()}clearedOneInstance(){}}const Js="recaptcha",Xr={theme:"light",type:"image"};class rg{constructor(h,m=Object.assign({},Xr),E){this.parameters=m,this.type=Js,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fe(E),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ng:new eg,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const m=yield h.render(),E=h.getAssertedRecaptcha();return E.getResponse(m)||new Promise(N=>{const z=oe=>{!oe||(h.tokenChangeListeners.delete(z),N(oe))};h.tokenChangeListeners.add(z),h.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof h)h(m);else if("string"==typeof h){const E=mn()[h];"function"==typeof E&&E(m)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let m=h.container;if(!h.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}h.widgetId=h.getAssertedRecaptcha().render(m,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){te(Xt()&&!ki(),h.auth,"internal-error"),yield function Xs(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const m=yield function Fr(_){return Fi.apply(this,arguments)}(h.auth);te(m,h.auth,"internal-error"),h.parameters.sitekey=m})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ws{constructor(h,m){this.verificationId=h,this.onConfirmation=m}confirm(h){const m=qo._fromVerification(this.verificationId,h);return this.onConfirmation(m)}}function In(){return(In=(0,f.Z)(function*(_,h,m){const E=Fe(_),T=yield Mr(E,h,(0,O.m9)(m));return new ws(T,N=>kn(E,N))})).apply(this,arguments)}function na(){return(na=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);yield js(!1,E,"phone");const T=yield Mr(E.auth,h,(0,O.m9)(m));return new ws(T,N=>Ni(E,N))})).apply(this,arguments)}function jl(){return(jl=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_),T=yield Mr(E.auth,h,(0,O.m9)(m));return new ws(T,N=>$s(E,N))})).apply(this,arguments)}function Mr(_,h,m){return hi.apply(this,arguments)}function hi(){return(hi=(0,f.Z)(function*(_,h,m){var E;const T=yield m.verify();try{let N;if(te("string"==typeof T,_,"argument-error"),te(m.type===Js,_,"argument-error"),N="string"==typeof h?{phoneNumber:h}:h,"session"in N){const z=N.session;if("phoneNumber"in N)return te("enroll"===z.type,_,"internal-error"),(yield Hn(_,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{te("signin"===z.type,_,"internal-error");const oe=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return te(oe,_,"missing-multi-factor-info"),(yield Xo(_,{mfaPendingCredential:z.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Kp(_,{phoneNumber:N.phoneNumber,recaptchaToken:T});return z}}finally{m._reset()}})).apply(this,arguments)}function bs(){return(bs=(0,f.Z)(function*(_,h){yield yn((0,O.m9)(_),h)})).apply(this,arguments)}let Vi=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Fe(m)}verifyPhoneNumber(m,E){return Mr(this.auth,m,(0,O.m9)(E))}static credential(m,E){return qo._fromVerification(m,E)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:T}=m;return E&&T?qo._fromTokenResponse(E,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ts(_,h){return h?se(h):(te(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class ka extends an{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return $n(h,this._buildIdpRequest())}_linkToIdToken(h,m){return $n(h,this._buildIdpRequest(m))}_getReauthenticationResolver(h){return $n(h,this._buildIdpRequest())}_buildIdpRequest(h){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(m.idToken=h),m}}function Hl(_){return yo(_.auth,new ka(_),_.bypassAuthState)}function Gl(_){const{auth:h,user:m}=_;return te(m,h,"internal-error"),qc(m,new ka(_),_.bypassAuthState)}function Lt(_){return ql.apply(this,arguments)}function ql(){return(ql=(0,f.Z)(function*(_){const{auth:h,user:m}=_;return te(m,h,"internal-error"),yn(m,new ka(_),_.bypassAuthState)})).apply(this,arguments)}class Xn{constructor(h,m,E,T,N=!1){this.auth=h,this.resolver=E,this.user=T,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var h=this;return new Promise(function(){var m=(0,f.Z)(function*(E,T){h.pendingPromise={resolve:E,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(N){h.reject(N)}});return function(E,T){return m.apply(this,arguments)}}())}onAuthEvent(h){var m=this;return(0,f.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:N,tenantId:z,error:oe,type:Ue}=h;if(oe)return void m.reject(oe);const et={auth:m.auth,requestUri:E,sessionId:T,tenantId:z||void 0,postBody:N||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ue)(et))}catch(wt){m.reject(wt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Hl;case"linkViaPopup":case"linkViaRedirect":return Lt;case"reauthViaPopup":case"reauthViaRedirect":return Gl;default:Ie(this.auth,"internal-error")}}resolve(h){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zl=new cn(2e3,1e4);function od(){return(od=(0,f.Z)(function*(_,h,m){const E=Fe(_);Ge(_,h,Bs);const T=ts(E,m);return new rs(E,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function Ou(){return(Ou=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);Ge(E.auth,h,Bs);const T=ts(E.auth,m);return new rs(E.auth,"reauthViaPopup",h,T,E).executeNotNull()})).apply(this,arguments)}function ku(){return(ku=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);Ge(E.auth,h,Bs);const T=ts(E.auth,m);return new rs(E.auth,"linkViaPopup",h,T,E).executeNotNull()})).apply(this,arguments)}let rs=(()=>{class _ extends Xn{constructor(m,E,T,N,z){super(m,E,N,z),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,f.Z)(function*(){const E=yield m.execute();return te(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,f.Z)(function*(){ie(1===m.filter.length,"Popup operations only handle one event");const E=Qo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(_e(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,T;this.pollId=(null===(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,zl.get())};m()}}return _.currentPopupAction=null,_})();const is=new Map;class er extends Xn{constructor(h,m,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,m=this;return(0,f.Z)(function*(){let E=is.get(m.auth._key());if(!E){try{const N=(yield function fi(_,h){return Wl.apply(this,arguments)}(m.resolver,m.auth))?yield h().call(m):null;E=()=>Promise.resolve(N)}catch(T){E=()=>Promise.reject(T)}is.set(m.auth._key(),E)}return m.bypassAuthState||is.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(h){var m=()=>super.onAuthEvent,E=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return m().call(E,h);if("unknown"!==h.type){if(h.eventId){const T=yield E.auth._redirectUserForId(h.eventId);if(T)return E.user=T,m().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Wl(){return(Wl=(0,f.Z)(function*(_,h){const m=I(h),E=C(_);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(m));return yield E._remove(m),T})).apply(this,arguments)}function Ao(_,h){return ra.apply(this,arguments)}function ra(){return(ra=(0,f.Z)(function*(_,h){return C(_)._set(I(h),"true")})).apply(this,arguments)}function C(_){return se(_._redirectPersistence)}function I(_){return de("pendingRedirect",_.config.apiKey,_.name)}function K(){return(K=(0,f.Z)(function*(_,h,m){const E=Fe(_);Ge(_,h,Bs);const T=ts(E,m);return yield Ao(T,E),T._openRedirect(E,h,"signInViaRedirect")})).apply(this,arguments)}function Re(){return(Re=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);Ge(E.auth,h,Bs);const T=ts(E.auth,m);yield Ao(T,E.auth);const N=yield So(E);return T._openRedirect(E.auth,h,"reauthViaRedirect",N)})).apply(this,arguments)}function Pt(){return(Pt=(0,f.Z)(function*(_,h,m){const E=(0,O.m9)(_);Ge(E.auth,h,Bs);const T=ts(E.auth,m);yield js(!1,E,h.providerId),yield Ao(T,E.auth);const N=yield So(E);return T._openRedirect(E.auth,h,"linkViaRedirect",N)})).apply(this,arguments)}function qn(){return(qn=(0,f.Z)(function*(_,h){return yield Fe(_)._initializationPromise,Mn(_,h,!1)})).apply(this,arguments)}function Mn(_,h){return ia.apply(this,arguments)}function ia(){return(ia=(0,f.Z)(function*(_,h,m=!1){const E=Fe(_),T=ts(E,h),z=yield new er(E,T,m).execute();return z&&!m&&(delete z.user._redirectEventId,yield E._persistUserIfCurrent(z.user),yield E._setRedirectUser(null,h)),z})).apply(this,arguments)}function So(_){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,f.Z)(function*(_){const h=Qo(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Bi{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(m=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Kl(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ud(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=h,m=!0)),m}sendToConsumer(h,m){var E;if(h.error&&!ud(h)){const T=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(_e(this.auth,T))}else m.onAuthEvent(h)}isEventForConsumer(h,m){const E=null===m.eventId||!!h.eventId&&h.eventId===m.eventId;return m.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mo(h))}saveEventToCache(h){this.cachedEventUids.add(Mo(h)),this.lastProcessedEventTime=Date.now()}}function Mo(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function ud({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Zl(_){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,f.Z)(function*(_,h={}){return zt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const sg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vy=/^https?/;function Ds(){return(Ds=(0,f.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield Zl(_);for(const m of h)try{if(Yl(m))return}catch(E){}Ie(_,"unauthorized-domain")})).apply(this,arguments)}function Yl(_){const h=Tt(),{protocol:m,hostname:E}=new URL(h);if(_.startsWith("chrome-extension://")){const z=new URL(_);return""===z.hostname&&""===E?"chrome-extension:"===m&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===m&&z.hostname===E}if(!Vy.test(m))return!1;if(sg.test(_))return E===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const Uy=new cn(3e4,6e4);function jy(){const _=mn().___jsl;if(null==_?void 0:_.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let ld=null;function $y(_){return ld=ld||function og(_){return new Promise((h,m)=>{var E,T,N;function z(){jy(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{jy(),m(_e(_,"network-request-failed"))},timeout:Uy.get()})}if(null===(T=null===(E=mn().gapi)||void 0===E?void 0:E.iframes)||void 0===T?void 0:T.Iframe)h(gapi.iframes.getContext());else{if(!(null===(N=mn().gapi)||void 0===N?void 0:N.load)){const oe=Io("iframefcb");return mn()[oe]=()=>{gapi.load?z():m(_e(_,"network-request-failed"))},Ln(`https://apis.google.com/js/api.js?onload=${oe}`).catch(Ue=>m(Ue))}z()}}).catch(h=>{throw ld=null,h})}(_),ld}const Uh=new cn(5e3,15e3),Ro={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fa(_){const h=_.config;te(h.authDomain,_,"auth-domain-config-required");const m=h.emulator?dn(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:h.apiKey,appName:_.name,v:ue.SDK_VERSION},T=cd.get(_.config.apiHost);T&&(E.eid=T);const N=_._getFrameworks();return N.length&&(E.fw=N.join(",")),`${m}?${(0,O.xO)(E).slice(1)}`}function sa(){return sa=(0,f.Z)(function*(_){const h=yield $y(_),m=mn().gapi;return te(m,_,"internal-error"),h.open({where:document.body,url:Fa(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ro,dontclear:!0},E=>new Promise(function(){var T=(0,f.Z)(function*(N,z){yield E.restyle({setHideOnLeave:!1});const oe=_e(_,"network-request-failed"),Ue=mn().setTimeout(()=>{z(oe)},Uh.get());function et(){mn().clearTimeout(Ue),N(E)}E.ping(et).then(et,()=>{z(oe)})});return function(N,z){return T.apply(this,arguments)}}()))}),sa.apply(this,arguments)}const Gy={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fd{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function Gh(_,h,m,E,T,N){te(_.config.authDomain,_,"auth-domain-config-required"),te(_.config.apiKey,_,"invalid-api-key");const z={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:E,v:ue.SDK_VERSION,eventId:T};if(h instanceof Bs){h.setDefaultLanguage(_.languageCode),z.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(z.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Ue,et]of Object.entries(N||{}))z[Ue]=et}if(h instanceof Zr){const Ue=h.getScopes().filter(et=>""!==et);Ue.length>0&&(z.scopes=Ue.join(","))}_.tenantId&&(z.tid=_.tenantId);const oe=z;for(const Ue of Object.keys(oe))void 0===oe[Ue]&&delete oe[Ue];return`${function zy({config:_}){return _.emulator?dn(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,O.xO)(oe).slice(1)}`}const to="webStorageSupport";class qh extends class ag{constructor(h){this.factorId=h}_process(h,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(h,m.credential,E);case"signin":return this._finalizeSignIn(h,m.credential);default:return W("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new qh(h)}_finalizeEnroll(h,m,E){return function Jc(_,h){return zt(_,"POST","/v2/accounts/mfaEnrollment:finalize",en(_,h))}(h,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,m){return function ea(_,h){return zt(_,"POST","/v2/accounts/mfaSignIn:finalize",en(_,h))}(h,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wy=(()=>{class _{constructor(){}static assertion(m){return qh._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var Ky="@firebase/auth",zh="0.19.11";class ug{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var m=this;return(0,f.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const m=this.auth.onIdTokenChanged(E=>{var T;h((null===(T=E)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,m),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const m=this.internalListeners.get(h);!m||(this.internalListeners.delete(h),m(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function no(){return window}function Vu(){return(Vu=(0,f.Z)(function*(_,h,m){var E;const{BuildInfo:T}=no();ie(h.sessionId,"AuthEvent did not contain a session ID");const N=yield La(h.sessionId),z={};return sr()?z.ibi=T.packageName:Tn()?z.apn=T.packageName:Ie(_,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=N,Gh(_,m,h.type,void 0,null!==(E=h.eventId)&&void 0!==E?E:void 0,z)})).apply(this,arguments)}function Ui(){return(Ui=(0,f.Z)(function*(_){const{BuildInfo:h}=no(),m={};sr()?m.iosBundleId=h.packageName:Tn()?m.androidPackageName=h.packageName:Ie(_,"operation-not-supported-in-this-environment"),yield Zl(_,m)})).apply(this,arguments)}function gd(){return(gd=(0,f.Z)(function*(_,h,m){const{cordova:E}=no();let T=()=>{};try{yield new Promise((N,z)=>{let oe=null;function Ue(){var ut;N();const xn=null===(ut=E.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof xn&&xn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function et(){oe||(oe=window.setTimeout(()=>{z(_e(_,"redirect-cancelled-by-user"))},2e3))}function wt(){"visible"===(null==document?void 0:document.visibilityState)&&et()}h.addPassiveListener(Ue),document.addEventListener("resume",et,!1),Tn()&&document.addEventListener("visibilitychange",wt,!1),T=()=>{h.removePassiveListener(Ue),document.removeEventListener("resume",et,!1),document.removeEventListener("visibilitychange",wt,!1),oe&&window.clearTimeout(oe)}})}finally{T()}})).apply(this,arguments)}function La(_){return cg.apply(this,arguments)}function cg(){return(cg=(0,f.Z)(function*(_){const h=Bu(_),m=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(m)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Bu(_){if(ie(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),m=new Uint8Array(h);for(let E=0;E<_.length;E++)m[E]=_.charCodeAt(E);return m}!function Yy(_){(0,ue._registerComponent)(new re.wA("auth",(h,{options:m})=>{const E=h.getProvider("app").getImmediate(),T=h.getProvider("heartbeat"),{apiKey:N,authDomain:z}=E.options;return((oe,Ue)=>{te(N&&!N.includes(":"),"invalid-api-key",{appName:oe.name}),te(!(null==z?void 0:z.includes(":")),"argument-error",{appName:oe.name});const et={apiKey:N,authDomain:z,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ta(_)},wt=new si(oe,Ue,et);return function ae(_,h){const m=(null==h?void 0:h.persistence)||[],E=(Array.isArray(m)?m:[m]).map(se);(null==h?void 0:h.errorMap)&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(E,null==h?void 0:h.popupRedirectResolver)}(wt,m),wt})(E,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,m,E)=>{h.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new re.wA("auth-internal",h=>{const m=Fe(h.getProvider("auth").getImmediate());return new ug(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(Ky,zh,function Zy(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,ue.registerVersion)(Ky,zh,"esm2017")}("Browser");class Yh extends Bi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function Xl(_){return aa.apply(this,arguments)}function aa(){return(aa=(0,f.Z)(function*(_){const h=yield tc()._get(Jh(_));return h&&(yield tc()._remove(Jh(_))),h})).apply(this,arguments)}function ec(){const _=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*h.length);_.push(h.charAt(E))}return _.join("")}function tc(){return se(Fn)}function Jh(_){return de("authEvent",_.config.apiKey,_.name)}function yd(_){if(!(null==_?void 0:_.includes("?")))return{};const[h,...m]=_.split("?");return(0,O.zd)(m.join("?"))}function nf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function _d(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function hg(_=(0,O.z$)()){return!("file:"!==_d()&&"ionic:"!==_d()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function xr(){try{const _=self.localStorage,h=Qo();if(_)return _.setItem(h,"1"),_.removeItem(h),!function ua(_=(0,O.z$)()){return function t_(){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)}()||function n_(_=(0,O.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,O.hl)()}catch(_){return No()&&(0,O.hl)()}return!1}function No(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ic(){return(function e_(){return"http:"===_d()||"https:"===_d()}()||(0,O.ru)()||hg())&&!function vd(){return(0,O.b$)()||(0,O.UG)()}()&&xr()&&!No()}function rf(){return hg()&&"undefined"!=typeof document}function Va(){return(Va=(0,f.Z)(function*(){return!!rf()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const ji={LOCAL:"local",NONE:"none",SESSION:"session"},Ba=te,of="persistence";function Ua(_){return af.apply(this,arguments)}function af(){return(af=(0,f.Z)(function*(_){yield _._initializationPromise;const h=sc(),m=de(of,_.config.apiKey,_.name);h&&h.setItem(m,_._getPersistence())})).apply(this,arguments)}function sc(){var _;try{return(null===(_=function sf(){return"undefined"!=typeof window?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch(h){return null}}const r_=te;class gi{constructor(){this.browserResolver=se(class oa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ar,this._completeRedirectFn=Mn}_openPopup(h,m,E,T){var N=this;return(0,f.Z)(function*(){var z;ie(null===(z=N.eventManagers[h._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const oe=Gh(h,m,E,Tt(),T);return function pd(_,h,m,E=500,T=600){const N=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-E)/2,0).toString();let oe="";const Ue=Object.assign(Object.assign({},Gy),{width:E.toString(),height:T.toString(),top:N,left:z}),et=(0,O.z$)().toLowerCase();m&&(oe=br(et)?"_blank":m),Et(et)&&(h=h||"http://localhost",Ue.scrollbars="yes");const wt=Object.entries(Ue).reduce((xn,[ss,ac])=>`${xn}${ss}=${ac},`,"");if(function lu(_=(0,O.z$)()){var h;return sr(_)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(et)&&"_self"!==oe)return function Hh(_,h){const m=document.createElement("a");m.href=_,m.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(h||"",oe),new fd(null);const ut=window.open(h||"",oe,wt);te(ut,_,"popup-blocked");try{ut.focus()}catch(xn){}return new fd(ut)}(h,oe,Qo())})()}_openRedirect(h,m,E,T){var N=this;return(0,f.Z)(function*(){return yield N._originValidation(h),function Bh(_){mn().location.href=_}(Gh(h,m,E,Tt(),T)),new Promise(()=>{})})()}_initialize(h){const m=h._key();if(this.eventManagers[m]){const{manager:T,promise:N}=this.eventManagers[m];return T?Promise.resolve(T):(ie(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(h);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(h){var m=this;return(0,f.Z)(function*(){const E=yield function Hy(_){return sa.apply(this,arguments)}(h),T=new Bi(h);return E.register("authEvent",N=>(te(null==N?void 0:N.authEvent,h,"invalid-auth-event"),{status:T.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[h._key()]={manager:T},m.iframes[h._key()]=E,T})()}_isIframeWebStorageSupported(h,m){this.iframes[h._key()].send(to,{type:to},T=>{var N;const z=null===(N=null==T?void 0:T[0])||void 0===N?void 0:N[to];void 0!==z&&m(!!z),Ie(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function By(_){return Ds.apply(this,arguments)}(h)),this.originValidationPromises[m]}get _shouldInitProactively(){return ds()||Yt()||sr()}}),this.cordovaResolver=se(class tf{constructor(){this._redirectPersistence=ar,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Mn}_initialize(h){var m=this;return(0,f.Z)(function*(){const E=h._key();let T=m.eventManagers.get(E);return T||(T=new Yh(h),m.eventManagers.set(E,T),m.attachCallbackListeners(h,T)),T})()}_openPopup(h){Ie(h,"operation-not-supported-in-this-environment")}_openRedirect(h,m,E,T){var N=this;return(0,f.Z)(function*(){!function md(_){var h,m,E,T,N,z,oe,Ue,et,wt;const ut=no();te("function"==typeof(null===(h=null==ut?void 0:ut.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(m=null==ut?void 0:ut.BuildInfo)||void 0===m?void 0:m.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(N=null===(T=null===(E=null==ut?void 0:ut.cordova)||void 0===E?void 0:E.plugins)||void 0===T?void 0:T.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Ue=null===(oe=null===(z=null==ut?void 0:ut.cordova)||void 0===z?void 0:z.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===Ue?void 0:Ue.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(wt=null===(et=null==ut?void 0:ut.cordova)||void 0===et?void 0:et.InAppBrowser)||void 0===wt?void 0:wt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const z=yield N._initialize(h);yield z.initialized(),z.resetRedirect(),function Pu(){is.clear()}(),yield N._originValidation(h);const oe=function Qh(_,h,m=null){return{type:h,eventId:m,urlResponse:null,sessionId:ec(),postBody:null,tenantId:_.tenantId,error:_e(_,"no-auth-event")}}(h,E,T);yield function fE(_,h){return tc()._set(Jh(_),h)}(h,oe);const Ue=yield function Wh(_,h,m){return Vu.apply(this,arguments)}(h,oe,m),et=yield function Jl(_){const{cordova:h}=no();return new Promise(m=>{h.plugins.browsertab.isAvailable(E=>{let T=null;E?h.plugins.browsertab.openUrl(_):T=h.InAppBrowser.open(_,function fo(_=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),m(T)})})}(Ue);return function lg(_,h,m){return gd.apply(this,arguments)}(h,z,et)})()}_isIframeWebStorageSupported(h,m){throw new Error("Method not implemented.")}_originValidation(h){const m=h._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Kh(_){return Ui.apply(this,arguments)}(h)),this.originValidationPromises[m]}attachCallbackListeners(h,m){const{universalLinks:E,handleOpenURL:T,BuildInfo:N}=no(),z=setTimeout((0,f.Z)(function*(){yield Xl(h),m.onEvent(nf())}),500),oe=function(){var wt=(0,f.Z)(function*(ut){clearTimeout(z);const xn=yield Xl(h);let ss=null;xn&&(null==ut?void 0:ut.url)&&(ss=function Jy(_,h){var m,E;const T=function nc(_){const h=yd(_),m=h.link?decodeURIComponent(h.link):void 0,E=yd(m).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return yd(T).link||T||E||m||_}(h);if(T.includes("/__/auth/callback")){const N=yd(T),z=N.firebaseError?function Xh(_){try{return JSON.parse(_)}catch(h){return null}}(decodeURIComponent(N.firebaseError)):null,oe=null===(E=null===(m=null==z?void 0:z.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],Ue=oe?_e(oe):null;return Ue?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(xn,ut.url)),m.onEvent(ss||nf())});return function(xn){return wt.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,oe);const Ue=T,et=`${N.packageName.toLowerCase()}://`;no().handleOpenURL=function(){var wt=(0,f.Z)(function*(ut){if(ut.toLowerCase().startsWith(et)&&oe({url:ut}),"function"==typeof Ue)try{Ue(ut)}catch(xn){console.error(xn)}});return function(ut){return wt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ar,this._completeRedirectFn=Mn}_initialize(h){var m=this;return(0,f.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,m,E,T){var N=this;return(0,f.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(h,m,E,T)})()}_openRedirect(h,m,E,T){var N=this;return(0,f.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(h,m,E,T)})()}_isIframeWebStorageSupported(h,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,m)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return rf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return r_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const m=yield function Vr(){return Va.apply(this,arguments)}();h.underlyingResolver=m?h.cordovaResolver:h.browserResolver})()}}function gg(_){return _.unwrap()}function ja(_){return mg(_)}function mg(_){const{_tokenResponse:h}=_ instanceof O.ZR?_.customData:_;if(!h)return null;if(!(_ instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Vi.credentialFromResult(_);const m=h.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=Sa;break;case"facebook.com":E=go;break;case"github.com":E=Hc;break;case"twitter.com":E=mu;break;default:const{oauthIdToken:T,oauthAccessToken:N,oauthTokenSecret:z,pendingToken:oe,nonce:Ue}=h;return N||z||T||oe?oe?m.startsWith("saml.")?Dr._create(m,oe):gs._fromParams({providerId:m,signInMethod:m,pendingToken:oe,idToken:T,accessToken:N}):new zo(m).credential({idToken:T,accessToken:N,rawNonce:Ue}):null}return _ instanceof O.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function Rr(_,h){return h.catch(m=>{throw m instanceof O.ZR&&function s_(_,h){var m;const E=null===(m=h.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new o_(_,function xu(_,h){var m;const E=(0,O.m9)(_),T=h;return te(h.customData.operationType,E,"argument-error"),te(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Oa._fromError(E,T)}(_,h));else if(E){const T=mg(h),N=h;T&&(N.credential=T,N.tenantId=E.tenantId||void 0,N.email=E.email||void 0,N.phoneNumber=E.phoneNumber||void 0)}}(_,m),m}).then(m=>{const T=m.user;return{operationType:m.operationType,credential:ja(m),additionalUserInfo:Ar(m),user:Oo.getOrCreate(T)}})}function uf(_,h){return lf.apply(this,arguments)}function lf(){return(lf=(0,f.Z)(function*(_,h){const m=yield h;return{verificationId:m.verificationId,confirm:E=>Rr(_,m.confirm(E))}})).apply(this,arguments)}class o_{constructor(h,m){this.resolver=m,this.auth=function i_(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Rr(gg(this.auth),this.resolver.resolveSignIn(h))}}class Oo{constructor(h){this._delegate=h,this.multiFactor=function Xc(_){const h=(0,O.m9)(_);return Yo.has(h)||Yo.set(h,vs._fromUser(h)),Yo.get(h)}(h)}static getOrCreate(h){return Oo.USER_MAP.has(h)||Oo.USER_MAP.set(h,new Oo(h)),Oo.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var m=this;return(0,f.Z)(function*(){return Rr(m.auth,Ni(m._delegate,h))})()}linkWithPhoneNumber(h,m){var E=this;return(0,f.Z)(function*(){return uf(E.auth,function Ul(_,h,m){return na.apply(this,arguments)}(E._delegate,h,m))})()}linkWithPopup(h){var m=this;return(0,f.Z)(function*(){return Rr(m.auth,function ns(_,h,m){return ku.apply(this,arguments)}(m._delegate,h,gi))})()}linkWithRedirect(h){var m=this;return(0,f.Z)(function*(){return yield Ua(Fe(m.auth)),function Je(_,h,m){return function Ct(_,h,m){return Pt.apply(this,arguments)}(_,h,m)}(m._delegate,h,gi)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var m=this;return(0,f.Z)(function*(){return Rr(m.auth,$s(m._delegate,h))})()}reauthenticateWithPhoneNumber(h,m){return uf(this.auth,function ig(_,h,m){return jl.apply(this,arguments)}(this._delegate,h,m))}reauthenticateWithPopup(h){return Rr(this.auth,function To(_,h,m){return Ou.apply(this,arguments)}(this._delegate,h,gi))}reauthenticateWithRedirect(h){var m=this;return(0,f.Z)(function*(){return yield Ua(Fe(m.auth)),function ee(_,h,m){return function xe(_,h,m){return Re.apply(this,arguments)}(_,h,m)}(m._delegate,h,gi)})()}sendEmailVerification(h){return function Oi(_,h){return Al.apply(this,arguments)}(this._delegate,h)}unlink(h){var m=this;return(0,f.Z)(function*(){return yield function Ma(_,h){return El.apply(this,arguments)}(m._delegate,h),m})()}updateEmail(h){return function xl(_,h){return Rl((0,O.m9)(_),h,null)}(this._delegate,h)}updatePassword(h){return function Wc(_,h){return Rl((0,O.m9)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function $l(_,h){return bs.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function _o(_,h){return Ml.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,m){return function Su(_,h,m){return Mu.apply(this,arguments)}(this._delegate,h,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Oo.USER_MAP=new WeakMap;const oc=te;let cf=(()=>{class _{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=m.options;oc(T,"invalid-api-key",{appName:m.name}),oc(T,"invalid-api-key",{appName:m.name});const N="undefined"!=typeof window?gi:void 0;this._delegate=E.initialize({options:{persistence:a_(T,m.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Oo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function gn(_,h,m){const E=Fe(_);te(E._canInitEmulator,E,"emulator-config-failed"),te(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const T=!!(null==m?void 0:m.disableWarnings),N=pr(h),{host:z,port:oe}=function ks(_){const h=pr(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const N=T[1];return{host:N,port:jn(E.substr(N.length+1))}}{const[N,z]=E.split(":");return{host:N,port:jn(z)}}}(h);E.config.emulator={url:`${N}//${z}${null===oe?"":`:${oe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:z,port:oe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Yi(){function _(){const h=document.createElement("p"),m=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,m,E)}applyActionCode(m){return function bl(_,h){return Ce.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Bt(this._delegate,m)}confirmPasswordReset(m,E){return function Iu(_,h,m){return wl.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var T=this;return(0,f.Z)(function*(){return Rr(T._delegate,function Zo(_,h,m){return Qr.apply(this,arguments)}(T._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Au(_,h){return zs.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Tl(_,h){const m=po.parseLink(h);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,f.Z)(function*(){oc(ic(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function St(_,h){return qn.apply(this,arguments)}(m._delegate,gi);return E?Rr(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function dg(_,h){Fe(_)._logFramework(h)}(this._delegate,m)}onAuthStateChanged(m,E,T){const{next:N,error:z,complete:oe}=df(m,E,T);return this._delegate.onAuthStateChanged(N,z,oe)}onIdTokenChanged(m,E,T){const{next:N,error:z,complete:oe}=df(m,E,T);return this._delegate.onIdTokenChanged(N,z,oe)}sendSignInLinkToEmail(m,E){return function Il(_,h,m){return zc.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function Du(_,h,m){return Cu.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,f.Z)(function*(){let T;switch(function fg(_,h){Ba(Object.values(ji).includes(h),_,"invalid-persistence-type"),(0,O.b$)()?Ba(h!==ji.SESSION,_,"unsupported-persistence-type"):(0,O.UG)()?Ba(h===ji.NONE,_,"unsupported-persistence-type"):No()?Ba(h===ji.NONE||h===ji.LOCAL&&(0,O.hl)(),_,"unsupported-persistence-type"):Ba(h===ji.NONE||xr(),_,"unsupported-persistence-type")}(E._delegate,m),m){case ji.SESSION:T=ar;break;case ji.LOCAL:T=(yield se(Pi)._isAvailable())?Pi:Fn;break;case ji.NONE:T=q;break;default:return Ie("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Rr(this._delegate,function _u(_){return Gc.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Rr(this._delegate,kn(this._delegate,m))}signInWithCustomToken(m){return Rr(this._delegate,function Hs(_,h){return Gs.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return Rr(this._delegate,function Cl(_,h,m){return kn((0,O.m9)(_),vl.credential(h,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return Rr(this._delegate,function Tu(_,h,m){return qs.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return uf(this._delegate,function Nu(_,h,m){return In.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,f.Z)(function*(){return oc(ic(),E._delegate,"operation-not-supported-in-this-environment"),Rr(E._delegate,function eo(_,h,m){return od.apply(this,arguments)}(E._delegate,m,gi))})()}signInWithRedirect(m){var E=this;return(0,f.Z)(function*(){return oc(ic(),E._delegate,"operation-not-supported-in-this-environment"),yield Ua(E._delegate),function R(_,h,m){return function L(_,h,m){return K.apply(this,arguments)}(_,h,m)}(E._delegate,m,gi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function wn(_,h){return Ko.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ji,_})();function df(_,h,m){let E=_;"function"!=typeof _&&({next:E,error:h,complete:m}=_);const T=E;return{next:z=>T(z&&Oo.getOrCreate(z)),error:h,complete:m}}function a_(_,h){const m=function pg(_,h){const m=sc();if(!m)return[];const E=de(of,_,h);switch(m.getItem(E)){case ji.NONE:return[q];case ji.LOCAL:return[Pi,ar];case ji.SESSION:return[ar];default:return[]}}(_,h);if("undefined"!=typeof self&&!m.includes(Pi)&&m.push(Pi),"undefined"!=typeof window)for(const E of[Fn,ar])m.includes(E)||m.push(E);return m.includes(q)||m.push(q),m}class hf{constructor(){this.providerId="phone",this._delegate=new Vi(gg(Y.Z.auth()))}static credential(h,m){return Vi.credential(h,m)}verifyPhoneNumber(h,m){return this._delegate.verifyPhoneNumber(h,m)}unwrap(){return this._delegate}}hf.PHONE_SIGN_IN_METHOD=Vi.PHONE_SIGN_IN_METHOD,hf.PROVIDER_ID=Vi.PROVIDER_ID;const u_=te;class l_{constructor(h,m,E=Y.Z.app()){var T;u_(null===(T=E.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new rg(h,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function _g(_){_.INTERNAL.registerComponent(new re.wA("auth-compat",h=>{const m=h.getProvider("app-compat").getImmediate(),E=h.getProvider("auth");return new cf(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:vl,FacebookAuthProvider:go,GithubAuthProvider:Hc,GoogleAuthProvider:Sa,OAuthProvider:zo,SAMLAuthProvider:ai,PhoneAuthProvider:hf,PhoneMultiFactorGenerator:Wy,RecaptchaVerifier:l_,TwitterAuthProvider:mu,Auth:cf,AuthCredential:an,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.11")}(Y.Z)},8306:(lt,Ae,k)=>{k.d(Ae,{y:()=>$});var f=k(2961),Y=k(727),O=k(8822),ue=k(4671);var re=k(2416),he=k(576),ce=k(2806);let $=(()=>{class Me{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const fe=new Me;return fe.source=this,fe.operator=Ve,fe}subscribe(Ve,fe,be){const nt=function ze(Me){return Me&&Me instanceof f.Lv||function J(Me){return Me&&(0,he.m)(Me.next)&&(0,he.m)(Me.error)&&(0,he.m)(Me.complete)}(Me)&&(0,Y.Nn)(Me)}(Ve)?Ve:new f.Hp(Ve,fe,be);return(0,ce.x)(()=>{const{operator:Ye,source:Ie}=this;nt.add(Ye?Ye.call(nt,Ie):Ie?this._subscribe(nt):this._trySubscribe(nt))}),nt}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(fe){Ve.error(fe)}}forEach(Ve,fe){return new(fe=H(fe))((be,nt)=>{const Ye=new f.Hp({next:Ie=>{try{Ve(Ie)}catch(_e){nt(_e),Ye.unsubscribe()}},error:nt,complete:be});this.subscribe(Ye)})}_subscribe(Ve){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Ve)}[O.L](){return this}pipe(...Ve){return function ge(Me){return 0===Me.length?ue.y:1===Me.length?Me[0]:function(Ve){return Me.reduce((fe,be)=>be(fe),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=H(Ve))((fe,be)=>{let nt;this.subscribe(Ye=>nt=Ye,Ye=>be(Ye),()=>fe(nt))})}}return Me.create=Pe=>new Me(Pe),Me})();function H(Me){var Pe;return null!==(Pe=null!=Me?Me:re.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(lt,Ae,k)=>{k.d(Ae,{x:()=>re});var f=k(8306),Y=k(727);const ue=(0,k(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=k(8737),ge=k(2806);let re=(()=>{class ce extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const J=new he(this,this);return J.operator=H,J}_throwIfClosed(){if(this.closed)throw new ue}next(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(H)}})}error(H){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:J}=this;for(;J.length;)J.shift().error(H)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:J,isStopped:ze,observers:Me}=this;return J||ze?Y.Lc:(this.currentObservers=null,Me.push(H),new Y.w0(()=>{this.currentObservers=null,(0,X.P)(Me,H)}))}_checkFinalizedStatuses(H){const{hasError:J,thrownError:ze,isStopped:Me}=this;J?H.error(ze):Me&&H.complete()}asObservable(){const H=new f.y;return H.source=this,H}}return ce.create=($,H)=>new he($,H),ce})();class he extends re{constructor($,H){super(),this.destination=$,this.source=H}next($){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===J||J.call(H,$)}error($){var H,J;null===(J=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===J||J.call(H,$)}complete(){var $,H;null===(H=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===H||H.call($)}_subscribe($){var H,J;return null!==(J=null===(H=this.source)||void 0===H?void 0:H.subscribe($))&&void 0!==J?J:Y.Lc}}},2961:(lt,Ae,k)=>{k.d(Ae,{Hp:()=>Ve,Lv:()=>J});var f=k(576),Y=k(727),O=k(2416),ue=k(7849);function X(){}const ge=ce("C",void 0,void 0);function ce(Ie,_e,Ee){return{kind:Ie,value:_e,error:Ee}}var $=k(3410),H=k(2806);class J extends Y.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,Y.Nn)(_e)&&_e.add(this)):this.destination=Ye}static create(_e,Ee,Ge){return new Ve(_e,Ee,Ge)}next(_e){this.isStopped?nt(function he(Ie){return ce("N",Ie,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?nt(function re(Ie){return ce("E",void 0,Ie)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?nt(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Me(Ie,_e){return ze.call(Ie,_e)}class Pe{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(_e)}catch(Ge){fe(Ge)}}error(_e){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(_e)}catch(Ge){fe(Ge)}else fe(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(Ee){fe(Ee)}}}class Ve extends J{constructor(_e,Ee,Ge){let $e;if(super(),(0,f.m)(_e)||!_e)$e={next:null!=_e?_e:void 0,error:null!=Ee?Ee:void 0,complete:null!=Ge?Ge:void 0};else{let te;this&&O.v.useDeprecatedNextContext?(te=Object.create(_e),te.unsubscribe=()=>this.unsubscribe(),$e={next:_e.next&&Me(_e.next,te),error:_e.error&&Me(_e.error,te),complete:_e.complete&&Me(_e.complete,te)}):$e=_e}this.destination=new Pe($e)}}function fe(Ie){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ie):(0,ue.h)(Ie)}function nt(Ie,_e){const{onStoppedNotification:Ee}=O.v;Ee&&$.z.setTimeout(()=>Ee(Ie,_e))}const Ye={closed:!0,next:X,error:function be(Ie){throw Ie},complete:X}},727:(lt,Ae,k)=>{k.d(Ae,{Lc:()=>ge,w0:()=>X,Nn:()=>re});var f=k(576);const O=(0,k(3888).d)(ce=>function(H){ce(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((J,ze)=>`${ze+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ue=k(8737);class X{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const Me of H)Me.remove(this);else H.remove(this);const{initialTeardown:J}=this;if((0,f.m)(J))try{J()}catch(Me){$=Me instanceof O?Me.errors:[Me]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Me of ze)try{he(Me)}catch(Pe){$=null!=$?$:[],Pe instanceof O?$=[...$,...Pe.errors]:$.push(Pe)}}if($)throw new O($)}}add($){var H;if($&&$!==this)if(this.closed)he($);else{if($ instanceof X){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push($)}}_hasParent($){const{_parentage:H}=this;return H===$||Array.isArray(H)&&H.includes($)}_addParent($){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push($),H):H?[H,$]:$}_removeParent($){const{_parentage:H}=this;H===$?this._parentage=null:Array.isArray(H)&&(0,ue.P)(H,$)}remove($){const{_finalizers:H}=this;H&&(0,ue.P)(H,$),$ instanceof X&&$._removeParent(this)}}X.EMPTY=(()=>{const ce=new X;return ce.closed=!0,ce})();const ge=X.EMPTY;function re(ce){return ce instanceof X||ce&&"closed"in ce&&(0,f.m)(ce.remove)&&(0,f.m)(ce.add)&&(0,f.m)(ce.unsubscribe)}function he(ce){(0,f.m)(ce)?ce():ce.unsubscribe()}},2416:(lt,Ae,k)=>{k.d(Ae,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,Ae,k)=>{k.d(Ae,{E:()=>Y});const Y=new(k(8306).y)(X=>X.complete())},8996:(lt,Ae,k)=>{k.d(Ae,{D:()=>_e});var f=k(8421),Y=k(5363),O=k(9468),ge=k(8306),he=k(2202),ce=k(576),$=k(9672);function J(Ee,Ge){if(!Ee)throw new Error("Iterable cannot be null");return new ge.y($e=>{(0,$.f)($e,Ge,()=>{const te=Ee[Symbol.asyncIterator]();(0,$.f)($e,Ge,()=>{te.next().then(W=>{W.done?$e.complete():$e.next(W.value)})},0,!0)})})}var ze=k(3670),Me=k(8239),Pe=k(1144),Ve=k(6495),fe=k(2206),be=k(4532),nt=k(3260);function _e(Ee,Ge){return Ge?function Ie(Ee,Ge){if(null!=Ee){if((0,ze.c)(Ee))return function ue(Ee,Ge){return(0,f.Xf)(Ee).pipe((0,O.R)(Ge),(0,Y.Q)(Ge))}(Ee,Ge);if((0,Pe.z)(Ee))return function re(Ee,Ge){return new ge.y($e=>{let te=0;return Ge.schedule(function(){te===Ee.length?$e.complete():($e.next(Ee[te++]),$e.closed||this.schedule())})})}(Ee,Ge);if((0,Me.t)(Ee))return function X(Ee,Ge){return(0,f.Xf)(Ee).pipe((0,O.R)(Ge),(0,Y.Q)(Ge))}(Ee,Ge);if((0,fe.D)(Ee))return J(Ee,Ge);if((0,Ve.T)(Ee))return function H(Ee,Ge){return new ge.y($e=>{let te;return(0,$.f)($e,Ge,()=>{te=Ee[he.h](),(0,$.f)($e,Ge,()=>{let W,ie;try{({value:W,done:ie}=te.next())}catch(me){return void $e.error(me)}ie?$e.complete():$e.next(W)},0,!0)}),()=>(0,ce.m)(null==te?void 0:te.return)&&te.return()})}(Ee,Ge);if((0,nt.L)(Ee))return function Ye(Ee,Ge){return J((0,nt.Q)(Ee),Ge)}(Ee,Ge)}throw(0,be.z)(Ee)}(Ee,Ge):(0,f.Xf)(Ee)}},8421:(lt,Ae,k)=>{k.d(Ae,{Xf:()=>ze});var f=k(655),Y=k(1144),O=k(8239),ue=k(8306),X=k(3670),ge=k(2206),re=k(4532),he=k(6495),ce=k(3260),$=k(576),H=k(7849),J=k(8822);function ze(Ie){if(Ie instanceof ue.y)return Ie;if(null!=Ie){if((0,X.c)(Ie))return function Me(Ie){return new ue.y(_e=>{const Ee=Ie[J.L]();if((0,$.m)(Ee.subscribe))return Ee.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,Y.z)(Ie))return function Pe(Ie){return new ue.y(_e=>{for(let Ee=0;Ee<Ie.length&&!_e.closed;Ee++)_e.next(Ie[Ee]);_e.complete()})}(Ie);if((0,O.t)(Ie))return function Ve(Ie){return new ue.y(_e=>{Ie.then(Ee=>{_e.closed||(_e.next(Ee),_e.complete())},Ee=>_e.error(Ee)).then(null,H.h)})}(Ie);if((0,ge.D)(Ie))return be(Ie);if((0,he.T)(Ie))return function fe(Ie){return new ue.y(_e=>{for(const Ee of Ie)if(_e.next(Ee),_e.closed)return;_e.complete()})}(Ie);if((0,ce.L)(Ie))return function nt(Ie){return be((0,ce.Q)(Ie))}(Ie)}throw(0,re.z)(Ie)}function be(Ie){return new ue.y(_e=>{(function Ye(Ie,_e){var Ee,Ge,$e,te;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,f.KL)(Ie);!(Ge=yield Ee.next()).done;)if(_e.next(Ge.value),_e.closed)return}catch(W){$e={error:W}}finally{try{Ge&&!Ge.done&&(te=Ee.return)&&(yield te.call(Ee))}finally{if($e)throw $e.error}}_e.complete()})})(Ie,_e).catch(Ee=>_e.error(Ee))})}},6451:(lt,Ae,k)=>{k.d(Ae,{T:()=>ge});var f=k(8189),Y=k(8421),O=k(515),ue=k(7669),X=k(8996);function ge(...re){const he=(0,ue.yG)(re),ce=(0,ue._6)(re,1/0),$=re;return $.length?1===$.length?(0,Y.Xf)($[0]):(0,f.J)(ce)((0,X.D)($,he)):O.E}},5403:(lt,Ae,k)=>{k.d(Ae,{x:()=>Y});var f=k(2961);function Y(ue,X,ge,re,he){return new O(ue,X,ge,re,he)}class O extends f.Lv{constructor(X,ge,re,he,ce,$){super(X),this.onFinalize=ce,this.shouldUnsubscribe=$,this._next=ge?function(H){try{ge(H)}catch(J){X.error(J)}}:super._next,this._error=he?function(H){try{he(H)}catch(J){X.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(H){X.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(lt,Ae,k)=>{k.d(Ae,{U:()=>O});var f=k(4482),Y=k(5403);function O(ue,X){return(0,f.e)((ge,re)=>{let he=0;ge.subscribe((0,Y.x)(re,ce=>{re.next(ue.call(X,ce,he++))}))})}},8189:(lt,Ae,k)=>{k.d(Ae,{J:()=>O});var f=k(5577),Y=k(4671);function O(ue=1/0){return(0,f.z)(Y.y,ue)}},5577:(lt,Ae,k)=>{k.d(Ae,{z:()=>he});var f=k(4004),Y=k(8421),O=k(4482),ue=k(9672),X=k(5403),re=k(576);function he(ce,$,H=1/0){return(0,re.m)($)?he((J,ze)=>(0,f.U)((Me,Pe)=>$(J,Me,ze,Pe))((0,Y.Xf)(ce(J,ze))),H):("number"==typeof $&&(H=$),(0,O.e)((J,ze)=>function ge(ce,$,H,J,ze,Me,Pe,Ve){const fe=[];let be=0,nt=0,Ye=!1;const Ie=()=>{Ye&&!fe.length&&!be&&$.complete()},_e=Ge=>be<J?Ee(Ge):fe.push(Ge),Ee=Ge=>{Me&&$.next(Ge),be++;let $e=!1;(0,Y.Xf)(H(Ge,nt++)).subscribe((0,X.x)($,te=>{null==ze||ze(te),Me?_e(te):$.next(te)},()=>{$e=!0},void 0,()=>{if($e)try{for(be--;fe.length&&be<J;){const te=fe.shift();Pe?(0,ue.f)($,Pe,()=>Ee(te)):Ee(te)}Ie()}catch(te){$.error(te)}}))};return ce.subscribe((0,X.x)($,_e,()=>{Ye=!0,Ie()})),()=>{null==Ve||Ve()}}(J,ze,ce,H)))}},5363:(lt,Ae,k)=>{k.d(Ae,{Q:()=>ue});var f=k(9672),Y=k(4482),O=k(5403);function ue(X,ge=0){return(0,Y.e)((re,he)=>{re.subscribe((0,O.x)(he,ce=>(0,f.f)(he,X,()=>he.next(ce),ge),()=>(0,f.f)(he,X,()=>he.complete(),ge),ce=>(0,f.f)(he,X,()=>he.error(ce),ge)))})}},3099:(lt,Ae,k)=>{k.d(Ae,{B:()=>ge});var f=k(8996),Y=k(5698),O=k(7579),ue=k(2961),X=k(4482);function ge(he={}){const{connector:ce=(()=>new O.x),resetOnError:$=!0,resetOnComplete:H=!0,resetOnRefCountZero:J=!0}=he;return ze=>{let Me=null,Pe=null,Ve=null,fe=0,be=!1,nt=!1;const Ye=()=>{null==Pe||Pe.unsubscribe(),Pe=null},Ie=()=>{Ye(),Me=Ve=null,be=nt=!1},_e=()=>{const Ee=Me;Ie(),null==Ee||Ee.unsubscribe()};return(0,X.e)((Ee,Ge)=>{fe++,!nt&&!be&&Ye();const $e=Ve=null!=Ve?Ve:ce();Ge.add(()=>{fe--,0===fe&&!nt&&!be&&(Pe=re(_e,J))}),$e.subscribe(Ge),Me||(Me=new ue.Hp({next:te=>$e.next(te),error:te=>{nt=!0,Ye(),Pe=re(Ie,$,te),$e.error(te)},complete:()=>{be=!0,Ye(),Pe=re(Ie,H),$e.complete()}}),(0,f.D)(Ee).subscribe(Me))})(ze)}}function re(he,ce,...$){return!0===ce?(he(),null):!1===ce?null:ce(...$).pipe((0,Y.q)(1)).subscribe(()=>he())}},9468:(lt,Ae,k)=>{k.d(Ae,{R:()=>Y});var f=k(4482);function Y(O,ue=0){return(0,f.e)((X,ge)=>{ge.add(O.schedule(()=>X.subscribe(ge),ue))})}},5698:(lt,Ae,k)=>{k.d(Ae,{q:()=>ue});var f=k(515),Y=k(4482),O=k(5403);function ue(X){return X<=0?()=>f.E:(0,Y.e)((ge,re)=>{let he=0;ge.subscribe((0,O.x)(re,ce=>{++he<=X&&(re.next(ce),X<=he&&re.complete())}))})}},8505:(lt,Ae,k)=>{k.d(Ae,{b:()=>X});var f=k(576),Y=k(4482),O=k(5403),ue=k(4671);function X(ge,re,he){const ce=(0,f.m)(ge)||re||he?{next:ge,error:re,complete:he}:ge;return ce?(0,Y.e)(($,H)=>{var J;null===(J=ce.subscribe)||void 0===J||J.call(ce);let ze=!0;$.subscribe((0,O.x)(H,Me=>{var Pe;null===(Pe=ce.next)||void 0===Pe||Pe.call(ce,Me),H.next(Me)},()=>{var Me;ze=!1,null===(Me=ce.complete)||void 0===Me||Me.call(ce),H.complete()},Me=>{var Pe;ze=!1,null===(Pe=ce.error)||void 0===Pe||Pe.call(ce,Me),H.error(Me)},()=>{var Me,Pe;ze&&(null===(Me=ce.unsubscribe)||void 0===Me||Me.call(ce)),null===(Pe=ce.finalize)||void 0===Pe||Pe.call(ce)}))}):ue.y}},4408:(lt,Ae,k)=>{k.d(Ae,{o:()=>X});var f=k(727);class Y extends f.w0{constructor(re,he){super()}schedule(re,he=0){return this}}const O={setInterval(ge,re,...he){const{delegate:ce}=O;return(null==ce?void 0:ce.setInterval)?ce.setInterval(ge,re,...he):setInterval(ge,re,...he)},clearInterval(ge){const{delegate:re}=O;return((null==re?void 0:re.clearInterval)||clearInterval)(ge)},delegate:void 0};var ue=k(8737);class X extends Y{constructor(re,he){super(re,he),this.scheduler=re,this.work=he,this.pending=!1}schedule(re,he=0){if(this.closed)return this;this.state=re;const ce=this.id,$=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId($,ce,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId($,this.id,he),this}requestAsyncId(re,he,ce=0){return O.setInterval(re.flush.bind(re,this),ce)}recycleAsyncId(re,he,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return he;O.clearInterval(he)}execute(re,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(re,he);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,he){let $,ce=!1;try{this.work(re)}catch(H){ce=!0,$=H||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:re,scheduler:he}=this,{actions:ce}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(ce,this),null!=re&&(this.id=this.recycleAsyncId(he,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,Ae,k)=>{k.d(Ae,{v:()=>O});var f=k(6063);class Y{constructor(X,ge=Y.now){this.schedulerActionCtor=X,this.now=ge}schedule(X,ge=0,re){return new this.schedulerActionCtor(this,X).schedule(re,ge)}}Y.now=f.l.now;class O extends Y{constructor(X,ge=Y.now){super(X,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:ge}=this;if(this._active)return void ge.push(X);let re;this._active=!0;do{if(re=X.execute(X.state,X.delay))break}while(X=ge.shift());if(this._active=!1,re){for(;X=ge.shift();)X.unsubscribe();throw re}}}},4986:(lt,Ae,k)=>{k.d(Ae,{z:()=>O});var f=k(4408);const O=new(k(7565).v)(f.o)},6063:(lt,Ae,k)=>{k.d(Ae,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(lt,Ae,k)=>{k.d(Ae,{z:()=>f});const f={setTimeout(Y,O,...ue){const{delegate:X}=f;return(null==X?void 0:X.setTimeout)?X.setTimeout(Y,O,...ue):setTimeout(Y,O,...ue)},clearTimeout(Y){const{delegate:O}=f;return((null==O?void 0:O.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(lt,Ae,k)=>{k.d(Ae,{h:()=>Y});const Y=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,Ae,k)=>{k.d(Ae,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(lt,Ae,k)=>{k.d(Ae,{_6:()=>ge,jO:()=>ue,yG:()=>X});var f=k(576);function O(re){return re[re.length-1]}function ue(re){return(0,f.m)(O(re))?re.pop():void 0}function X(re){return function Y(re){return re&&(0,f.m)(re.schedule)}(O(re))?re.pop():void 0}function ge(re,he){return"number"==typeof O(re)?re.pop():he}},8737:(lt,Ae,k)=>{function f(Y,O){if(Y){const ue=Y.indexOf(O);0<=ue&&Y.splice(ue,1)}}k.d(Ae,{P:()=>f})},3888:(lt,Ae,k)=>{function f(Y){const ue=Y(X=>{Error.call(X),X.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}k.d(Ae,{d:()=>f})},2806:(lt,Ae,k)=>{k.d(Ae,{x:()=>O,O:()=>ue});var f=k(2416);let Y=null;function O(X){if(f.v.useDeprecatedSynchronousErrorHandling){const ge=!Y;if(ge&&(Y={errorThrown:!1,error:null}),X(),ge){const{errorThrown:re,error:he}=Y;if(Y=null,re)throw he}}else X()}function ue(X){f.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=X)}},9672:(lt,Ae,k)=>{function f(Y,O,ue,X=0,ge=!1){const re=O.schedule(function(){ue(),ge?Y.add(this.schedule(null,X)):this.unsubscribe()},X);if(Y.add(re),!ge)return re}k.d(Ae,{f:()=>f})},4671:(lt,Ae,k)=>{function f(Y){return Y}k.d(Ae,{y:()=>f})},1144:(lt,Ae,k)=>{k.d(Ae,{z:()=>f});const f=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(lt,Ae,k)=>{k.d(Ae,{D:()=>Y});var f=k(576);function Y(O){return Symbol.asyncIterator&&(0,f.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(lt,Ae,k)=>{function f(Y){return"function"==typeof Y}k.d(Ae,{m:()=>f})},3670:(lt,Ae,k)=>{k.d(Ae,{c:()=>O});var f=k(8822),Y=k(576);function O(ue){return(0,Y.m)(ue[f.L])}},6495:(lt,Ae,k)=>{k.d(Ae,{T:()=>O});var f=k(2202),Y=k(576);function O(ue){return(0,Y.m)(null==ue?void 0:ue[f.h])}},8239:(lt,Ae,k)=>{k.d(Ae,{t:()=>Y});var f=k(576);function Y(O){return(0,f.m)(null==O?void 0:O.then)}},3260:(lt,Ae,k)=>{k.d(Ae,{Q:()=>O,L:()=>ue});var f=k(655),Y=k(576);function O(X){return(0,f.FC)(this,arguments,function*(){const re=X.getReader();try{for(;;){const{value:he,done:ce}=yield(0,f.qq)(re.read());if(ce)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(he)}}finally{re.releaseLock()}})}function ue(X){return(0,Y.m)(null==X?void 0:X.getReader)}},4482:(lt,Ae,k)=>{k.d(Ae,{A:()=>Y,e:()=>O});var f=k(576);function Y(ue){return(0,f.m)(null==ue?void 0:ue.lift)}function O(ue){return X=>{if(Y(X))return X.lift(function(ge){try{return ue(ge,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(lt,Ae,k)=>{k.d(Ae,{h:()=>O});var f=k(2416),Y=k(3410);function O(ue){Y.z.setTimeout(()=>{const{onUnhandledError:X}=f.v;if(!X)throw ue;X(ue)})}},4532:(lt,Ae,k)=>{function f(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ae,{z:()=>f})},655:(lt,Ae,k)=>{function ue(W,ie){var me={};for(var se in W)Object.prototype.hasOwnProperty.call(W,se)&&ie.indexOf(se)<0&&(me[se]=W[se]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(se=Object.getOwnPropertySymbols(W);ke<se.length;ke++)ie.indexOf(se[ke])<0&&Object.prototype.propertyIsEnumerable.call(W,se[ke])&&(me[se[ke]]=W[se[ke]])}return me}function he(W,ie,me,se){return new(me||(me=Promise))(function(ae,Tt){function Xt(vt){try{ct(se.next(vt))}catch(cn){Tt(cn)}}function Nn(vt){try{ct(se.throw(vt))}catch(cn){Tt(cn)}}function ct(vt){vt.done?ae(vt.value):function ke(ae){return ae instanceof me?ae:new me(function(Tt){Tt(ae)})}(vt.value).then(Xt,Nn)}ct((se=se.apply(W,ie||[])).next())})}function fe(W){return this instanceof fe?(this.v=W,this):new fe(W)}function be(W,ie,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,se=me.apply(W,ie||[]),ae=[];return ke={},Tt("next"),Tt("throw"),Tt("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function Tt(dn){se[dn]&&(ke[dn]=function(Mi){return new Promise(function(on,us){ae.push([dn,Mi,on,us])>1||Xt(dn,Mi)})})}function Xt(dn,Mi){try{!function Nn(dn){dn.value instanceof fe?Promise.resolve(dn.value.v).then(ct,vt):cn(ae[0][2],dn)}(se[dn](Mi))}catch(on){cn(ae[0][3],on)}}function ct(dn){Xt("next",dn)}function vt(dn){Xt("throw",dn)}function cn(dn,Mi){dn(Mi),ae.shift(),ae.length&&Xt(ae[0][0],ae[0][1])}}function Ye(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,ie=W[Symbol.asyncIterator];return ie?ie.call(W):(W=function J(W){var ie="function"==typeof Symbol&&Symbol.iterator,me=ie&&W[ie],se=0;if(me)return me.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&se>=W.length&&(W=void 0),{value:W&&W[se++],done:!W}}};throw new TypeError(ie?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),me={},se("next"),se("throw"),se("return"),me[Symbol.asyncIterator]=function(){return this},me);function se(ae){me[ae]=W[ae]&&function(Tt){return new Promise(function(Xt,Nn){!function ke(ae,Tt,Xt,Nn){Promise.resolve(Nn).then(function(ct){ae({value:ct,done:Xt})},Tt)}(Xt,Nn,(Tt=W[ae](Tt)).done,Tt.value)})}}}k.d(Ae,{_T:()=>ue,mG:()=>he,qq:()=>fe,FC:()=>be,KL:()=>Ye})},5e3:(lt,Ae,k)=>{k.d(Ae,{deG:()=>eg,tb:()=>_0,AFp:()=>y0,ip1:()=>ph,CZH:()=>va,hGG:()=>Eh,z2F:()=>_p,sBO:()=>aD,Sil:()=>ny,_Vd:()=>ao,EJc:()=>Qb,SBq:()=>nl,qLn:()=>Rr,vpe:()=>Is,tBr:()=>Lr,XFs:()=>ht,OlP:()=>Sn,zs3:()=>ha,ZZ4:()=>tr,aQg:()=>ly,soG:()=>ty,YKP:()=>Qv,h0i:()=>ah,PXZ:()=>ul,R0b:()=>Bo,FiY:()=>pi,Lbi:()=>gh,g9A:()=>ey,Qsj:()=>dT,FYo:()=>Qf,JOm:()=>oe,tp0:()=>Mo,Rgc:()=>rl,dDg:()=>mp,q4F:()=>Zv,GfV:()=>bb,s_b:()=>up,ifc:()=>Wt,eFA:()=>nD,G48:()=>iD,Gpc:()=>H,X6Q:()=>Ep,_c5:()=>mD,VLi:()=>LT,c2e:()=>fp,zSh:()=>Kg,wAp:()=>bt,vHH:()=>Pe,cg1:()=>Iv,kL8:()=>Tv,dqk:()=>Ht,sIi:()=>Rf,CqO:()=>cv,QGY:()=>yc,F4k:()=>Mw,RDi:()=>ms,AaK:()=>he,qOj:()=>dw,TTD:()=>go,_Bn:()=>Pm,xp6:()=>b_,uIk:()=>Q_,Tol:()=>mv,ekj:()=>Wa,Suo:()=>$b,Xpm:()=>Vt,lG2:()=>Yt,Yz7:()=>on,cJS:()=>en,oAB:()=>Q,Yjl:()=>br,Y36:()=>Gd,_UZ:()=>lv,qZA:()=>um,TgZ:()=>am,EpF:()=>Sw,n5z:()=>id,LFG:()=>Je,$8M:()=>Io,$Z:()=>Tw,NdJ:()=>xw,CRH:()=>dp,kcU:()=>Fy,O4$:()=>Qc,oxw:()=>Lf,ALo:()=>n0,lcZ:()=>r0,Hsn:()=>kw,F$t:()=>Ow,Q6J:()=>av,VKq:()=>uh,iGM:()=>Ub,MAs:()=>Ew,Jf7:()=>yg,CHM:()=>Dl,LSH:()=>Uu,YNc:()=>vw,W1O:()=>Ym,_uU:()=>oo,hij:()=>pm});var f=k(7579),Y=k(727),O=k(8306),ue=k(6451),X=k(3099);function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=ge({__forward_ref__:ge});function H(s){return s.__forward_ref__=H,s.toString=function(){return he(this())},s}function J(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===H}class Pe extends Error{constructor(o,a){super(function Ve(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function _e(s,o){const a=o?` in ${o}`:"";throw new Pe(-201,`No provider for ${be(s)} found${a}`)}function ct(s,o){null==s&&function vt(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function on(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function en(s){return{providers:s.providers||[],imports:s.imports||[]}}function zt(s){return dr(s,Ki)||dr(s,ls)}function dr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Or(s){return s&&(s.hasOwnProperty(kr)||s.hasOwnProperty(cs))?s[kr]:null}const Ki=ge({\u0275prov:ge}),kr=ge({\u0275inj:ge}),ls=ge({ngInjectableDef:ge}),cs=ge({ngInjectorDef:ge});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Wr;function Qn(s){const o=Wr;return Wr=s,o}function ii(s,o,a){const l=zt(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ht.Optional?null:void 0!==o?o:void _e(he(s),"Injector")}function En(s){return{toString:s}.toString()}var ir=(()=>((ir=ir||{})[ir.OnPush=0]="OnPush",ir[ir.Default=1]="Default",ir))(),Wt=(()=>{return(s=Wt||(Wt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Wt;var s})();const at="undefined"!=typeof globalThis&&globalThis,Dt="undefined"!=typeof window&&window,hr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ht=at||"undefined"!=typeof global&&global||Dt||hr,fr={},ft=[],wr=ge({\u0275cmp:ge}),Ut=ge({\u0275dir:ge}),Qe=ge({\u0275pipe:ge}),Te=ge({\u0275mod:ge}),Xe=ge({\u0275fac:ge}),pt=ge({__NG_ELEMENT_ID__:ge});let jt=0;function Vt(s){return En(()=>{const a={},l={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ir.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ft,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Wt.Emulated,id:"c",styles:s.styles||ft,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,g=s.features,v=s.pipes;return l.id+=jt++,l.inputs=Et(s.inputs,a),l.outputs=Et(s.outputs),g&&g.forEach(w=>w(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(V):null,l.pipeDefs=v?()=>("function"==typeof v?v():v).map(q):null,l})}function V(s){return Kt(s)||function Tn(s){return s[Ut]||null}(s)}function q(s){return function Ot(s){return s[Qe]||null}(s)}const de={};function Q(s){return En(()=>{const o={type:s.type,bootstrap:s.bootstrap||ft,declarations:s.declarations||ft,imports:s.imports||ft,exports:s.exports||ft,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(de[s.id]=s.type),o})}function Et(s,o){if(null==s)return fr;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,o&&(o[d]=g)}return a}const Yt=Vt;function br(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Kt(s){return s[wr]||null}function pn(s,o){const a=s[Te]||null;if(!a&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return a}function Ri(s){return Array.isArray(s)&&"object"==typeof s[1]}function oi(s){return Array.isArray(s)&&!0===s[1]}function Vc(s){return 0!=(8&s.flags)}function Ls(s){return 2==(2&s.flags)}function hu(s){return 1==(1&s.flags)}function Kr(s){return null!==s.template}function kh(s){return 0!=(512&s[2])}function Zr(s,o){return s.hasOwnProperty(Xe)?s[Xe]:null}class zo{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function go(){return Sa}function Sa(s){return s.type.prototype.ngOnChanges&&(s.setInput=Qp),Hc}function Hc(){const s=Us(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===fr)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Qp(s,o,a,l){const d=Us(s)||function ai(s,o){return s[Dr]=o}(s,{previous:fr,current:null}),g=d.current||(d.current={}),v=d.previous,w=this.declaredInputs[a],D=v[w];g[w]=new zo(D&&D.currentValue,o,v===fr),s[l]=o}go.ngInherit=!0;const Dr="__ngSimpleChanges__";function Us(s){return s[Dr]||null}let Eu;function ms(s){Eu=s}function yn(s){return!!s.listen}const Wo={createRenderer:(s,o)=>function Ma(){return void 0!==Eu?Eu:"undefined"!=typeof document?document:void 0}()};function ln(s){for(;Array.isArray(s);)s=s[0];return s}function yo(s,o){return ln(o[s])}function Ir(s,o){return ln(o[s.index])}function xa(s,o){return s.data[o]}function Ni(s,o){return s[o]}function Tr(s,o){const a=o[s];return Ri(a)?a:a[0]}function $s(s){return 4==(4&s[2])}function ys(s){return 128==(128&s[2])}function Yr(s,o){return null==o?null:s[o]}function Hs(s){s[18]=0}function Gs(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const gt={lFrame:Eo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Iu(){return gt.bindingsEnabled}function Ce(){return gt.lFrame.lView}function Bt(){return gt.lFrame.tView}function Dl(s){return gt.lFrame.contextLView=s,s[8]}function wn(){let s=Ko();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ko(){return gt.lFrame.currentTNode}function Qr(s,o){const a=gt.lFrame;a.currentTNode=s,a.isParent=o}function Cl(){return gt.lFrame.isParent}function Il(){gt.lFrame.isParent=!1}function Tu(){return gt.isInCheckNoChangesMode}function qs(s){gt.isInCheckNoChangesMode=s}function mr(){const s=gt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function zs(){return gt.lFrame.bindingIndex++}function Oi(s){const o=gt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Mu(s,o){const a=gt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Na(o)}function Na(s){gt.lFrame.currentDirectiveIndex=s}function Ml(){return gt.lFrame.currentQueryIndex}function xl(s){gt.lFrame.currentQueryIndex=s}function Wc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Rl(s,o,a){if(a&ht.SkipSelf){let d=o,g=s;for(;!(d=d.parent,null!==d||a&ht.Host||(d=Wc(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,s=g}const l=gt.lFrame=Kc();return l.currentTNode=o,l.lView=s,!0}function vo(s){const o=Kc(),a=s[1];gt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Kc(){const s=gt.lFrame,o=null===s?null:s.child;return null===o?Eo(s):o}function Eo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Zc(){const s=gt.lFrame;return gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Yc=Zc;function wo(){const s=Zc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ar(){return gt.lFrame.selectedIndex}function Ks(s){gt.lFrame.selectedIndex=s}function An(){const s=gt.lFrame;return xa(s.tView,s.selectedIndex)}function Qc(){gt.lFrame.currentNamespace="svg"}function Fy(){!function Ol(){gt.lFrame.currentNamespace=null}()}function _s(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=s.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:x}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-a,v),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),D&&(s.viewHooks||(s.viewHooks=[])).push(-a,D),A&&((s.viewHooks||(s.viewHooks=[])).push(a,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,A)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(a,x)}}function Oa(s,o,a){Jc(s,o,3,a)}function xu(s,o,a,l){(3&s[2])===a&&Jc(s,o,a,l)}function Hn(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Jc(s,o,a,l){const g=null!=l?l:-1,v=o.length-1;let w=0;for(let D=void 0!==l?65535&s[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=l&&w>=l)break}else o[D]<0&&(s[18]+=65536),(w<g||-1==g)&&(Jp(s,a,o,D),s[18]=(4294901760&s[18])+D+2),D++}function Jp(s,o,a,l){const d=a[l]<0,g=a[l+1],w=s[d?-a[l]:a[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Yo{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function _t(s,o,a){const l=yn(s);let d=0;for(;d<a.length;){const g=a[d];if("number"==typeof g){if(0!==g)break;d++;const v=a[d++],w=a[d++],D=a[d++];l?s.setAttribute(o,w,D,v):o.setAttributeNS(v,w,D)}else{const v=g,w=a[++d];Jr(v)?l&&s.setProperty(o,v,w):l?s.setAttribute(o,v,w):o.setAttribute(v,w),d++}}return d}function ar(s){return 3===s||4===s||6===s}function Jr(s){return 64===s.charCodeAt(0)}function Pr(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Qo(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function Qo(s,o,a,l,d){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const w=s[g++];if("number"==typeof w){if(w===o){v=-1;break}if(w>o){v=g-1;break}}}for(;g<s.length;){const w=s[g];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(s[g+1]=d));if(l===s[g+1])return void(s[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,a),null!==l&&s.splice(g++,0,l),null!==d&&s.splice(g++,0,d)}function td(s){return-1!==s}function mn(s){return 32767&s}function ki(s,o){let a=function Bh(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let Ru=!0;function li(s){const o=Ru;return Ru=s,o}let Ll=0;function Gn(s,o){const a=Jo(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,Es(l.data,s),Es(o,null),Es(l.blueprint,null));const d=ci(s,o),g=s.injectorIndex;if(td(d)){const v=mn(d),w=ki(d,o),D=w[1].data;for(let A=0;A<8;A++)o[g+A]=w[v+A]|D[v+A]}return o[g+8]=d,g}function Es(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Jo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ci(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){const g=d[1],v=g.type;if(l=2===v?g.declTNode:1===v?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Zs(s,o,a){!function Do(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(pt)&&(l=a[pt]),null==l&&(l=a[pt]=Ll++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function Qi(s,o,a){if(a&ht.Optional)return s;_e(o,"NodeInjector")}function Vl(s,o,a,l){if(a&ht.Optional&&void 0===l&&(l=null),0==(a&(ht.Self|ht.Host))){const d=s[9],g=Qn(void 0);try{return d?d.get(o,l,a&ht.Optional):ii(o,l,a&ht.Optional)}finally{Qn(g)}}return Qi(l,o,a)}function Ys(s,o,a,l=ht.Default,d){if(null!==s){const g=function Xo(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(pt)?s[pt]:void 0;return"number"==typeof o?o>=0?255&o:Bl:o}(a);if("function"==typeof g){if(!Rl(o,s,l))return l&ht.Host?Qi(d,a,l):Vl(o,a,l,d);try{const v=g(l);if(null!=v||l&ht.Optional)return v;_e(a)}finally{Yc()}}else if("number"==typeof g){let v=null,w=Jo(s,o),D=-1,A=l&ht.Host?o[16][6]:null;for((-1===w||l&ht.SkipSelf)&&(D=-1===w?ci(s,o):o[w+8],-1!==D&&Fr(l,!1)?(v=o[1],w=mn(D),o=ki(D,o)):w=-1);-1!==w;){const x=o[1];if(ea(g,w,x.data)){const P=rd(w,o,a,v,l,A);if(P!==Ji)return P}D=o[w+8],-1!==D&&Fr(l,o[1].data[w+8]===A)&&ea(g,w,o)?(v=x,w=mn(D),o=ki(D,o)):w=-1}}}return Vl(o,a,l,d)}const Ji={};function Bl(){return new Fi(wn(),Ce())}function rd(s,o,a,l,d,g){const v=o[1],w=v.data[s+8],x=Co(w,v,a,null==l?Ls(w)&&Ru:l!=v&&0!=(3&w.type),d&ht.Host&&g===w);return null!==x?Pi(o,v,x,w):Ji}function Co(s,o,a,l,d){const g=s.providerIndexes,v=o.data,w=1048575&g,D=s.directiveStart,x=g>>20,U=d?w+x:s.directiveEnd;for(let Z=l?w:w+x;Z<U;Z++){const ye=v[Z];if(Z<D&&a===ye||Z>=D&&ye.type===a)return Z}if(d){const Z=v[D];if(Z&&Kr(Z)&&Z.type===a)return D}return null}function Pi(s,o,a,l){let d=s[a];const g=o.data;if(function Xc(s){return s instanceof Yo}(d)){const v=d;v.resolving&&function nt(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${s}${a}`)}(be(g[a]));const w=li(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Qn(v.injectImpl):null;Rl(s,l,ht.Default);try{d=s[a]=v.factory(void 0,g,s,l),o.firstCreatePass&&a>=l.directiveStart&&function kl(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const v=Sa(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,g))}(a,g[a],o)}finally{null!==D&&Qn(D),li(w),v.resolving=!1,Yc()}}return d}function ea(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Fr(s,o){return!(s&ht.Self||s&ht.Host&&o)}class Fi{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Ys(this._tNode,this._lView,o,l,a)}}function id(s){return En(()=>{const o=s.prototype.constructor,a=o[Xe]||Ln(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const g=d[Xe]||Ln(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function Ln(s){return ze(s)?()=>{const o=Ln(J(s));return o&&o()}:Zr(s)}function Io(s){return function di(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(ar(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(wn(),s)}const ta="__parameters__";function Cn(s,o,a){return En(()=>{const l=function es(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return w.annotation=v,w;function w(D,A,x){const P=D.hasOwnProperty(ta)?D[ta]:Object.defineProperty(D,ta,{value:[]})[ta];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(v),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Sn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=on({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const eg=new Sn("AnalyzeForEntryComponents");function Mr(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let l=s[a];Array.isArray(l)?(o===s&&(o=s.slice(0,a)),Mr(l,o)):o!==s&&o.push(l)}return o}function hi(s,o){s.forEach(a=>Array.isArray(a)?hi(a,o):o(a))}function $l(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function bs(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Vi(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}function Xn(s,o,a){let l=eo(s,o);return l>=0?s[1|l]=a:(l=~l,function Hl(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function zl(s,o){const a=eo(s,o);if(a>=0)return s[1|a]}function eo(s,o){return function To(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const g=l+(d-l>>1),v=s[g<<a];if(o===v)return g<<a;v>o?d=g:l=g+1}return~(d<<a)}(s,o,1)}const Ao={},ra="__NG_DI_FLAG__",Pu="ngTempTokenPath",I=/\n/gm,L="__source",K=ge({provide:String,useValue:ge});let ee;function xe(s){const o=ee;return ee=s,o}function Re(s,o=ht.Default){if(void 0===ee)throw new Pe(203,"");return null===ee?ii(s,void 0,o):ee.get(s,o&ht.Optional?null:void 0,o)}function Je(s,o=ht.Default){return(function rr(){return Wr}()||Re)(J(s),o)}const Pt=Je;function St(s){const o=[];for(let a=0;a<s.length;a++){const l=J(s[a]);if(Array.isArray(l)){if(0===l.length)throw new Pe(900,"");let d,g=ht.Default;for(let v=0;v<l.length;v++){const w=l[v],D=Mn(w);"number"==typeof D?-1===D?d=w.token:g|=D:d=w}o.push(Je(d,g))}else o.push(Je(l))}return o}function qn(s,o){return s[ra]=o,s.prototype[ra]=o,s}function Mn(s){return s[ra]}const Lr=qn(Cn("Inject",s=>({token:s})),-1),pi=qn(Cn("Optional"),8),Mo=qn(Cn("SkipSelf"),4);class pd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function to(s){return s instanceof pd?s.changingThisBreaksApplicationSecurity:s}const no=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var nn=(()=>((nn=nn||{})[nn.NONE=0]="NONE",nn[nn.HTML=1]="HTML",nn[nn.STYLE=2]="STYLE",nn[nn.SCRIPT=3]="SCRIPT",nn[nn.URL=4]="URL",nn[nn.RESOURCE_URL=5]="RESOURCE_URL",nn))();function Uu(s){const o=function ua(){const s=Ce();return s&&s[12]}();return o?o.sanitize(nn.URL,s)||"":function oa(s,o){const a=function Lu(s){return s instanceof pd&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(s,"URL")?to(s):function Vu(s){return(s=String(s)).match(no)||s.match(Wh)?s:"unsafe:"+s}(fe(s))}const rf="__ngContext__";function Vr(s,o){s[rf]=o}function sf(s){const o=function Va(s){return s[rf]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function ja(s){return s.ngOriginalError}function mg(s,...o){s.error(...o)}class Rr{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),l=function s_(s){return s&&s.ngErrorLogger||mg}(o);l(this._console,"ERROR",o),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&ja(o);for(;a&&ja(a);)a=ja(a);return a||null}}const l_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ht))();function yg(s){return s.ownerDocument.defaultView}function m(s){return s instanceof Function?s():s}var oe=(()=>((oe=oe||{})[oe.Important=1]="Important",oe[oe.DashCase=2]="DashCase",oe))();function et(s,o){return undefined(s,o)}function xn(s){const o=s[3];return oi(o)?o[3]:o}function ju(s){return ff(s[13])}function $u(s){return ff(s[4])}function ff(s){for(;null!==s&&!oi(s);)s=s[4];return s}function la(s,o,a,l,d){if(null!=l){let g,v=!1;oi(l)?g=l:Ri(l)&&(v=!0,l=l[0]);const w=ln(l);0===s&&null!==a?null==d?g_(o,a,w):Cs(o,a,w,d||null,!0):1===s&&null!==a?Cs(o,a,w,d||null,!0):2===s?function v_(s,o,a){const l=$a(s,o);l&&function bC(s,o,a,l){yn(s)?s.removeChild(o,a,l):o.removeChild(a)}(s,l,o,a)}(o,w,v):3===s&&o.destroyNode(w),null!=g&&function IC(s,o,a,l,d){const g=a[7];g!==ln(a)&&la(o,s,l,g,d);for(let w=10;w<a.length;w++){const D=a[w];bg(D[1],D,s,o,l,g)}}(o,s,g,a,d)}}function bd(s,o,a){if(yn(s))return s.createElement(o,a);{const l=null!==a?function vu(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?s.createElement(o):s.createElementNS(l,o)}}function pE(s,o){const a=s[9],l=a.indexOf(o),d=o[3];1024&o[2]&&(o[2]&=-1025,Gs(d,-1)),a.splice(l,1)}function h_(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const d=l[17];null!==d&&d!==s&&pE(d,l),o>0&&(s[a-1][4]=l[4]);const g=bs(s,10+o);!function $i(s,o){bg(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function f_(s,o){if(!(256&o[2])){const a=o[11];yn(a)&&a.destroyNode&&bg(s,o,a,3,null,null),function mf(s){let o=s[13];if(!o)return p_(s[1],s);for(;o;){let a=null;if(Ri(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)Ri(o)&&p_(o[1],o),o=o[3];null===o&&(o=s),Ri(o)&&p_(o[1],o),a=o&&o[4]}o=a}}(o)}}function p_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function mE(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof Yo)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const w=d[g[v]],D=g[v+1];try{D.call(w)}finally{}}else try{g.call(d)}finally{}}}}(s,o),function gE(s,o){const a=s.cleanup,l=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],w="function"==typeof v?v(o):ln(o[v]),D=l[d=a[g+2]],A=a[g+3];"boolean"==typeof A?w.removeEventListener(a[g],D,A):A>=0?l[d=A]():l[d=-A].unsubscribe(),g+=2}else{const v=l[d=a[g+1]];a[g].call(v)}if(null!==l){for(let g=d+1;g<l.length;g++)l[g]();o[7]=null}}(s,o),1===o[1].type&&yn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&oi(o[3])){a!==o[3]&&pE(a,o);const l=o[19];null!==l&&l.detachView(s)}}}function Eg(s,o,a){return function wC(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const d=s.data[l.directiveStart].encapsulation;if(d===Wt.None||d===Wt.Emulated)return null}return Ir(l,a)}(s,o.parent,a)}function Cs(s,o,a,l,d){yn(s)?s.insertBefore(o,a,l,d):o.insertBefore(a,l,d)}function g_(s,o,a){yn(s)?s.appendChild(o,a):o.appendChild(a)}function yE(s,o,a,l,d){null!==l?Cs(s,o,a,l,d):g_(s,o,a)}function $a(s,o){return yn(s)?s.parentNode(o):o.parentNode}function _E(s,o,a){return m_(s,o,a)}let m_=function vE(s,o,a){return 40&s.type?Ir(s,a):null};function wg(s,o,a,l){const d=Eg(s,l,o),g=o[11],w=_E(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)yE(g,d,a[D],w,!1);else yE(g,d,a,w,!1)}function Cd(s,o){if(null!==o){const a=o.type;if(3&a)return Ir(o,s);if(4&a)return __(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Cd(s,l);{const d=s[o.index];return oi(d)?__(-1,d):ln(d)}}if(32&a)return et(o,s)()||ln(s[o.index]);{const l=wE(s,o);return null!==l?Array.isArray(l)?l[0]:Cd(xn(s[16]),l):Cd(s,o.next)}}return null}function wE(s,o){return null!==o?s[16][6].projection[o.projection]:null}function __(s,o){const a=10+s+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return Cd(l,d)}return o[7]}function E_(s,o,a,l,d,g,v){for(;null!=a;){const w=l[a.index],D=a.type;if(v&&0===o&&(w&&Vr(ln(w),l),a.flags|=4),64!=(64&a.flags))if(8&D)E_(s,o,a.child,l,d,g,!1),la(o,s,d,w,g);else if(32&D){const A=et(a,l);let x;for(;x=A();)la(o,s,d,x,g);la(o,s,d,w,g)}else 16&D?bE(s,o,l,a,d,g):la(o,s,d,w,g);a=v?a.projectionNext:a.next}}function bg(s,o,a,l,d,g){E_(a,l,s.firstChild,o,d,g,!1)}function bE(s,o,a,l,d,g){const v=a[16],D=v[6].projection[l.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)la(o,s,d,D[A],g);else E_(s,o,D,v[3],d,g,!0)}function w_(s,o,a){yn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Dg(s,o,a){yn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function DE(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||s.charCodeAt(d+g)<=32)return d}a=d+1}}const Hu="ng-template";function ca(s,o,a){let l=0;for(;l<s.length;){let d=s[l++];if(a&&"class"===d){if(d=s[l],-1!==DE(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function CE(s){return 4===s.type&&s.value!==Hu}function IE(s,o,a){return o===(4!==s.type||a?s.value:Hu)}function SC(s,o,a){let l=4;const d=s.attrs||[],g=function TE(s){for(let o=0;o<s.length;o++)if(ar(s[o]))return o;return s.length}(d);let v=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!v)if(4&l){if(l=2|1&l,""!==D&&!IE(s,D,a)||""===D&&1===o.length){if(ko(l))return!1;v=!0}}else{const A=8&l?D:o[++w];if(8&l&&null!==s.attrs){if(!ca(s.attrs,A,a)){if(ko(l))return!1;v=!0}continue}const P=MC(8&l?"class":D,d,CE(s),a);if(-1===P){if(ko(l))return!1;v=!0;continue}if(""!==A){let U;U=P>g?"":d[P+1].toLowerCase();const Z=8&l?U:null;if(Z&&-1!==DE(Z,A,0)||2&l&&A!==U){if(ko(l))return!1;v=!0}}}}else{if(!v&&!ko(l)&&!ko(D))return!1;if(v&&ko(D))continue;v=!1,l=D|1&l}}return ko(l)||v}function ko(s){return 0==(1&s)}function MC(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let g=!1;for(;d<o.length;){const v=o[d];if(v===s)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function mi(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function yf(s,o,a=!1){for(let l=0;l<o.length;l++)if(SC(s,o[l],a))return!0;return!1}function qu(s,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(s.length===l.length){for(let d=0;d<s.length;d++)if(s[d]!==l[d])continue e;return!0}}return!1}function AE(s,o){return s?":not("+o.trim()+")":o}function TM(s){let o=s[0],a=1,l=2,d="",g=!1;for(;a<s.length;){let v=s[a];if("string"==typeof v)if(2&l){const w=s[++a];d+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!ko(v)&&(o+=AE(g,d),d=""),l=v,g=g||!ko(l);a++}return""!==d&&(o+=AE(g,d)),o}const Rt={};function b_(s){D_(Bt(),Ce(),Ar()+s,Tu())}function D_(s,o,a,l){if(!l)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&Oa(o,g,a)}else{const g=s.preOrderHooks;null!==g&&xu(o,g,0,a)}Ks(a)}function _f(s,o){return s<<17|o<<2}function ro(s){return s>>17&32767}function Cg(s){return 2|s}function da(s){return(131068&s)>>2}function Ig(s,o){return-131069&s|o<<2}function Tg(s){return 1|s}function x_(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if(-1!==g){const v=s.data[g];xl(d),v.contentQueries(2,o[g],g)}}}function bf(s,o,a,l,d,g,v,w,D,A){const x=o.blueprint.slice();return x[0]=d,x[2]=140|l,Hs(x),x[3]=x[15]=s,x[8]=a,x[10]=v||s&&s[10],x[11]=w||s&&s[11],x[12]=D||s&&s[12]||null,x[9]=A||s&&s[9]||null,x[6]=g,x[16]=2==o.type?s[16]:x,x}function Df(s,o,a,l,d){let g=s.data[o];if(null===g)g=function R_(s,o,a,l,d){const g=Ko(),v=Cl(),D=s.data[o]=function UE(s,o,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(s,o,a,l,d),function Al(){return gt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const v=function Zo(){const s=gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Qr(g,!0),g}function uc(s,o,a,l){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function kg(s,o,a){vo(o);try{const l=s.viewQuery;null!==l&&Tf(1,l,a);const d=s.template;null!==d&&N_(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&x_(s,o),s.staticViewQueries&&Tf(2,s.viewQuery,a);const g=s.components;null!==g&&function LE(s,o){for(let a=0;a<o.length;a++)zC(s,o[a])}(o,g)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,wo()}}function Ku(s,o,a,l){const d=o[2];if(256==(256&d))return;vo(o);const g=Tu();try{Hs(o),function Au(s){return gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&N_(s,o,a,2,l);const v=3==(3&d);if(!g)if(v){const A=s.preOrderCheckHooks;null!==A&&Oa(o,A,null)}else{const A=s.preOrderHooks;null!==A&&xu(o,A,0,null),Hn(o,0)}if(function zE(s){for(let o=ju(s);null!==o;o=$u(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l],g=d[3];0==(1024&d[2])&&Gs(g,1),d[2]|=1024}}}(o),function kM(s){for(let o=ju(s);null!==o;o=$u(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];ys(l)&&Ku(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&x_(s,o),!g)if(v){const A=s.contentCheckHooks;null!==A&&Oa(o,A)}else{const A=s.contentHooks;null!==A&&xu(o,A,1),Hn(o,1)}!function kC(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Ks(~d);else{const g=d,v=a[++l],w=a[++l];Mu(v,g),w(2,o[g])}}}finally{Ks(-1)}}(s,o);const w=s.components;null!==w&&function PC(s,o){for(let a=0;a<o.length;a++)qC(s,o[a])}(o,w);const D=s.viewQuery;if(null!==D&&Tf(2,D,l),!g)if(v){const A=s.viewCheckHooks;null!==A&&Oa(o,A)}else{const A=s.viewHooks;null!==A&&xu(o,A,2),Hn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Gs(o[3],-1))}finally{wo()}}function FC(s,o,a,l){const d=o[10],g=!Tu(),v=$s(o);try{g&&!v&&d.begin&&d.begin(),v&&kg(s,o,l),Ku(s,o,a,l)}finally{g&&!v&&d.end&&d.end()}}function N_(s,o,a,l,d){const g=Ar(),v=2&l;try{Ks(-1),v&&o.length>20&&D_(s,o,20,Tu()),a(l,d)}finally{Ks(g)}}function Cf(s,o,a){!Iu()||(function If(s,o,a,l){const d=a.directiveStart,g=a.directiveEnd;s.firstCreatePass||Gn(a,o),Vr(l,o);const v=a.initialInputs;for(let w=d;w<g;w++){const D=s.data[w],A=Kr(D);A&&$C(o,a,D);const x=Pi(o,s,w,a);Vr(x,o),null!==v&&V_(0,w-d,x,D,0,v),A&&(Tr(a.index,o)[8]=x)}}(s,o,a,Ir(a,o)),128==(128&a.flags)&&function P_(s,o,a){const l=a.directiveStart,d=a.directiveEnd,v=a.index,w=function Sl(){return gt.lFrame.currentDirectiveIndex}();try{Ks(v);for(let D=l;D<d;D++){const A=s.data[D],x=o[D];Na(D),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&F_(A,x)}}finally{Ks(-1),Na(w)}}(s,o,a))}function VE(s,o,a=Ir){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],w=-1===v?a(o,s):s[v];s[d++]=w}}}function Fg(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Zu(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Zu(s,o,a,l,d,g,v,w,D,A){const x=20+l,P=x+d,U=function Lg(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:Rt);return a}(x,P),Z="function"==typeof A?A():A;return U[1]={type:s,blueprint:U,template:a,queries:null,viewQuery:w,declTNode:o,data:U.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:Z,incompleteFirstPass:!1}}function Bg(s,o,a,l){const d=qg(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&YE(s).push(l,d.length-1))}function Ug(s,o,a){for(let l in s)if(s.hasOwnProperty(l)){const d=s[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,d):a[l]=[o,d]}return a}function cc(s,o,a,l){let d=!1;if(Iu()){const g=function RM(s,o,a){const l=s.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];yf(a,v.selectors,!1)&&(d||(d=[]),Zs(Gn(a,o),s,v.type),Kr(v)?(jC(s,a),d.unshift(v)):d.push(v))}return d}(s,o,a),v=null===l?null:{"":-1};if(null!==g){d=!0,GE(a,s.data.length,g.length);for(let x=0;x<g.length;x++){const P=g[x];P.providersResolver&&P.providersResolver(P)}let w=!1,D=!1,A=uc(s,o,g.length,null);for(let x=0;x<g.length;x++){const P=g[x];a.mergedAttrs=Pr(a.mergedAttrs,P.hostAttrs),L_(s,a,o,A,P),OM(A,P,v),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const U=P.type.prototype;!w&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),w=!0),!D&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),D=!0),A++}!function jE(s,o){const l=o.directiveEnd,d=s.data,g=o.attrs,v=[];let w=null,D=null;for(let A=o.directiveStart;A<l;A++){const x=d[A],P=x.inputs,U=null===g||CE(o)?null:HC(P,g);v.push(U),w=Ug(P,A,w),D=Ug(x.outputs,A,D)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=w,o.outputs=D}(s,a)}v&&function NM(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new Pe(-301,!1);l.push(o[d],g)}}}(a,l,v)}return a.mergedAttrs=Pr(a.mergedAttrs,a.attrs),d}function HE(s,o,a,l,d,g){const v=g.hostBindings;if(v){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const D=~o.index;(function UC(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(w)!=D&&w.push(D),w.push(l,d,v)}}function F_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function jC(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function OM(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Kr(o)&&(a[""]=s)}}function GE(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function L_(s,o,a,l,d){s.data[l]=d;const g=d.factory||(d.factory=Zr(d.type)),v=new Yo(g,Kr(d),null);s.blueprint[l]=v,a[l]=v,HE(s,o,0,l,uc(s,a,d.hostVars,Rt),d)}function $C(s,o,a){const l=Ir(o,s),d=Fg(a),g=s[10],v=xd(s,bf(s,d,null,a.onPush?64:16,l,o,g,g.createRenderer(l,a),null,null));s[o.index]=v}function Po(s,o,a,l,d,g){const v=Ir(s,o);!function Hg(s,o,a,l,d,g,v){if(null==g)yn(s)?s.removeAttribute(o,d,a):o.removeAttribute(d);else{const w=null==v?fe(g):v(g,l||"",d);yn(s)?s.setAttribute(o,d,w,a):a?o.setAttributeNS(a,d,w):o.setAttribute(d,w)}}(o[11],v,g,s.value,a,l,d)}function V_(s,o,a,l,d,g){const v=g[o];if(null!==v){const w=l.setInput;for(let D=0;D<v.length;){const A=v[D++],x=v[D++],P=v[D++];null!==w?l.setInput(a,P,A,x):a[x]=P}}}function HC(s,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,s[d],o[l+1])),l+=2}else l+=2;else l+=4}return a}function qE(s,o,a,l){return new Array(s,!0,!1,o,null,0,l,a,null,null)}function qC(s,o){const a=Tr(o,s);if(ys(a)){const l=a[1];80&a[2]?Ku(l,a,l.template,a[8]):a[5]>0&&Gg(a)}}function Gg(s){for(let l=ju(s);null!==l;l=$u(l))for(let d=10;d<l.length;d++){const g=l[d];if(1024&g[2]){const v=g[1];Ku(v,g,v.template,g[8])}else g[5]>0&&Gg(g)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Tr(a[l],s);ys(d)&&d[5]>0&&Gg(d)}}function zC(s,o){const a=Tr(o,s),l=a[1];(function WE(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),kg(l,a,a[8])}function xd(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function B_(s){for(;s;){s[2]|=64;const o=xn(s);if(kh(s)&&!o)return s;s=o}return null}function dc(s,o,a){const l=o[10];l.begin&&l.begin();try{Ku(s,o,s.template,a)}catch(d){throw QE(o,d),d}finally{l.end&&l.end()}}function ZE(s){!function U_(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],l=sf(a),d=l[1];FC(d,l,d.template,a)}}(s[8])}function Tf(s,o,a){xl(0),o(s,a)}const ZC=(()=>Promise.resolve(null))();function qg(s){return s[7]||(s[7]=[])}function YE(s){return s.cleanup||(s.cleanup=[])}function QE(s,o){const a=s[9],l=a?a.get(Rr,null):null;l&&l.handleError(o)}function zg(s,o,a,l,d){for(let g=0;g<a.length;){const v=a[g++],w=a[g++],D=o[v],A=s.data[v];null!==A.setInput?A.setInput(D,d,l,w):D[w]=d}}function Ga(s,o,a){const l=yo(o,s);!function wd(s,o,a){yn(s)?s.setValue(o,a):o.textContent=a}(s[11],l,a)}function Wg(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?g=w:1==g?d=ce(d,w):2==g&&(l=ce(l,w+": "+o[++v]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}const Af=new Sn("INJECTOR",-1);class XE{get(o,a=Ao){if(a===Ao){const l=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw l.name="NullInjectorError",l}return a}}const Kg=new Sn("Set Injector scope."),Sf={},ew={};let qa;function tw(){return void 0===qa&&(qa=new XE),qa}function H_(s,o=null,a=null,l){const d=nw(s,o,a,l);return d._resolveInjectorDefTypes(),d}function nw(s,o=null,a=null,l){return new rw(s,a,o||tw(),l)}class rw{constructor(o,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&hi(a,w=>this.processProvider(w,o,a)),hi([o],w=>this.processInjectorType(w,[],g)),this.records.set(Af,Rd(void 0,this));const v=this.records.get(Kg);this.scope=null!=v?v.value:null,this.source=d||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Ao,l=ht.Default){this.assertNotDestroyed();const d=xe(this),g=Qn(void 0);try{if(!(l&ht.SkipSelf)){let w=this.records.get(o);if(void 0===w){const D=function PM(s){return"function"==typeof s||"object"==typeof s&&s instanceof Sn}(o)&&zt(o);w=D&&this.injectableDefInScope(D)?Rd(G_(o),Sf):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&ht.Self?tw():this.parent).get(o,a=l&ht.Optional&&a===Ao?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Pu]=v[Pu]||[]).unshift(he(o)),d)throw v;return function ia(s,o,a,l){const d=s[Pu];throw o[L]&&d.unshift(o[L]),s.message=function So(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=he(o);if(Array.isArray(o))d=o.map(he).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let w=o[v];g.push(v+":"+("string"==typeof w?JSON.stringify(w):he(w)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(I,"\n  ")}`}("\n"+s.message,d,a,l),s.ngTokenPath=d,s[Pu]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Qn(g),xe(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,d)=>o.push(he(d))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processInjectorType(o,a,l){if(!(o=J(o)))return!1;let d=Or(o);const g=null==d&&o.ngModule||void 0,v=void 0===g?o:g,w=-1!==l.indexOf(v);if(void 0!==g&&(d=Or(g)),null==d)return!1;if(null!=d.imports&&!w){let x;l.push(v);try{hi(d.imports,P=>{this.processInjectorType(P,a,l)&&(void 0===x&&(x=[]),x.push(P))})}finally{}if(void 0!==x)for(let P=0;P<x.length;P++){const{ngModule:U,providers:Z}=x[P];hi(Z,ye=>this.processProvider(ye,U,Z||ft))}}this.injectorDefTypes.add(v);const D=Zr(v)||(()=>new v);this.records.set(v,Rd(D,Sf));const A=d.providers;if(null!=A&&!w){const x=o;hi(A,P=>this.processProvider(P,x,A))}return void 0!==g&&void 0!==o.providers}processProvider(o,a,l){let d=Nd(o=J(o))?o:J(o&&o.provide);const g=function Zg(s,o,a){return z_(s)?Rd(void 0,s.useValue):Rd(q_(s),Sf)}(o);if(Nd(o)||!0!==o.multi)this.records.get(d);else{let v=this.records.get(d);v||(v=Rd(void 0,Sf,!0),v.factory=()=>St(v.multi),this.records.set(d,v)),d=o,v.multi.push(o)}this.records.set(d,g)}hydrate(o,a){return a.value===Sf&&(a.value=ew,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ow(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=J(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function G_(s){const o=zt(s),a=null!==o?o.factory:Zr(s);if(null!==a)return a;if(s instanceof Sn)throw new Pe(204,!1);if(s instanceof Function)return function QC(s){const o=s.length;if(o>0)throw Vi(o,"?"),new Pe(204,!1);const a=function ri(s){const o=s&&(s[Ki]||s[ls]);if(o){const a=function Ns(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Pe(204,!1)}function q_(s,o,a){let l;if(Nd(s)){const d=J(s);return Zr(d)||G_(d)}if(z_(s))l=()=>J(s.useValue);else if(function iw(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...St(s.deps||[]));else if(function JC(s){return!(!s||!s.useExisting)}(s))l=()=>Je(J(s.useExisting));else{const d=J(s&&(s.useClass||s.provide));if(!function XC(s){return!!s.deps}(s))return Zr(d)||G_(d);l=()=>new d(...St(s.deps))}return l}function Rd(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function z_(s){return null!==s&&"object"==typeof s&&K in s}function Nd(s){return"function"==typeof s}let ha=(()=>{class s{static create(a,l){var d;if(Array.isArray(a))return H_({name:""},l,a,"");{const g=null!==(d=a.name)&&void 0!==d?d:"";return H_({name:g},a.parent,a.providers,g)}}}return s.THROW_IF_NOT_FOUND=Ao,s.NULL=new XE,s.\u0275prov=on({token:s,providedIn:"any",factory:()=>Je(Af)}),s.__NG_ELEMENT_ID__=-1,s})();function Yg(s,o){_s(sf(s)[1],wn())}function dw(s){let o=function Qg(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(Kr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Pe(903,"");d=o.\u0275dir}if(d){if(a){l.push(d);const v=s;v.inputs=Jg(s.inputs),v.declaredInputs=Jg(s.declaredInputs),v.outputs=Jg(s.outputs);const w=d.hostBindings;w&&hI(s,w);const D=d.viewQuery,A=d.contentQueries;if(D&&dI(s,D),A&&Mf(s,A),re(s.inputs,d.inputs),re(s.declaredInputs,d.declaredInputs),re(s.outputs,d.outputs),Kr(d)&&d.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const w=g[v];w&&w.ngInherit&&w(s),w===dw&&(a=!1)}}o=Object.getPrototypeOf(o)}!function za(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Pr(d.hostAttrs,a=Pr(a,d.hostAttrs))}}(l)}function Jg(s){return s===fr?{}:s===ft?[]:s}function dI(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function Mf(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,g)=>{o(l,d,g),a(l,d,g)}:o}function hI(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let xf=null;function Od(){if(!xf){const s=Ht.Symbol;if(s&&s.iterator)xf=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(xf=l)}}}return xf}function Rf(s){return!!fw(s)&&(Array.isArray(s)||!(s instanceof Map)&&Od()in s)}function fw(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function _i(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Q_(s,o,a,l){const d=Ce();return _i(d,zs(),o)&&(Bt(),Po(An(),d,s,o,a,l)),Q_}function vw(s,o,a,l,d,g,v,w){const D=Ce(),A=Bt(),x=s+20,P=A.firstCreatePass?function pI(s,o,a,l,d,g,v,w,D){const A=o.consts,x=Df(o,s,4,v||null,Yr(A,w));cc(o,a,x,Yr(A,D)),_s(o,x);const P=x.tViews=Zu(2,x,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,x),P.queries=o.queries.embeddedTView(x)),x}(x,A,D,o,a,l,d,g,v):A.data[x];Qr(P,!1);const U=D[11].createComment("");wg(A,D,U,P),Vr(U,D),xd(D,D[x]=qE(U,D,U,P)),hu(P)&&Cf(A,D,P),null!=v&&VE(D,P,w)}function Ew(s){return Ni(function Tl(){return gt.lFrame.contextLView}(),20+s)}function Gd(s,o=ht.Default){const a=Ce();return null===a?Je(s,o):Ys(wn(),a,J(s),o)}function Tw(){throw new Error("invalid")}function av(s,o,a){const l=Ce();return _i(l,zs(),o)&&function os(s,o,a,l,d,g,v,w){const D=Ir(o,a);let x,A=o.inputs;!w&&null!=A&&(x=A[l])?(zg(s,a,x,l,d),Ls(o)&&function O_(s,o){const a=Tr(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(l=function jg(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=v?v(d,o.value||"",l):d,yn(g)?g.setProperty(D,l,d):Jr(l)||(D.setProperty?D.setProperty(l,d):D[l]=d))}(Bt(),An(),l,s,o,l[11],a,!1),av}function uv(s,o,a,l,d){const v=d?"class":"style";zg(s,a,o.inputs[v],v,l)}function am(s,o,a,l){const d=Ce(),g=Bt(),v=20+s,w=d[11],D=d[v]=bd(w,o,function Ly(){return gt.lFrame.currentNamespace}()),A=g.firstCreatePass?function SI(s,o,a,l,d,g,v){const w=o.consts,A=Df(o,s,2,d,Yr(w,g));return cc(o,a,A,Yr(w,v)),null!==A.attrs&&Wg(A,A.attrs,!1),null!==A.mergedAttrs&&Wg(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(v,g,d,0,o,a,l):g.data[v];Qr(A,!0);const x=A.mergedAttrs;null!==x&&_t(w,D,x);const P=A.classes;null!==P&&Dg(w,D,P);const U=A.styles;return null!==U&&w_(w,D,U),64!=(64&A.flags)&&wg(g,d,D,A),0===function Ra(){return gt.lFrame.elementDepthCount}()&&Vr(D,d),function Du(){gt.lFrame.elementDepthCount++}(),hu(A)&&(Cf(g,d,A),function Pg(s,o,a){if(Vc(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,A,d)),null!==l&&VE(d,A),am}function um(){let s=wn();Cl()?Il():(s=s.parent,Qr(s,!1));const o=s;!function Cu(){gt.lFrame.elementDepthCount--}();const a=Bt();return a.firstCreatePass&&(_s(a,s),Vc(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Vh(s){return 0!=(16&s.flags)}(o)&&uv(a,o,Ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Xp(s){return 0!=(32&s.flags)}(o)&&uv(a,o,Ce(),o.stylesWithoutHost,!1),um}function lv(s,o,a,l){return am(s,o,a,l),um(),lv}function Sw(){return Ce()}function yc(s){return!!s&&"function"==typeof s.then}function Mw(s){return!!s&&"function"==typeof s.subscribe}const cv=Mw;function xw(s,o,a,l){const d=Ce(),g=Bt(),v=wn();return function Rw(s,o,a,l,d,g,v,w){const D=hu(l),x=s.firstCreatePass&&YE(s),P=o[8],U=qg(o);let Z=!0;if(3&l.type||w){const je=Ir(l,o),it=w?w(je):je,De=U.length,st=w?qt=>w(ln(qt[l.index])):l.index;if(yn(a)){let qt=null;if(!w&&D&&(qt=function cm(s,o,a,l){const d=s.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===l){const w=o[7],D=d[g+2];return w.length>D?w[D]:null}"string"==typeof v&&(g+=2)}return null}(s,o,d,l.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=g,qt.__ngLastListenerFn__=g,Z=!1;else{g=Nw(l,o,P,g,!1);const hn=a.listen(it,d,g);U.push(g,hn),x&&x.push(d,st,De,De+1)}}else g=Nw(l,o,P,g,!0),it.addEventListener(d,g,v),U.push(g),x&&x.push(d,st,De,v)}else g=Nw(l,o,P,g,!1);const ye=l.outputs;let Se;if(Z&&null!==ye&&(Se=ye[d])){const je=Se.length;if(je)for(let it=0;it<je;it+=2){const ni=o[Se[it]][Se[it+1]].subscribe(g),hl=U.length;U.push(g,ni),x&&x.push(d,l.index,hl,-(hl+1))}}}(g,d,d[11],v,s,o,!!a,l),xw}function Hi(s,o,a,l){try{return!1!==a(l)}catch(d){return QE(s,d),!1}}function Nw(s,o,a,l,d){return function g(v){if(v===Function)return l;const w=2&s.flags?Tr(s.index,o):o;0==(32&o[2])&&B_(w);let D=Hi(o,0,l,v),A=g.__ngNextListenerFn__;for(;A;)D=Hi(o,0,A,v)&&D,A=A.__ngNextListenerFn__;return d&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Lf(s=1){return function Ws(s){return(gt.lFrame.contextLView=function Nl(s,o){for(;s>0;)o=o[15],s--;return o}(s,gt.lFrame.contextLView))[8]}(s)}function hv(s,o){let a=null;const l=function Gu(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const g=o[d];if("*"!==g){if(null===l?yf(s,g,!0):qu(l,g))return d}else a=d}return a}function Ow(s){const o=Ce()[16][6];if(!o.projection){const l=o.projection=Vi(s?s.length:1,null),d=l.slice();let g=o.child;for(;null!==g;){const v=s?hv(g,s):0;null!==v&&(d[v]?d[v].projectionNext=g:l[v]=g,d[v]=g),g=g.next}}}function kw(s,o=0,a){const l=Ce(),d=Bt(),g=Df(d,20+s,16,null,a||null);null===g.projection&&(g.projection=o),Il(),64!=(64&g.flags)&&function CC(s,o,a){bE(o[11],0,o,a,Eg(s,a,o),_E(a.parent||o[6],a,o))}(d,l,g)}function pv(s,o,a,l,d){const g=s[a+1],v=null===o;let w=l?ro(g):da(g),D=!1;for(;0!==w&&(!1===D||v);){const x=s[w+1];hm(s[w],o)&&(D=!0,s[w+1]=l?Tg(x):Cg(x)),w=l?ro(x):da(x)}D&&(s[a+1]=l?Cg(g):Tg(g))}function hm(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&eo(s,o)>=0}const Br={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OI(s){return s.substring(Br.key,Br.keyEnd)}function kI(s,o){const a=Br.textEnd;return a===o?-1:(o=Br.keyEnd=function Bf(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Br.key=o,a),_c(s,o,a))}function _c(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Wa(s,o){return function Lo(s,o,a,l){const d=Ce(),g=Bt(),v=Oi(2);g.firstUpdatePass&&jw(g,s,v,l),o!==Rt&&_i(d,v,o)&&Hw(g,g.data[Ar()],d,d[11],s,d[v+1]=function qI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(to(s)))),s}(o,a),l,v)}(s,o,null,!0),Wa}function mv(s){!function Vo(s,o,a,l){const d=Bt(),g=Oi(2);d.firstUpdatePass&&jw(d,null,g,l);const v=Ce();if(a!==Rt&&_i(v,g,a)){const w=d.data[Ar()];if(Gw(w,l)&&!Uw(d,g)){let D=l?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(a=ce(D,a||"")),uv(d,w,v,a,l)}else!function GI(s,o,a,l,d,g,v,w){d===Rt&&(d=ft);let D=0,A=0,x=0<d.length?d[0]:null,P=0<g.length?g[0]:null;for(;null!==x||null!==P;){const U=D<d.length?d[D+1]:void 0,Z=A<g.length?g[A+1]:void 0;let Se,ye=null;x===P?(D+=2,A+=2,U!==Z&&(ye=P,Se=Z)):null===P||null!==x&&x<P?(D+=2,ye=x):(A+=2,ye=P,Se=Z),null!==ye&&Hw(s,o,a,l,ye,Se,v,w),x=D<d.length?d[D]:null,P=A<g.length?g[A]:null}}(d,w,v,v[11],v[g+1],v[g+1]=function HI(s,o,a){if(null==a||""===a)return ft;const l=[],d=to(a);if(Array.isArray(d))for(let g=0;g<d.length;g++)s(l,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&s(l,g,d[g]);else"string"==typeof d&&o(l,d);return l}(s,o,a),l,g)}}(Xn,ma,s,!0)}function ma(s,o){for(let a=function ZM(s){return function FI(s){Br.key=0,Br.keyEnd=0,Br.value=0,Br.valueEnd=0,Br.textEnd=s.length}(s),kI(s,_c(s,0,Br.textEnd))}(o);a>=0;a=kI(o,a))Xn(s,OI(o),!0)}function Uw(s,o){return o>=s.expandoStartIndex}function jw(s,o,a,l){const d=s.data;if(null===d[a+1]){const g=d[Ar()],v=Uw(s,a);Gw(g,l)&&null===o&&!v&&(o=!1),o=function BI(s,o,a,l){const d=function _o(s){const o=gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=Wd(a=yv(null,s,o,a,l),o.attrs,l),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==d)if(a=yv(d,s,o,a,l),null===g){let D=function UI(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==da(l))return s[ro(l)]}(s,o,l);void 0!==D&&Array.isArray(D)&&(D=yv(null,s,o,D[1],l),D=Wd(D,o.attrs,l),function jI(s,o,a,l){s[ro(a?o.classBindings:o.styleBindings)]=l}(s,o,l,D))}else g=function $I(s,o,a){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=Wd(l,s[g].hostAttrs,a);return Wd(l,o.attrs,a)}(s,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,l),function NI(s,o,a,l,d,g){let v=g?o.classBindings:o.styleBindings,w=ro(v),D=da(v);s[l]=a;let x,A=!1;if(Array.isArray(a)){const P=a;x=P[1],(null===x||eo(P,x)>0)&&(A=!0)}else x=a;if(d)if(0!==D){const U=ro(s[w+1]);s[l+1]=_f(U,w),0!==U&&(s[U+1]=Ig(s[U+1],l)),s[w+1]=function xE(s,o){return 131071&s|o<<17}(s[w+1],l)}else s[l+1]=_f(w,0),0!==w&&(s[w+1]=Ig(s[w+1],l)),w=l;else s[l+1]=_f(D,0),0===w?w=l:s[D+1]=Ig(s[D+1],l),D=l;A&&(s[l+1]=Cg(s[l+1])),pv(s,x,l,!0),pv(s,x,l,!1),function WM(s,o,a,l,d){const g=d?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&eo(g,o)>=0&&(a[l+1]=Tg(a[l+1]))}(o,x,s,l,g),v=_f(w,D),g?o.classBindings=v:o.styleBindings=v}(d,g,o,a,v,l)}}function yv(s,o,a,l,d){let g=null;const v=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<v&&(g=o[w],l=Wd(l,g.hostAttrs,d),g!==s);)w++;return null!==s&&(a.directiveStylingLast=w),l}function Wd(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Xn(s,v,!!a||o[++g]))}return void 0===s?null:s}function Hw(s,o,a,l,d,g,v,w){if(!(3&o.type))return;const D=s.data,A=D[w+1];Kd(function RE(s){return 1==(1&s)}(A)?Ur(D,o,a,d,da(A),v):void 0)||(Kd(g)||function vf(s){return 2==(2&s)}(A)&&(g=Ur(D,null,a,d,w,v)),function TC(s,o,a,l,d){const g=yn(s);if(o)d?g?s.addClass(a,l):a.classList.add(l):g?s.removeClass(a,l):a.classList.remove(l);else{let v=-1===l.indexOf("-")?void 0:oe.DashCase;if(null==d)g?s.removeStyle(a,l,v):a.style.removeProperty(l);else{const w="string"==typeof d&&d.endsWith("!important");w&&(d=d.slice(0,-10),v|=oe.Important),g?s.setStyle(a,l,d,v):a.style.setProperty(l,d,w?"important":"")}}}(l,v,yo(Ar(),a),d,g))}function Ur(s,o,a,l,d,g){const v=null===o;let w;for(;d>0;){const D=s[d],A=Array.isArray(D),x=A?D[1]:D,P=null===x;let U=a[d+1];U===Rt&&(U=P?ft:void 0);let Z=P?zl(U,l):x===l?U:void 0;if(A&&!Kd(Z)&&(Z=zl(D,l)),Kd(Z)&&(w=Z,v))return w;const ye=s[d+1];d=v?ro(ye):da(ye)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(w=zl(D,l))}return w}function Kd(s){return void 0!==s}function Gw(s,o){return 0!=(s.flags&(o?16:32))}function oo(s,o=""){const a=Ce(),l=Bt(),d=s+20,g=l.firstCreatePass?Df(l,d,1,o,null):l.data[d],v=a[d]=function Ed(s,o){return yn(s)?s.createText(o):s.createTextNode(o)}(a[11],o);wg(l,a,v,g),Qr(g,!1)}function pm(s,o,a){const l=Ce(),d=function fc(s,o,a,l){return _i(s,zs(),a)?o+fe(a)+l:Rt}(l,s,o,a);return d!==Rt&&Ga(l,Ar(),d),pm}const Ju=void 0;var Yw=["en",[["a","p"],["AM","PM"],Ju],[["AM","PM"],Ju,Ju],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ju,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ju,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ju,"{1} 'at' {0}",Ju],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Zw(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Xu={};function Iv(s){const o=function Qw(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=Em(o);if(a)return a;const l=o.split("-")[0];if(a=Em(l),a)return a;if("en"===l)return Yw;throw new Error(`Missing locale data for the locale "${s}".`)}function Tv(s){return Iv(s)[bt.PluralCase]}function Em(s){return s in Xu||(Xu[s]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[s]),Xu[s]}var bt=(()=>((bt=bt||{})[bt.LocaleId=0]="LocaleId",bt[bt.DayPeriodsFormat=1]="DayPeriodsFormat",bt[bt.DayPeriodsStandalone=2]="DayPeriodsStandalone",bt[bt.DaysFormat=3]="DaysFormat",bt[bt.DaysStandalone=4]="DaysStandalone",bt[bt.MonthsFormat=5]="MonthsFormat",bt[bt.MonthsStandalone=6]="MonthsStandalone",bt[bt.Eras=7]="Eras",bt[bt.FirstDayOfWeek=8]="FirstDayOfWeek",bt[bt.WeekendRange=9]="WeekendRange",bt[bt.DateFormat=10]="DateFormat",bt[bt.TimeFormat=11]="TimeFormat",bt[bt.DateTimeFormat=12]="DateTimeFormat",bt[bt.NumberSymbols=13]="NumberSymbols",bt[bt.NumberFormats=14]="NumberFormats",bt[bt.CurrencyCode=15]="CurrencyCode",bt[bt.CurrencySymbol=16]="CurrencySymbol",bt[bt.CurrencyName=17]="CurrencyName",bt[bt.Currencies=18]="Currencies",bt[bt.Directionality=19]="Directionality",bt[bt.PluralCase=20]="PluralCase",bt[bt.ExtraData=21]="ExtraData",bt))();const Zd="en-US";let Jw=Zd;function zv(s,o,a,l,d){if(s=J(s),Array.isArray(s))for(let g=0;g<s.length;g++)zv(s[g],o,a,l,d);else{const g=Bt(),v=Ce();let w=Nd(s)?s:J(s.provide),D=q_(s);const A=wn(),x=1048575&A.providerIndexes,P=A.directiveStart,U=A.providerIndexes>>20;if(Nd(s)||!s.multi){const Z=new Yo(D,d,Gd),ye=rh(w,o,d?x:x+U,P);-1===ye?(Zs(Gn(A,v),g,w),wc(g,s,o.length),o.push(w),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(Z),v.push(Z)):(a[ye]=Z,v[ye]=Z)}else{const Z=rh(w,o,x+U,P),ye=rh(w,o,x,x+U),Se=Z>=0&&a[Z],je=ye>=0&&a[ye];if(d&&!je||!d&&!Se){Zs(Gn(A,v),g,w);const it=function cT(s,o,a,l,d){const g=new Yo(s,a,Gd);return g.multi=[],g.index=o,g.componentProviders=0,Wv(g,d,l&&!a),g}(d?bc:Zf,a.length,d,l,D);!d&&je&&(a[ye].providerFactory=it),wc(g,s,o.length,0),o.push(w),A.directiveStart++,A.directiveEnd++,d&&(A.providerIndexes+=1048576),a.push(it),v.push(it)}else wc(g,s,Z>-1?Z:ye,Wv(a[d?ye:Z],D,!d&&l));!d&&l&&je&&a[ye].componentProviders++}}}function wc(s,o,a,l){const d=Nd(o),g=function sw(s){return!!s.useClass}(o);if(d||g){const D=(g?J(o.useClass):o).prototype.ngOnDestroy;if(D){const A=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const x=A.indexOf(a);-1===x?A.push(a,[l,D]):A[x+1].push(l,D)}else A.push(a,D)}}}function Wv(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function rh(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function Zf(s,o,a,l){return Yf(this.multi,[])}function bc(s,o,a,l){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Pi(a,a[1],this.providerFactory.index,l);g=w.slice(0,v),Yf(d,g);for(let D=v;D<w.length;D++)g.push(w[D])}else g=[],Yf(d,g);return g}function Yf(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Pm(s,o=[]){return a=>{a.providersResolver=(l,d)=>function Eb(s,o,a){const l=Bt();if(l.firstCreatePass){const d=Kr(s);zv(a,l.data,l.blueprint,d,!0),zv(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class Fm{}class Cc{resolveComponentFactory(o){throw function Dc(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let ao=(()=>{class s{}return s.NULL=new Cc,s})();function Lm(){return Ya(wn(),Ce())}function Ya(s,o){return new nl(Ir(s,o))}let nl=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Lm,s})();function wb(s){return s instanceof nl?s.nativeElement:s}class Qf{}let dT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Jf(){const s=Ce(),a=Tr(wn().index,s);return function hT(s){return s[11]}(Ri(a)?a:s)}(),s})(),Xf=(()=>{class s{}return s.\u0275prov=on({token:s,providedIn:"root",factory:()=>null}),s})();class bb{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Zv=new bb("13.2.7"),Yv={};function Vm(s,o,a,l,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(ln(g)),oi(g))for(let w=10;w<g.length;w++){const D=g[w],A=D[1].firstChild;null!==A&&Vm(D[1],D,A,l)}const v=a.type;if(8&v)Vm(s,o,a.child,l);else if(32&v){const w=et(a,o);let D;for(;D=w();)l.push(D)}else if(16&v){const w=wE(o,a);if(Array.isArray(w))l.push(...w);else{const D=xn(o[16]);Vm(D[1],D,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class ep{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Vm(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(oi(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(h_(o,l),bs(a,l))}this._attachedToViewContainer=!1}f_(this._lView[1],this._lView)}onDestroy(o){Bg(this._lView[1],this._lView,null,o)}markForCheck(){B_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){dc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function j_(s,o,a){qs(!0);try{dc(s,o,a)}finally{qs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vg(s,o){bg(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Pe(902,"");this._appRef=o}}class fT extends ep{constructor(o){super(o),this._view=o}detectChanges(){ZE(this._view)}checkNoChanges(){!function WC(s){qs(!0);try{ZE(s)}finally{qs(!1)}}(this._view)}get context(){return null}}class sh extends ao{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Kt(o);return new Bm(a,this.ngModule)}}function Qa(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Bm extends Fm{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function SE(s){return s.map(TM).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Qa(this.componentDef.inputs)}get outputs(){return Qa(this.componentDef.outputs)}create(o,a,l,d){const g=(d=d||this.ngModule)?function Cb(s,o){return{get:(a,l,d)=>{const g=s.get(a,Yv,d);return g!==Yv||l===Yv?g:o.get(a,l,d)}}}(o,d.injector):o,v=g.get(Qf,Wo),w=g.get(Xf,null),D=v.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=l?function BE(s,o,a){if(yn(s))return s.selectRootElement(o,a===Wt.ShadowDom);let l="string"==typeof o?s.querySelector(o):o;return l.textContent="",l}(D,l,this.componentDef.encapsulation):bd(v.createRenderer(null,this.componentDef),A,function Db(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),P=this.componentDef.onPush?576:528,U=function cI(s,o){return{components:[],scheduler:s||l_,clean:ZC,playerHandler:o||null,flags:0}}(),Z=Zu(0,null,null,1,0,null,null,null,null,null),ye=bf(null,Z,U,P,null,null,v,D,w,g);let Se,je;vo(ye);try{const it=function uI(s,o,a,l,d,g){const v=a[1];a[20]=s;const D=Df(v,20,2,"#host",null),A=D.mergedAttrs=o.hostAttrs;null!==A&&(Wg(D,A,!0),null!==s&&(_t(d,s,A),null!==D.classes&&Dg(d,s,D.classes),null!==D.styles&&w_(d,s,D.styles)));const x=l.createRenderer(s,o),P=bf(a,Fg(o),null,o.onPush?64:16,a[20],D,l,x,g||null,null);return v.firstCreatePass&&(Zs(Gn(D,a),v,o.type),jC(v,D),GE(D,a.length,1)),xd(a,P),a[20]=P}(x,this.componentDef,ye,v,D);if(x)if(l)_t(D,x,["ng-version",Zv.full]);else{const{attrs:De,classes:st}=function ME(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let g=s[l];if("string"==typeof g)2===d?""!==g&&o.push(g,s[++l]):8===d&&a.push(g);else{if(!ko(d))break;d=g}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);De&&_t(D,x,De),st&&st.length>0&&Dg(D,x,st.join(" "))}if(je=xa(Z,20),void 0!==a){const De=je.projection=[];for(let st=0;st<this.ngContentSelectors.length;st++){const qt=a[st];De.push(null!=qt?Array.from(qt):null)}}Se=function lI(s,o,a,l,d){const g=a[1],v=function $g(s,o,a){const l=wn();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),L_(s,l,o,uc(s,o,1,null),a));const d=Pi(o,s,l.directiveStart,l);Vr(d,o);const g=Ir(l,o);return g&&Vr(g,o),d}(g,a,o);if(l.components.push(v),s[8]=v,d&&d.forEach(D=>D(v,o)),o.contentQueries){const D=wn();o.contentQueries(1,v,D.directiveStart)}const w=wn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ks(w.index),HE(a[1],w,0,w.directiveStart,w.directiveEnd,o),F_(o,v)),v}(it,this.componentDef,ye,U,[Yg]),kg(Z,ye,null)}finally{wo()}return new pT(this.componentType,Se,Ya(je,ye),ye,je)}}class pT extends class ih{}{constructor(o,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new fT(d),this.componentType=o}get injector(){return new Fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class ah{}class Qv{}const Ic=new Map;class Sb extends ah{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new sh(this);const l=pn(o);this._bootstrapComponents=m(l.bootstrap),this._r3Injector=nw(o,a,[{provide:ah,useValue:this},{provide:ao,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=ha.THROW_IF_NOT_FOUND,l=ht.Default){return o===ha||o===ah||o===Af?this:this._r3Injector.get(o,a,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Jv extends Qv{constructor(o){super(),this.moduleType=o,null!==pn(o)&&function Ab(s){const o=new Set;!function a(l){const d=pn(l,!0),g=d.id;null!==g&&(function Um(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(g,Ic.get(g),l),Ic.set(g,l));const v=m(d.imports);for(const w of v)o.has(w)||(o.add(w),a(w))}(s)}(o)}create(o){return new Sb(this.moduleType,o)}}function uh(s,o,a,l){return Rb(Ce(),mr(),s,o,a,l)}function Rb(s,o,a,l,d,g){const v=o+a;return _i(s,v,d)?function Fo(s,o,a){return s[o]=a}(s,v+1,g?l.call(g,d):l(d)):function rp(s,o){const a=s[o];return a===Rt?void 0:a}(s,v+1)}function n0(s,o){const a=Bt();let l;const d=s+20;a.firstCreatePass?(l=function Gm(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const g=l.factory||(l.factory=Zr(l.type)),v=Qn(Gd);try{const w=li(!1),D=g();return li(w),function gI(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,Ce(),d,D),D}finally{Qn(v)}}function r0(s,o,a){const l=s+20,d=Ce(),g=Ni(d,l);return function Xa(s,o){return s[1].data[o].pure}(d,l)?Rb(d,mr(),o,g.transform,a,g):g.transform(a)}function ip(s){return o=>{setTimeout(s,void 0,o)}}const Is=class Pb extends f.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){var d,g,v;let w=o,D=a||(()=>null),A=l;if(o&&"object"==typeof o){const P=o;w=null===(d=P.next)||void 0===d?void 0:d.bind(P),D=null===(g=P.error)||void 0===g?void 0:g.bind(P),A=null===(v=P.complete)||void 0===v?void 0:v.bind(P)}this.__isAsync&&(D=ip(D),w&&(w=ip(w)),A&&(A=ip(A)));const x=super.subscribe({next:w,error:D,complete:A});return o instanceof Y.w0&&o.add(x),x}};function Fb(){return this._results[Od()]()}class sp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Od(),l=sp.prototype;l[a]||(l[a]=Fb)}get changes(){return this._changes||(this._changes=new Is)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=Mr(o);(this._changesDetected=!function jl(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],g=o[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let rl=(()=>{class s{}return s.__NG_ELEMENT_ID__=op,s})();const _T=rl,Lb=class extends _T{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o){const a=this._declarationTContainer.tViews,l=bf(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),kg(a,l,o),new ep(l)}};function op(){return ap(wn(),Ce())}function ap(s,o){return 4&s.type?new Lb(o,s,Ya(s,o)):null}let up=(()=>{class s{}return s.__NG_ELEMENT_ID__=o0,s})();function o0(){return l0(wn(),Ce())}const a0=up,u0=class extends a0{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Ya(this._hostTNode,this._hostLView)}get injector(){return new Fi(this._hostTNode,this._hostLView)}get parentInjector(){const o=ci(this._hostTNode,this._hostLView);if(td(o)){const a=ki(o,this._hostLView),l=mn(o);return new Fi(a[1].data[l+8],a)}return new Fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=lp(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){const d=o.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(o,a,l,d,g){const v=o&&!function na(s){return"function"==typeof s}(o);let w;if(v)w=a;else{const P=a||{};w=P.index,l=P.injector,d=P.projectableNodes,g=P.ngModuleRef}const D=v?o:new Bm(Kt(o)),A=l||this.parentInjector;if(!g&&null==D.ngModule){const U=(v?A:this.parentInjector).get(ah,null);U&&(g=U)}const x=D.create(A,d,void 0,g);return this.insert(x.hostView,w),x}insert(o,a){const l=o._lView,d=l[1];if(function wu(s){return oi(s[3])}(l)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const P=l[3],U=new u0(P,P[6],P[3]);U.detach(U.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function d_(s,o,a,l){const d=10+l,g=a.length;l>0&&(a[d-1][4]=o),l<g-10?(o[4]=a[d],$l(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function Dd(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(v,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(d,l,v,g);const w=__(g,v),D=l[11],A=$a(D,v[7]);return null!==A&&function gf(s,o,a,l,d,g){l[0]=d,l[6]=o,bg(s,l,a,1,d,g)}(d,v[6],D,l,A,w),o.attachToViewContainerRef(),$l(qm(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=lp(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=h_(this._lContainer,a);l&&(bs(qm(this._lContainer),a),f_(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=h_(this._lContainer,a);return l&&null!=bs(qm(this._lContainer),a)?new ep(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function lp(s){return s[8]}function qm(s){return s[8]||(s[8]=[])}function l0(s,o){let a;const l=o[s.index];if(oi(l))a=l;else{let d;if(8&s.type)d=ln(l);else{const g=o[11];d=g.createComment("");const v=Ir(s,o);Cs(g,$a(g,v),d,function DC(s,o){return yn(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=a=qE(l,o,d,s),xd(o,a)}return new u0(a,s,o)}class zm{constructor(o){this.queryList=o,this.matches=null}clone(){return new zm(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new Wm(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==eu(o,a).matches&&this.queries[a].setDirty()}}class cp{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class qi{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new qi(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Km{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Km(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,a,Bb(a,g)),this.matchTNodeWithReadOption(o,a,Co(a,o,g,!1,!1))}else l===rl?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Co(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===nl||d===up||d===rl&&4&a.type)this.addMatch(a.index,-2);else{const g=Co(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Bb(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function ET(s,o,a,l){return-1===a?function lh(s,o){return 11&s.type?Ya(s,o):4&s.type?ap(s,o):null}(o,s):-2===a?function wT(s,o,a){return a===nl?Ya(o,s):a===rl?ap(o,s):a===up?l0(o,s):void 0}(s,o,l):Pi(s,s[1],a,o)}function Zm(s,o,a,l){const d=o[19].queries[l];if(null===d.matches){const g=s.data,v=a.matches,w=[];for(let D=0;D<v.length;D+=2){const A=v[D];w.push(A<0?null:ET(o,g[A],v[D+1],a.metadata.read))}d.matches=w}return d.matches}function c0(s,o,a,l){const d=s.queries.getByIndex(a),g=d.matches;if(null!==g){const v=Zm(s,o,d,a);for(let w=0;w<g.length;w+=2){const D=g[w];if(D>0)l.push(v[w/2]);else{const A=g[w+1],x=o[-D];for(let P=10;P<x.length;P++){const U=x[P];U[17]===U[3]&&c0(U[1],U,A,l)}if(null!==x[9]){const P=x[9];for(let U=0;U<P.length;U++){const Z=P[U];c0(Z[1],Z,A,l)}}}}}return l}function Ub(s){const o=Ce(),a=Bt(),l=Ml();xl(l+1);const d=eu(a,l);if(s.dirty&&$s(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const g=d.crossesNgTemplate?c0(a,o,l,[]):Zm(a,o,d,l);s.reset(g,wb),s.notifyOnChanges()}return!0}return!1}function $b(s,o,a,l){const d=Bt();if(d.firstCreatePass){const g=wn();(function $r(s,o,a){null===s.queries&&(s.queries=new qi),s.queries.track(new Km(o,a))})(d,new cp(o,a,l),g.index),function ch(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}!function d0(s,o,a){const l=new sp(4==(4&a));Bg(s,o,l,l.destroy),null===o[19]&&(o[19]=new Wm),o[19].queries.push(new zm(l))}(d,Ce(),a)}function dp(){return function bT(s,o){return s[19].queries[o].queryList}(Ce(),Ml())}function eu(s,o){return s.queries.getByIndex(o)}function Ym(s,o){return ap(s,o)}function _a(...s){}const ph=new Sn("Application Initializer");let va=(()=>{class s{constructor(a){this.appInits=a,this.resolve=_a,this.reject=_a,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(yc(g))a.push(g);else if(cv(g)){const v=new Promise((w,D)=>{g.subscribe({complete:w,error:D})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Je(ph,8))},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const y0=new Sn("AppId",{providedIn:"root",factory:function Mc(){return`${al()}${al()}${al()}`}});function al(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ey=new Sn("Platform Initializer"),gh=new Sn("Platform ID"),_0=new Sn("appBootstrapListener");let fp=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();const ty=new Sn("LocaleId",{providedIn:"root",factory:()=>Pt(ty,ht.Optional|ht.SkipSelf)||function pp(){return"undefined"!=typeof $localize&&$localize.locale||Zd}()}),Qb=new Sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Rn{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let ny=(()=>{class s{compileModuleSync(a){return new Jv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=m(pn(a).declarations).reduce((v,w)=>{const D=Kt(w);return D&&v.push(new Bm(D)),v},[]);return new Rn(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ry=(()=>Promise.resolve(0))();function xc(s){"undefined"==typeof Zone?ry.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Bo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Is(!1),this.onMicrotaskEmpty=new Is(!1),this.onStable=new Is(!1),this.onError=new Is(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function Jb(){let s=Ht.requestAnimationFrame,o=Ht.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Xb(s){const o=()=>{!function PT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ht,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,iu(s),s.isCheckStableRunning=!0,E0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),iu(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,v,w)=>{try{return eD(s),a.invokeTask(d,g,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),mh(s)}},onInvoke:(a,l,d,g,v,w,D)=>{try{return eD(s),a.invoke(d,g,v,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),mh(s)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,iu(s),E0(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Bo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,ru,_a,_a);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const ru={};function E0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function iu(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function eD(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function mh(s){s._nesting--,E0(s)}class iy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Is,this.onMicrotaskEmpty=new Is,this.onStable=new Is,this.onError=new Is}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}let mp=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bo.assertNotInAngularZone(),xc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xc(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Je(Bo))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})(),qr=(()=>{class s{constructor(){this._applications=new Map,w0.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return w0.findTestabilityInTree(this,a,l)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();class FT{addToWindow(o){}findTestabilityInTree(o,a,l){return null}}function LT(s){w0=s}let uo,w0=new FT;const tD=new Sn("AllowMultipleToken");class ul{constructor(o,a){this.name=o,this.token=a}}function nD(s,o,a=[]){const l=`Platform: ${o}`,d=new Sn(l);return(g=[])=>{let v=Ea();if(!v||v.injector.get(tD,!1))if(s)s(a.concat(g).concat({provide:d,useValue:!0}));else{const w=a.concat(g).concat({provide:d,useValue:!0},{provide:Kg,useValue:"platform"});!function yh(s){if(uo&&!uo.destroyed&&!uo.injector.get(tD,!1))throw new Pe(400,"");uo=s.get(b0);const o=s.get(ey,null);o&&o.forEach(a=>a())}(ha.create({providers:w,name:l}))}return function rD(s){const o=Ea();if(!o)throw new Pe(401,"");return o}()}}function Ea(){return uo&&!uo.destroyed?uo:null}let b0=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function _h(s,o){let a;return a="noop"===s?new iy:("zone.js"===s?void 0:s)||new Bo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),D=[{provide:Bo,useValue:w}];return w.run(()=>{const A=ha.create({providers:D,parent:this.injector,name:a.moduleType.name}),x=a.create(A),P=x.injector.get(Rr,null);if(!P)throw new Pe(402,"");return w.runOutsideAngular(()=>{const U=w.onError.subscribe({next:Z=>{P.handleError(Z)}});x.onDestroy(()=>{vp(this._modules,x),U.unsubscribe()})}),function sy(s,o,a){try{const l=a();return yc(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(P,w,()=>{const U=x.injector.get(va);return U.runInitializers(),U.donePromise.then(()=>(function tT(s){ct(s,"Expected localeId to be defined"),"string"==typeof s&&(Jw=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(ty,Zd)||Zd),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,l=[]){const d=yp({},l);return function VT(s,o,a){const l=new Jv(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(_p);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Pe(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Je(ha))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})();function yp(s,o){return Array.isArray(o)?o.reduce(yp,s):Object.assign(Object.assign({},s),o)}let _p=(()=>{class s{constructor(a,l,d,g,v){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new O.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),D=new O.y(A=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Bo.assertNotInAngularZone(),xc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{x.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ue.T)(w,D.pipe((0,X.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Pe(405,"");let d;d=a instanceof Fm?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const g=function BT(s){return s.isBoundToModule}(d)?void 0:this._injector.get(ah),w=d.create(ha.NULL,[],l||d.selector,g),D=w.location.nativeElement,A=w.injector.get(mp,null),x=A&&w.injector.get(qr);return A&&x&&x.registerApplication(D,A),w.onDestroy(()=>{this.detachView(w.hostView),vp(this.components,w),x&&x.unregisterApplication(D)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Pe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;vp(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(_0,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(Je(Bo),Je(ha),Je(Rr),Je(ao),Je(va))},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function vp(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Ts=!0,D0=!1;function Ep(){return D0=!0,Ts}function iD(){if(D0)throw new Error("Cannot enable prod mode after platform setup.");Ts=!1}let aD=(()=>{class s{}return s.__NG_ELEMENT_ID__=jT,s})();function jT(s){return function uD(s,o,a){if(Ls(s)&&!a){const l=Tr(s.index,o);return new ep(l,l)}return 47&s.type?new ep(o[16],o):null}(wn(),Ce(),16==(16&s))}class hD{constructor(){}supports(o){return Rf(o)}create(o){return new pD(o)}}const fD=(s,o)=>o;class pD{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||fD}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<R0(l,d,g)?a:l,w=R0(v,d,g),D=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const A=w-d,x=D-d;if(A!=x){for(let U=0;U<A;U++){const Z=U<g.length?g[U]:g[U]=0,ye=Z+U;x<=ye&&ye<A&&(g[U]=Z+1)}g[v.previousIndex]=x-A}}w!==D&&o(v,w,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Rf(o))throw new Pe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)g=o[w],v=this._trackByFn(w,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,w)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,w),l=!0),a=a._next}else d=0,function hw(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Od()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,w=>{v=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,w,v,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,v,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new bp(a,l),g,d),o}_verifyReinsertion(o,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new x0),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new x0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class bp{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Oc{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class x0{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new Oc,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function R0(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class N0{constructor(){}supports(o){return o instanceof Map||fw(o)}create(){return new Dp}}class Dp{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||fw(o)))throw new Pe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const l=new O0(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class O0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function gD(){return new tr([new hD])}let tr=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||gD()),deps:[[s,new Mo,new pi]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Pe(901,"")}}return s.\u0275prov=on({token:s,providedIn:"root",factory:gD}),s})();function k0(){return new ly([new N0])}let ly=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||k0()),deps:[[s,new Mo,new pi]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new Pe(901,"")}}return s.\u0275prov=on({token:s,providedIn:"root",factory:k0}),s})();const mD=nD(null,"core",[{provide:gh,useValue:"unknown"},{provide:b0,deps:[ha]},{provide:qr,deps:[]},{provide:fp,deps:[]}]);let Eh=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Je(_p))},s.\u0275mod=Q({type:s}),s.\u0275inj=en({}),s})()},3942:(lt,Ae,k)=>{k.d(Ae,{Z:()=>Pe});var f=k(2090),Y=k(4859),O=k(9681),ue=k(1877);class X{constructor(fe,be){this._delegate=fe,this.firebase=be,(0,O._addComponent)(fe,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(fe,be=O._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(fe);return!Ye.isInitialized()&&"EXPLICIT"===(null===(nt=Ye.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:be})}_removeServiceInstance(fe,be=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(be)}_addComponent(fe){(0,O._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,O._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ce(){const Ve=function he(Ve){const fe={},be={__esModule:!0,initializeApp:function Ie($e,te={}){const W=O.initializeApp($e,te);if((0,f.r3)(fe,W.name))return fe[W.name];const ie=new Ve(W,be);return fe[W.name]=ie,ie},app:Ye,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function Ee($e){const te=$e.name,W=te.replace("-compat","");if(O._registerComponent($e)&&"PUBLIC"===$e.type){const ie=(me=Ye())=>{if("function"!=typeof me[W])throw re.create("invalid-app-argument",{appName:te});return me[W]()};void 0!==$e.serviceProps&&(0,f.ZB)(ie,$e.serviceProps),be[W]=ie,Ve.prototype[W]=function(...me){return this._getService.bind(this,te).apply(this,$e.multipleInstances?me:[])}}return"PUBLIC"===$e.type?be[W]:null},removeApp:function nt($e){delete fe[$e]},useAsService:function Ge($e,te){return"serverAuth"===te?null:te},modularAPIs:O}};function Ye($e){if(!(0,f.r3)(fe,$e=$e||O._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:$e});return fe[$e]}return be.default=be,Object.defineProperty(be,"apps",{get:function _e(){return Object.keys(fe).map($e=>fe[$e])}}),Ye.App=Ve,be}(X);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function fe(be){(0,f.ZB)(Ve,be)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Ve}(),H=new ue.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=$;!function Me(Ve){(0,O.registerVersion)("@firebase/app-compat","0.1.21",Ve)}()},9681:(lt,Ae,k)=>{k.r(Ae),k.d(Ae,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>Or,_DEFAULT_ENTRY_NAME:()=>Nn,_addComponent:()=>dn,_addOrOverwriteComponent:()=>Mi,_apps:()=>vt,_clearComponents:()=>zt,_components:()=>cn,_getProvider:()=>us,_registerComponent:()=>on,_removeServiceInstance:()=>en,deleteApp:()=>cs,getApp:()=>kr,getApps:()=>ls,initializeApp:()=>Ki,onLog:()=>rr,registerVersion:()=>Wr,setLogLevel:()=>Qn});var f=k(5861),Y=k(4859),O=k(1877),ue=k(2090);class X{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(Xe=>{if(function ge(Qe){const Te=Qe.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(Xe)){const pt=Xe.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(Xe=>Xe).join(" ")}}const re="@firebase/app",ce=new O.Yd("@firebase/app"),Nn="[DEFAULT]",ct={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vt=new Map,cn=new Map;function dn(Qe,Te){try{Qe.container.addComponent(Te)}catch(Xe){ce.debug(`Component ${Te.name} failed to register with FirebaseApp ${Qe.name}`,Xe)}}function Mi(Qe,Te){Qe.container.addOrOverwriteComponent(Te)}function on(Qe){const Te=Qe.name;if(cn.has(Te))return ce.debug(`There were multiple attempts to register component ${Te}.`),!1;cn.set(Te,Qe);for(const Xe of vt.values())dn(Xe,Qe);return!0}function us(Qe,Te){const Xe=Qe.container.getProvider("heartbeat").getImmediate({optional:!0});return Xe&&Xe.triggerHeartbeat(),Qe.container.getProvider(Te)}function en(Qe,Te,Xe=Nn){us(Qe,Te).clearInstance(Xe)}function zt(){cn.clear()}const ri=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ns{constructor(Te,Xe,pt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},Xe),this._name=Xe.name,this._automaticDataCollectionEnabled=Xe.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}const Or="9.6.10";function Ki(Qe,Te={}){"object"!=typeof Te&&(Te={name:Te});const Xe=Object.assign({name:Nn,automaticDataCollectionEnabled:!1},Te),pt=Xe.name;if("string"!=typeof pt||!pt)throw ri.create("bad-app-name",{appName:String(pt)});const jt=vt.get(pt);if(jt){if((0,ue.vZ)(Qe,jt.options)&&(0,ue.vZ)(Xe,jt.config))return jt;throw ri.create("duplicate-app",{appName:pt})}const Vt=new Y.H0(pt);for(const V of cn.values())Vt.addComponent(V);const j=new Ns(Qe,Xe,Vt);return vt.set(pt,j),j}function kr(Qe=Nn){const Te=vt.get(Qe);if(!Te)throw ri.create("no-app",{appName:Qe});return Te}function ls(){return Array.from(vt.values())}function cs(Qe){return ht.apply(this,arguments)}function ht(){return(ht=(0,f.Z)(function*(Qe){const Te=Qe.name;vt.has(Te)&&(vt.delete(Te),yield Promise.all(Qe.container.getProviders().map(Xe=>Xe.delete())),Qe.isDeleted=!0)})).apply(this,arguments)}function Wr(Qe,Te,Xe){var pt;let jt=null!==(pt=ct[Qe])&&void 0!==pt?pt:Qe;Xe&&(jt+=`-${Xe}`);const Vt=jt.match(/\s|\//),j=Te.match(/\s|\//);if(Vt||j){const V=[`Unable to register library "${jt}" with version "${Te}":`];return Vt&&V.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),Vt&&j&&V.push("and"),j&&V.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void ce.warn(V.join(" "))}on(new Y.wA(`${jt}-version`,()=>({library:jt,version:Te}),"VERSION"))}function rr(Qe,Te){if(null!==Qe&&"function"!=typeof Qe)throw ri.create("invalid-log-argument");(0,O.Am)(Qe,Te)}function Qn(Qe){(0,O.Ub)(Qe)}const En="firebase-heartbeat-store";let ir=null;function Os(){return ir||(ir=(0,ue.X3)("firebase-heartbeat-database",1,(Qe,Te)=>{0===Te&&Qe.createObjectStore(En)}).catch(Qe=>{throw ri.create("storage-open",{originalErrorMessage:Qe.message})})),ir}function Wt(){return(Wt=(0,f.Z)(function*(Qe){try{return(yield Os()).transaction(En).objectStore(En).get(hr(Qe))}catch(Te){throw ri.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function at(Qe,Te){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,f.Z)(function*(Qe,Te){try{const pt=(yield Os()).transaction(En,"readwrite");return yield pt.objectStore(En).put(Te,hr(Qe)),pt.complete}catch(Xe){throw ri.create("storage-set",{originalErrorMessage:Xe.message})}})).apply(this,arguments)}function hr(Qe){return`${Qe.name}!${Qe.options.appId}`}class ho{constructor(Te){this.container=Te,this._heartbeatsCache=null;const Xe=this.container.getProvider("app").getImmediate();this._storage=new ft(Xe),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var Te=this;return(0,f.Z)(function*(){const pt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=Er();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==jt&&!Te._heartbeatsCache.heartbeats.some(Vt=>Vt.date===jt))return Te._heartbeatsCache.heartbeats.push({date:jt,agent:pt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Vt=>{const j=new Date(Vt.date).valueOf();return Date.now()-j<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,f.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const Xe=Er(),{heartbeatsToSend:pt,unsentEntries:jt}=function fr(Qe,Te=1024){const Xe=[];let pt=Qe.slice();for(const jt of Qe){const Vt=Xe.find(j=>j.agent===jt.agent);if(Vt){if(Vt.dates.push(jt.date),wr(Xe)>Te){Vt.dates.pop();break}}else if(Xe.push({agent:jt.agent,dates:[jt.date]}),wr(Xe)>Te){Xe.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:Xe,unsentEntries:pt}}(Te._heartbeatsCache.heartbeats),Vt=(0,ue.L)(JSON.stringify({version:2,heartbeats:pt}));return Te._heartbeatsCache.lastSentHeartbeatDate=Xe,jt.length>0?(Te._heartbeatsCache.heartbeats=jt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Vt})()}}function Er(){return(new Date).toISOString().substring(0,10)}class ft{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ue.hl)()&&(0,ue.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,f.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function Ca(Qe){return Wt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var Xe=this;return(0,f.Z)(function*(){var pt;if(yield Xe._canUseIndexedDBPromise){const Vt=yield Xe.read();return at(Xe.app,{lastSentHeartbeatDate:null!==(pt=Te.lastSentHeartbeatDate)&&void 0!==pt?pt:Vt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var Xe=this;return(0,f.Z)(function*(){var pt;if(yield Xe._canUseIndexedDBPromise){const Vt=yield Xe.read();return at(Xe.app,{lastSentHeartbeatDate:null!==(pt=Te.lastSentHeartbeatDate)&&void 0!==pt?pt:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...Te.heartbeats]})}})()}}function wr(Qe){return(0,ue.L)(JSON.stringify({version:2,heartbeats:Qe})).length}!function Ut(Qe){on(new Y.wA("platform-logger",Te=>new X(Te),"PRIVATE")),on(new Y.wA("heartbeat",Te=>new ho(Te),"PRIVATE")),Wr(re,"0.7.20",Qe),Wr(re,"0.7.20","esm2017"),Wr("fire-js","")}("")},4859:(lt,Ae,k)=>{k.d(Ae,{wA:()=>O,H0:()=>he});var f=k(5861),Y=k(2090);class O{constructor($,H,J){this.name=$,this.instanceFactory=H,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ue="[DEFAULT]";class X{constructor($,H){this.name=$,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const H=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(H)){const J=new Y.BH;if(this.instancesDeferred.set(H,J),this.isInitialized(H)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:H});ze&&J.resolve(ze)}catch(ze){}}return this.instancesDeferred.get(H).promise}getImmediate($){var H;const J=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),ze=null!==(H=null==$?void 0:$.optional)&&void 0!==H&&H;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Me){if(ze)return null;throw Me}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function re(ce){return"EAGER"===ce.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(H){}for(const[H,J]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(H);try{const Me=this.getOrInitializeService({instanceIdentifier:ze});J.resolve(Me)}catch(Me){}}}}clearInstance($=ue){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,f.Z)(function*(){const H=Array.from($.instances.values());yield Promise.all([...H.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...H.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ue){return this.instances.has($)}getOptions($=ue){return this.instancesOptions.get($)||{}}initialize($={}){const{options:H={}}=$,J=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:J,options:H});for(const[Me,Pe]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Me)&&Pe.resolve(ze);return ze}onInit($,H){var J;const ze=this.normalizeInstanceIdentifier(H),Me=null!==(J=this.onInitCallbacks.get(ze))&&void 0!==J?J:new Set;Me.add($),this.onInitCallbacks.set(ze,Me);const Pe=this.instances.get(ze);return Pe&&$(Pe,ze),()=>{Me.delete($)}}invokeOnInitCallbacks($,H){const J=this.onInitCallbacks.get(H);if(J)for(const ze of J)try{ze($,H)}catch(Me){}}getOrInitializeService({instanceIdentifier:$,options:H={}}){let J=this.instances.get($);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=$,ce===ue?void 0:ce),options:H}),this.instances.set($,J),this.instancesOptions.set($,H),this.invokeOnInitCallbacks(J,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,J)}catch(ze){}var ce;return J||null}normalizeInstanceIdentifier($=ue){return this.component?this.component.multipleInstances?$:ue:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor($){this.name=$,this.providers=new Map}addComponent($){const H=this.getProvider($.name);if(H.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);H.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const H=new X($,this);return this.providers.set($,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,Ae,k)=>{k.d(Ae,{in:()=>Y,Yd:()=>re,Ub:()=>he,Am:()=>ce});const f=[];var Y=(()=>{return($=Y||(Y={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Y;var $})();const O={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},ue=Y.INFO,X={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},ge=($,H,...J)=>{if(H<$.logLevel)return;const ze=(new Date).toISOString(),Me=X[H];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[Me](`[${ze}]  ${$.name}:`,...J)};class re{constructor(H){this.name=H,this._logLevel=ue,this._logHandler=ge,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Y))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...H),this._logHandler(this,Y.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...H),this._logHandler(this,Y.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...H),this._logHandler(this,Y.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...H),this._logHandler(this,Y.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...H),this._logHandler(this,Y.ERROR,...H)}}function he($){f.forEach(H=>{H.setLogLevel($)})}function ce($,H){for(const J of f){let ze=null;H&&H.level&&(ze=O[H.level]),J.userLogHandler=null===$?null:(Me,Pe,...Ve)=>{const fe=Ve.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch(nt){return null}}).filter(be=>be).join(" ");Pe>=(null!=ze?ze:Me.logLevel)&&$({level:Y[Pe].toLowerCase(),message:fe,args:Ve,type:Me.name})}}}},5861:(lt,Ae,k)=>{function f(O,ue,X,ge,re,he,ce){try{var $=O[he](ce),H=$.value}catch(J){return void X(J)}$.done?ue(H):Promise.resolve(H).then(ge,re)}function Y(O){return function(){var ue=this,X=arguments;return new Promise(function(ge,re){var he=O.apply(ue,X);function ce(H){f(he,ge,re,ce,$,"next",H)}function $(H){f(he,ge,re,ce,$,"throw",H)}ce(void 0)})}}k.d(Ae,{Z:()=>Y})}},lt=>{lt(lt.s=8742)}]);